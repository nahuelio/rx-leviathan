{"version":3,"file":"backbone-leviathan.js","sources":["../lib/core/core.js","../lib/store/store.js","../lib/dom/dom.js","../lib/backbone-leviathan.js"],"sourcesContent":["/**\r\n * BackboneLeviathan Core\r\n * @author Patricio Ferreira <3dimentionar@gmail.com>\r\n */\r\nimport _ from 'underscore';\r\n\r\n/**\r\n * @class {Leviathan.Core}\r\n */\r\nexport class Core {\r\n\t/**\r\n\t * @type {Leviathan.LeviathanFactoryElement[]}\r\n\t */\r\n\tstatic _factory = [];\r\n\r\n\t/**\r\n\t * Decorator used to register artifact with instance name.\r\n\t * This decorator will make an artifact to register itself for later retrieval.\r\n\t *\r\n\t * @example\r\n\t *  <caption>Example Registering a Leviathan View</caption>\r\n\t * \t<pre>\r\n\t * \t    @Leviathan.register({ store: SomeStore })\r\n\t * \t    class MyView extends Leviathan.View { ... }\r\n\t * \t</pre>\r\n\t * \tor\r\n\t * \t<caption>Example Registering a Leviathan Store</caption>\r\n\t * \t<pre>\r\n\t * \t    @Leviathan.register()\r\n\t * \t    class MyStore extends Leviathan.Store { ... }\r\n\t * \t</pre>\r\n\t * @param {Leviathan.LeviathanElementCtor} ctor\r\n\t * @returns {Leviathan.LeviathanElementCtor}\r\n\t */\r\n\tstatic register(ctor) {\r\n\t\t// TODO\r\n\t\treturn ctor;\r\n\t}\r\n\r\n\t/**\r\n\t * Retrieve registered artifact by a given name\r\n\t * @param {string} [name]\r\n\t * @returns {Maybe<Leviathan.LeviathanElements>}\r\n\t */\r\n\tstatic get(name) {\r\n\t\tconst found = !_.isNull(name) ? Core._factory.find(\r\n\t\t\t(factoryElement) => {\r\n\t\t\treturn factoryElement.name === name;\r\n\t\t}) : null;\r\n\t\treturn found ? found.instance : null;\r\n\t}\r\n};\r\n","/**\r\n * Backbone Leviathan Store\r\n * @author Patricio Ferreira <3dimentionar@gmail.com>\r\n */\r\nimport _ from 'underscore';\r\n\r\n/**\r\n * @class {Leviathan.Store}\r\n */\r\nexport class Store {\r\n\t/**\r\n\t * @readonly\r\n\t * @type {Maybe<Leviathan.State<{}>>}\r\n\t */\r\n\tstate = null;\r\n\r\n\t/**\r\n\t * @constructor\r\n\t * @param {Maybe<Leviathan.State<{}>>} initial\r\n\t */\r\n\tconstructor(initial) {\r\n\t\tObject.assign(this, { state: initial || null });\r\n\t}\r\n\r\n\t/**\r\n\t * Dispatches an action with a given name and optionally passing parameters.\r\n\t * @this {Store}\r\n\t * @param {Leviathan.StoreAction} name\r\n\t * @param {any[]} params\r\n\t * @returns {Store}\r\n\t */\r\n\tdispatch(name, ...params) {\r\n\t\tif (this[name] && _.isFunction(this[name])) {\r\n\t\t\t// @ts-ignore\r\n\t\t\tthis[name](...params);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n}\r\n","/**\r\n * Backbone BackboneLeviathan DOM\r\n * @author Patricio Ferreira <3dimentionar@gmail.com>\r\n */\r\n/**\r\n * @class {Leviathan.DOM}\r\n */\r\nexport class DOM {\r\n\t/**\r\n\t * Factory for instantiating JSX.LeviathanElement\r\n\t * @param {JSX.LeviathanElementSignature} name\r\n\t * @param {Maybe<any>} props\r\n\t * @param {Maybe<View>} children\r\n\t * @returns {Maybe<View>}\r\n\t */\r\n\tstatic create(name, props, children) {\r\n\t\t// TODO\r\n\t\treturn null;\r\n\t}\r\n\r\n\t/**\r\n\t * DOM Server Render\r\n\t * @param {HTMLElement} dom\r\n\t * @param {JSX.LeviathanElementSignature} element;\r\n\t * @returns {string}\r\n\t */\r\n\tstatic render(dom, element) {\r\n\t\t// TODO: Render initial state\r\n\t\t// Leviathan.Core.render(document.getElementById('root'), <[Leviathan.View|JSX.Element] />);\r\n\t\treturn '';\r\n\t}\r\n};\r\n\r\n/**\r\n * @class {Leviathan.View<Leviathan.Props, Leviathan.Store>}\r\n */\r\nexport class View {\r\n\t_props = {};\r\n\t_store = null;\r\n\r\n\t/**\r\n\t * @readonly\r\n\t * @property {Leviathan.Props}\r\n\t */\r\n\tget props() {\r\n\t\treturn this._props;\r\n\t}\r\n\r\n\t/**\r\n\t * @readonly\r\n\t * @type {Leviathan.Store}\r\n\t */\r\n\tget store() {\r\n\t\treturn this._store;\r\n\t}\r\n\r\n\t/**\r\n\t * @constructor\r\n\t * @param {Leviathan.Maybe<Leviathan.Props>} props\r\n\t */\r\n\tconstructor(props) {\r\n\t\tObject.assign(this, { props: props || {} });\r\n\t}\r\n\r\n\t/**\r\n\t * Default strategy to render a view\r\n\t * @returns {Maybe<JSX.LeviathanElement>}\r\n\t */\r\n\trender() {\r\n\t\treturn null;\r\n\t}\r\n}\r\n","/**\n * Backbone Leviathan\n * @author Patricio Ferreira <3dimentionar@gmail.com>\n *\n * @description\n * \tLeviathan is an experimental expansion that augments Backbone's capabilities.\n */\nimport Backbone from 'backbone';\nimport { Core } from './core/core';\nimport { Store } from './store/store';\nimport { DOM, View } from './dom/dom';\n\nexport default Object.assign(Backbone, {\n\tLeviathan: {\n\t\tNAME: process.env.npm_package_name,\n\t\tVERSION: process.env.npm_package_version,\n\t\tCore,\n\t\tStore,\n\t\tView,\n\t\tDOM\n\t}\n});\n\nexport const NAME = Backbone.Leviathan.NAME;\nexport const VERSION = Backbone.Leviathan.VERSION;\nexport { Core, Store, View, DOM };\n"],"names":["Core","ctor","name","found","_","isNull","_factory","find","factoryElement","instance","Store","initial","Object","assign","state","isFunction","params","DOM","props","children","dom","element","View","_props","_store","Backbone","Leviathan","NAME","VERSION"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAMA;;;;MAGaA,IAAb;EAAA;EAAA;EAAA;;EAAA;EAAA;;EACC;;;;EAKA;;;;;;;;;;;;;;;;;;;EAND,6BAyBiBC,IAzBjB,EAyBuB;EACrB;EACA,aAAOA,IAAP;EACA;EAED;;;;;;EA9BD;EAAA;EAAA,wBAmCYC,IAnCZ,EAmCkB;EAChB,UAAMC,KAAK,GAAG,CAACC,CAAC,CAACC,MAAF,CAASH,IAAT,CAAD,GAAkBF,IAAI,CAACM,QAAL,CAAcC,IAAd,CAC/B,UAACC,cAAD,EAAoB;EACpB,eAAOA,cAAc,CAACN,IAAf,KAAwBA,IAA/B;EACA,OAH+B,CAAlB,GAGT,IAHL;EAIA,aAAOC,KAAK,GAAGA,KAAK,CAACM,QAAT,GAAoB,IAAhC;EACA;EAzCF;;EAAA;EAAA;;kBAAaT,kBAIM;;ECPnB;;;;MAGaU,KAAb;EACC;;;;;EAMA;;;;EAIA,iBAAYC,OAAZ,EAAqB;EAAA;;EAAA,mCANb,IAMa;;EACpBC,IAAAA,MAAM,CAACC,MAAP,CAAc,IAAd,EAAoB;EAAEC,MAAAA,KAAK,EAAEH,OAAO,IAAI;EAApB,KAApB;EACA;EAED;;;;;;;;;EAfD;EAAA;EAAA,6BAsBUT,IAtBV,EAsB2B;EACzB,UAAI,KAAKA,IAAL,KAAcE,CAAC,CAACW,UAAF,CAAa,KAAKb,IAAL,CAAb,CAAlB,EAA4C;EAAA,0CAD3Bc,MAC2B;EAD3BA,UAAAA,MAC2B;EAAA;;EAC3C;EACA,aAAKd,IAAL,cAAcc,MAAd;EACA;;EACD,aAAO,IAAP;EACA;EA5BF;;EAAA;EAAA;;ECTA;;;;;EAIA;;;MAGaC,GAAb;EAAA;EAAA;EAAA;;EAAA;EAAA;;EACC;;;;;;;EADD,2BAQef,IARf,EAQqBgB,KARrB,EAQ4BC,QAR5B,EAQsC;EACpC;EACA,aAAO,IAAP;EACA;EAED;;;;;;;EAbD;EAAA;EAAA,2BAmBeC,GAnBf,EAmBoBC,OAnBpB,EAmB6B;EAC3B;EACA;EACA,aAAO,EAAP;EACA;EAvBF;;EAAA;EAAA;EA0BA;;;;MAGaC,IAAb;EAAA;EAAA;;EAIC;;;;EAJD,wBAQa;EACX,aAAO,KAAKC,MAAZ;EACA;EAED;;;;;EAZD;EAAA;EAAA,wBAgBa;EACX,aAAO,KAAKC,MAAZ;EACA;EAED;;;;;EApBD;;EAwBC,gBAAYN,KAAZ,EAAmB;EAAA;;EAAA,oCAvBV,EAuBU;;EAAA,oCAtBV,IAsBU;;EAClBN,IAAAA,MAAM,CAACC,MAAP,CAAc,IAAd,EAAoB;EAAEK,MAAAA,KAAK,EAAEA,KAAK,IAAI;EAAlB,KAApB;EACA;EAED;;;;;;EA5BD;EAAA;EAAA,6BAgCU;EACR,aAAO,IAAP;EACA;EAlCF;;EAAA;EAAA;;ECpCA;;;;;;;AAYA,0BAAeN,MAAM,CAACC,MAAP,CAAcY,QAAd,EAAwB;EACtCC,EAAAA,SAAS,EAAE;EACVC,IAAAA,IAAI,EAAE,8BADI;EAEVC,IAAAA,OAAO,EAAE,OAFC;EAGV5B,IAAAA,IAAI,EAAJA,IAHU;EAIVU,IAAAA,KAAK,EAALA,KAJU;EAKVY,IAAAA,IAAI,EAAJA,IALU;EAMVL,IAAAA,GAAG,EAAHA;EANU;EAD2B,CAAxB,CAAf;MAWaU,IAAI,GAAGF,QAAQ,CAACC,SAAT,CAAmBC;MAC1BC,OAAO,GAAGH,QAAQ,CAACC,SAAT,CAAmBE;;;;;;;;;;;;;;;;;;"}