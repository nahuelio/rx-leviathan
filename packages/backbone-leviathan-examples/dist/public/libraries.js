"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t,e=(t=require("jquery"))&&"object"==typeof t&&"default"in t?t.default:t,n="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},r=Array.prototype,i=Object.prototype,s="undefined"!=typeof Symbol?Symbol.prototype:null,o=r.push,a=r.slice,u=i.toString,c=i.hasOwnProperty,l=Array.isArray,h=Object.keys,f=Object.create,d=n.isNaN,p=n.isFinite,v=function(){};function g(t){return t instanceof g?t:this instanceof g?void(this._wrapped=t):new g(t)}var m=g.VERSION="1.10.2";function y(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,s){return t.call(e,n,r,i,s)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return null==t?Ce:_e(t)?y(t,e,n):me(t)&&!ge(t)?qe(t):Ue(t)}function b(t,e){return _(t,e,1/0)}function x(t,e,n){return g.iteratee!==b?g.iteratee(t,e):_(t,e,n)}function w(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var s=Array(e+1);for(i=0;i<e;i++)s[i]=arguments[i];return s[e]=r,t.apply(this,s)}}function E(t){if(!me(t))return{};if(f)return f(t);v.prototype=t;var e=new v;return v.prototype=null,e}function S(t){return function(e){return null==e?void 0:e[t]}}function j(t,e){return null!=t&&c.call(t,e)}function k(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}g.iteratee=b;var I=Math.pow(2,53)-1,A=S("length");function O(t){var e=A(t);return"number"==typeof e&&e>=0&&e<=I}function M(t,e,n){var r,i;if(e=y(e,n),O(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var s=Dt(t);for(r=0,i=s.length;r<i;r++)e(t[s[r]],s[r],t)}return t}function T(t,e,n){e=x(e,n);for(var r=!O(t)&&Dt(t),i=(r||t).length,s=Array(i),o=0;o<i;o++){var a=r?r[o]:o;s[o]=e(t[a],a,t)}return s}function N(t){var e=function(e,n,r,i){var s=!O(e)&&Dt(e),o=(s||e).length,a=t>0?0:o-1;for(i||(r=e[s?s[a]:a],a+=t);a>=0&&a<o;a+=t){var u=s?s[a]:a;r=n(r,e[u],u,e)}return r};return function(t,n,r,i){var s=arguments.length>=3;return e(t,y(n,i,4),r,s)}}var R=N(1),P=N(-1);function H(t,e,n){var r=(O(t)?bt:ne)(t,e,n);if(void 0!==r&&-1!==r)return t[r]}function $(t,e,n){var r=[];return e=x(e,n),M(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function C(t,e,n){return $(t,zt(x(e)),n)}function z(t,e,n){e=x(e,n);for(var r=!O(t)&&Dt(t),i=(r||t).length,s=0;s<i;s++){var o=r?r[s]:s;if(!e(t[o],o,t))return!1}return!0}function F(t,e,n){e=x(e,n);for(var r=!O(t)&&Dt(t),i=(r||t).length,s=0;s<i;s++){var o=r?r[s]:s;if(e(t[o],o,t))return!0}return!1}function U(t,e,n,r){return O(t)||(t=Kt(t)),("number"!=typeof n||r)&&(n=0),St(t,e,n)>=0}var B=w((function(t,e,n){var r,i;return _e(e)?i=e:ge(e)&&(r=e.slice(0,-1),e=e[e.length-1]),T(t,(function(t){var s=i;if(!s){if(r&&r.length&&(t=k(t,r)),null==t)return;s=t[e]}return null==s?s:s.apply(t,n)}))}));function q(t,e){return T(t,Ue(e))}function L(t,e){return $(t,qe(e))}function J(t,e){return H(t,qe(e))}function W(t,e,n){var r,i,s=-1/0,o=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,u=(t=O(t)?t:Kt(t)).length;a<u;a++)null!=(r=t[a])&&r>s&&(s=r);else e=x(e,n),M(t,(function(t,n,r){((i=e(t,n,r))>o||i===-1/0&&s===-1/0)&&(s=t,o=i)}));return s}function D(t,e,n){var r,i,s=1/0,o=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,u=(t=O(t)?t:Kt(t)).length;a<u;a++)null!=(r=t[a])&&r<s&&(s=r);else e=x(e,n),M(t,(function(t,n,r){((i=e(t,n,r))<o||i===1/0&&s===1/0)&&(s=t,o=i)}));return s}function V(t){return K(t,1/0)}function K(t,e,n){if(null==e||n)return O(t)||(t=Kt(t)),t[Je(t.length-1)];var r=O(t)?ue(t):Kt(t),i=A(r);e=Math.max(Math.min(e,i),0);for(var s=i-1,o=0;o<e;o++){var a=Je(o,s),u=r[o];r[o]=r[a],r[a]=u}return r.slice(0,e)}function G(t,e,n){var r=0;return e=x(e,n),q(T(t,(function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")}function X(t,e){return function(n,r,i){var s=e?[[],[]]:{};return r=x(r,i),M(n,(function(e,i){var o=r(e,i,n);t(s,e,o)})),s}}var Q=X((function(t,e,n){j(t,n)?t[n].push(e):t[n]=[e]})),Y=X((function(t,e,n){t[n]=e})),Z=X((function(t,e,n){j(t,n)?t[n]++:t[n]=1})),tt=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function et(t){return t?ge(t)?a.call(t):be(t)?t.match(tt):O(t)?T(t,Ce):Kt(t):[]}function nt(t){return null==t?0:O(t)?t.length:Dt(t).length}var rt=X((function(t,e,n){t[n?0:1].push(e)}),!0);function it(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:st(t,t.length-e)}function st(t,e,n){return a.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function ot(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:at(t,Math.max(0,t.length-e))}function at(t,e,n){return a.call(t,null==e||n?1:e)}function ut(t){return $(t,Boolean)}function ct(t,e,n,r){for(var i=(r=r||[]).length,s=0,o=A(t);s<o;s++){var a=t[s];if(O(a)&&(ge(a)||ye(a)))if(e)for(var u=0,c=a.length;u<c;)r[i++]=a[u++];else ct(a,e,n,r),i=r.length;else n||(r[i++]=a)}return r}function lt(t,e){return ct(t,e,!1)}var ht=w((function(t,e){return vt(t,e)}));function ft(t,e,n,r){Re(e)||(r=n,n=e,e=!1),null!=n&&(n=x(n,r));for(var i=[],s=[],o=0,a=A(t);o<a;o++){var u=t[o],c=n?n(u,o,t):u;e&&!n?(o&&s===c||i.push(u),s=c):n?U(s,c)||(s.push(c),i.push(u)):U(i,u)||i.push(u)}return i}var dt=w((function(t){return ft(ct(t,!0,!0))}));function pt(t){for(var e=[],n=arguments.length,r=0,i=A(t);r<i;r++){var s=t[r];if(!U(e,s)){var o;for(o=1;o<n&&U(arguments[o],s);o++);o===n&&e.push(s)}}return e}var vt=w((function(t,e){return e=ct(e,!0,!0),$(t,(function(t){return!U(e,t)}))}));function gt(t){for(var e=t&&W(t,A).length||0,n=Array(e),r=0;r<e;r++)n[r]=q(t,r);return n}var mt=w(gt);function yt(t,e){for(var n={},r=0,i=A(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function _t(t){return function(e,n,r){n=x(n,r);for(var i=A(e),s=t>0?0:i-1;s>=0&&s<i;s+=t)if(n(e[s],s,e))return s;return-1}}var bt=_t(1),xt=_t(-1);function wt(t,e,n,r){for(var i=(n=x(n,r,1))(e),s=0,o=A(t);s<o;){var a=Math.floor((s+o)/2);n(t[a])<i?s=a+1:o=a}return s}function Et(t,e,n){return function(r,i,s){var o=0,u=A(r);if("number"==typeof s)t>0?o=s>=0?s:Math.max(s+u,o):u=s>=0?Math.min(s+1,u):s+u+1;else if(n&&s&&u)return r[s=n(r,i)]===i?s:-1;if(i!=i)return(s=e(a.call(r,o,u),Ne))>=0?s+o:-1;for(s=t>0?o:u-1;s>=0&&s<u;s+=t)if(r[s]===i)return s;return-1}}var St=Et(1,bt,wt),jt=Et(-1,xt);function kt(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),s=0;s<r;s++,t+=n)i[s]=t;return i}function It(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(a.call(t,r,r+=e));return n}function At(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var s=E(t.prototype),o=t.apply(s,i);return me(o)?o:s}var Ot=w((function(t,e,n){if(!_e(t))throw new TypeError("Bind must be called on a function");var r=w((function(i){return At(t,r,e,this,n.concat(i))}));return r})),Mt=w((function(t,e){var n=Mt.placeholder,r=function(){for(var i=0,s=e.length,o=Array(s),a=0;a<s;a++)o[a]=e[a]===n?arguments[i++]:e[a];for(;i<arguments.length;)o.push(arguments[i++]);return At(t,r,this,this,o)};return r}));Mt.placeholder=g;var Tt=w((function(t,e){var n=(e=ct(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=Ot(t[r],t)}}));function Nt(t,e){var n=function(r){var i=n.cache,s=""+(e?e.apply(this,arguments):r);return j(i,s)||(i[s]=t.apply(this,arguments)),i[s]};return n.cache={},n}var Rt=w((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),Pt=Mt(Rt,g,1);function Ht(t,e,n){var r,i,s,o,a=0;n||(n={});var u=function(){a=!1===n.leading?0:We(),r=null,o=t.apply(i,s),r||(i=s=null)},c=function(){var c=We();a||!1!==n.leading||(a=c);var l=e-(c-a);return i=this,s=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=null),a=c,o=t.apply(i,s),r||(i=s=null)):r||!1===n.trailing||(r=setTimeout(u,l)),o};return c.cancel=function(){clearTimeout(r),a=0,r=i=s=null},c}function $t(t,e,n){var r,i,s=function(e,n){r=null,n&&(i=t.apply(e,n))},o=w((function(o){if(r&&clearTimeout(r),n){var a=!r;r=setTimeout(s,e),a&&(i=t.apply(this,o))}else r=Rt(s,e,this,o);return i}));return o.cancel=function(){clearTimeout(r),r=null},o}function Ct(t,e){return Mt(e,t)}function zt(t){return function(){return!t.apply(this,arguments)}}function Ft(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function Ut(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function Bt(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var qt=Mt(Bt,2),Lt=!{toString:null}.propertyIsEnumerable("toString"),Jt=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function Wt(t,e){var n=Jt.length,r=t.constructor,s=_e(r)&&r.prototype||i,o="constructor";for(j(t,o)&&!U(e,o)&&e.push(o);n--;)(o=Jt[n])in t&&t[o]!==s[o]&&!U(e,o)&&e.push(o)}function Dt(t){if(!me(t))return[];if(h)return h(t);var e=[];for(var n in t)j(t,n)&&e.push(n);return Lt&&Wt(t,e),e}function Vt(t){if(!me(t))return[];var e=[];for(var n in t)e.push(n);return Lt&&Wt(t,e),e}function Kt(t){for(var e=Dt(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function Gt(t,e,n){e=x(e,n);for(var r=Dt(t),i=r.length,s={},o=0;o<i;o++){var a=r[o];s[a]=e(t[a],a,t)}return s}function Xt(t){for(var e=Dt(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r}function Qt(t){for(var e={},n=Dt(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function Yt(t){var e=[];for(var n in t)_e(t[n])&&e.push(n);return e.sort()}function Zt(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var s=arguments[i],o=t(s),a=o.length,u=0;u<a;u++){var c=o[u];e&&void 0!==n[c]||(n[c]=s[c])}return n}}var te=Zt(Vt),ee=Zt(Dt);function ne(t,e,n){e=x(e,n);for(var r,i=Dt(t),s=0,o=i.length;s<o;s++)if(e(t[r=i[s]],r,t))return r}function re(t,e,n){return e in n}var ie=w((function(t,e){var n={},r=e[0];if(null==t)return n;_e(r)?(e.length>1&&(r=y(r,e[1])),e=Vt(t)):(r=re,e=ct(e,!1,!1),t=Object(t));for(var i=0,s=e.length;i<s;i++){var o=e[i],a=t[o];r(a,o,t)&&(n[o]=a)}return n})),se=w((function(t,e){var n,r=e[0];return _e(r)?(r=zt(r),e.length>1&&(n=e[1])):(e=T(ct(e,!1,!1),String),r=function(t,n){return!U(e,n)}),ie(t,r,n)})),oe=Zt(Vt,!0);function ae(t,e){var n=E(t);return e&&ee(n,e),n}function ue(t){return me(t)?ge(t)?t.slice():te({},t):t}function ce(t,e){return e(t),t}function le(t,e){var n=Dt(e),r=n.length;if(null==t)return!r;for(var i=Object(t),s=0;s<r;s++){var o=n[s];if(e[o]!==i[o]||!(o in i))return!1}return!0}function he(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&function(t,e,n,r){t instanceof g&&(t=t._wrapped);e instanceof g&&(e=e._wrapped);var i=u.call(t);if(i!==u.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return s.valueOf.call(t)===s.valueOf.call(e)}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,c=e.constructor;if(a!==c&&!(_e(a)&&a instanceof a&&_e(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];var l=(n=n||[]).length;for(;l--;)if(n[l]===t)return r[l]===e;if(n.push(t),r.push(e),o){if((l=t.length)!==e.length)return!1;for(;l--;)if(!he(t[l],e[l],n,r))return!1}else{var h,f=Dt(t);if(l=f.length,Dt(e).length!==l)return!1;for(;l--;)if(!j(e,h=f[l])||!he(t[h],e[h],n,r))return!1}return n.pop(),r.pop(),!0}(t,e,n,r)}function fe(t,e){return he(t,e)}function de(t){return null==t||(O(t)&&(ge(t)||be(t)||ye(t))?0===t.length:0===Dt(t).length)}function pe(t){return!(!t||1!==t.nodeType)}function ve(t){return function(e){return u.call(e)==="[object "+t+"]"}}var ge=l||ve("Array");function me(t){var e=typeof t;return"function"===e||"object"===e&&!!t}var ye=ve("Arguments"),_e=ve("Function"),be=ve("String"),xe=ve("Number"),we=ve("Date"),Ee=ve("RegExp"),Se=ve("Error"),je=ve("Symbol"),ke=ve("Map"),Ie=ve("WeakMap"),Ae=ve("Set"),Oe=ve("WeakSet");!function(){ye(arguments)||(ye=function(t){return j(t,"callee")})}();var Me=n.document&&n.document.childNodes;function Te(t){return!je(t)&&p(t)&&!d(parseFloat(t))}function Ne(t){return xe(t)&&d(t)}function Re(t){return!0===t||!1===t||"[object Boolean]"===u.call(t)}function Pe(t){return null===t}function He(t){return void 0===t}function $e(t,e){if(!ge(e))return j(t,e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(null==t||!c.call(t,i))return!1;t=t[i]}return!!n}function Ce(t){return t}function ze(t){return function(){return t}}function Fe(){}function Ue(t){return ge(t)?function(e){return k(e,t)}:S(t)}function Be(t){return null==t?function(){}:function(e){return ge(e)?k(t,e):t[e]}}function qe(t){return t=ee({},t),function(e){return le(e,t)}}function Le(t,e,n){var r=Array(Math.max(0,t));e=y(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r}function Je(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof Me&&(_e=function(t){return"function"==typeof t||!1});var We=Date.now||function(){return(new Date).getTime()},De={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Ve=Qt(De);function Ke(t){var e=function(e){return t[e]},n="(?:"+Dt(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}}var Ge=Ke(De),Xe=Ke(Ve);function Qe(t,e,n){ge(e)||(e=[e]);var r=e.length;if(!r)return _e(n)?n.call(t):n;for(var i=0;i<r;i++){var s=null==t?void 0:t[e[i]];void 0===s&&(s=n,i=r),t=_e(s)?s.call(t):s}return t}var Ye=0;function Ze(t){var e=++Ye+"";return t?t+e:e}var tn=g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},en=/(.)^/,nn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},rn=/\\|'|\r|\n|\u2028|\u2029/g,sn=function(t){return"\\"+nn[t]};function on(t,e,n){!e&&n&&(e=n),e=oe({},e,g.templateSettings);var r,i=RegExp([(e.escape||en).source,(e.interpolate||en).source,(e.evaluate||en).source].join("|")+"|$","g"),s=0,o="__p+='";t.replace(i,(function(e,n,r,i,a){return o+=t.slice(s,a).replace(rn,sn),s=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(o+="';\n"+i+"\n__p+='"),e})),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return r.call(this,t,g)},u=e.variable||"obj";return a.source="function("+u+"){\n"+o+"}",a}function an(t){var e=g(t);return e._chain=!0,e}function un(t,e){return t._chain?g(e).chain():e}function cn(t){return M(Yt(t),(function(e){var n=g[e]=t[e];g.prototype[e]=function(){var t=[this._wrapped];return o.apply(t,arguments),un(this,n.apply(g,t))}})),g}M(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=r[t];g.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],un(this,n)}})),M(["concat","join","slice"],(function(t){var e=r[t];g.prototype[t]=function(){return un(this,e.apply(this._wrapped,arguments))}})),g.prototype.value=function(){return this._wrapped},g.prototype.valueOf=g.prototype.toJSON=g.prototype.value,g.prototype.toString=function(){return String(this._wrapped)};var ln=cn(Object.freeze({__proto__:null,default:g,VERSION:m,iteratee:b,restArguments:w,each:M,forEach:M,map:T,collect:T,reduce:R,foldl:R,inject:R,reduceRight:P,foldr:P,find:H,detect:H,filter:$,select:$,reject:C,every:z,all:z,some:F,any:F,contains:U,includes:U,include:U,invoke:B,pluck:q,where:L,findWhere:J,max:W,min:D,shuffle:V,sample:K,sortBy:G,groupBy:Q,indexBy:Y,countBy:Z,toArray:et,size:nt,partition:rt,first:it,head:it,take:it,initial:st,last:ot,rest:at,tail:at,drop:at,compact:ut,flatten:lt,without:ht,uniq:ft,unique:ft,union:dt,intersection:pt,difference:vt,unzip:gt,zip:mt,object:yt,findIndex:bt,findLastIndex:xt,sortedIndex:wt,indexOf:St,lastIndexOf:jt,range:kt,chunk:It,bind:Ot,partial:Mt,bindAll:Tt,memoize:Nt,delay:Rt,defer:Pt,throttle:Ht,debounce:$t,wrap:Ct,negate:zt,compose:Ft,after:Ut,before:Bt,once:qt,keys:Dt,allKeys:Vt,values:Kt,mapObject:Gt,pairs:Xt,invert:Qt,functions:Yt,methods:Yt,extend:te,extendOwn:ee,assign:ee,findKey:ne,pick:ie,omit:se,defaults:oe,create:ae,clone:ue,tap:ce,isMatch:le,isEqual:fe,isEmpty:de,isElement:pe,isArray:ge,isObject:me,get isArguments(){return ye},get isFunction(){return _e},isString:be,isNumber:xe,isDate:we,isRegExp:Ee,isError:Se,isSymbol:je,isMap:ke,isWeakMap:Ie,isSet:Ae,isWeakSet:Oe,isFinite:Te,isNaN:Ne,isBoolean:Re,isNull:Pe,isUndefined:He,has:$e,identity:Ce,constant:ze,noop:Fe,property:Ue,propertyOf:Be,matcher:qe,matches:qe,times:Le,random:Je,now:We,escape:Ge,unescape:Xe,result:Qe,uniqueId:Ze,templateSettings:tn,template:on,chain:an,mixin:cn}));ln._=ln;var hn=Object.freeze({__proto__:null,default:ln,VERSION:m,iteratee:b,restArguments:w,each:M,forEach:M,map:T,collect:T,reduce:R,foldl:R,inject:R,reduceRight:P,foldr:P,find:H,detect:H,filter:$,select:$,reject:C,every:z,all:z,some:F,any:F,contains:U,includes:U,include:U,invoke:B,pluck:q,where:L,findWhere:J,max:W,min:D,shuffle:V,sample:K,sortBy:G,groupBy:Q,indexBy:Y,countBy:Z,toArray:et,size:nt,partition:rt,first:it,head:it,take:it,initial:st,last:ot,rest:at,tail:at,drop:at,compact:ut,flatten:lt,without:ht,uniq:ft,unique:ft,union:dt,intersection:pt,difference:vt,unzip:gt,zip:mt,object:yt,findIndex:bt,findLastIndex:xt,sortedIndex:wt,indexOf:St,lastIndexOf:jt,range:kt,chunk:It,bind:Ot,partial:Mt,bindAll:Tt,memoize:Nt,delay:Rt,defer:Pt,throttle:Ht,debounce:$t,wrap:Ct,negate:zt,compose:Ft,after:Ut,before:Bt,once:qt,keys:Dt,allKeys:Vt,values:Kt,mapObject:Gt,pairs:Xt,invert:Qt,functions:Yt,methods:Yt,extend:te,extendOwn:ee,assign:ee,findKey:ne,pick:ie,omit:se,defaults:oe,create:ae,clone:ue,tap:ce,isMatch:le,isEqual:fe,isEmpty:de,isElement:pe,isArray:ge,isObject:me,get isArguments(){return ye},get isFunction(){return _e},isString:be,isNumber:xe,isDate:we,isRegExp:Ee,isError:Se,isSymbol:je,isMap:ke,isWeakMap:Ie,isSet:Ae,isWeakSet:Oe,isFinite:Te,isNaN:Ne,isBoolean:Re,isNull:Pe,isUndefined:He,has:$e,identity:Ce,constant:ze,noop:Fe,property:Ue,propertyOf:Be,matcher:qe,matches:qe,times:Le,random:Je,now:We,escape:Ge,unescape:Xe,result:Qe,uniqueId:Ze,templateSettings:tn,template:on,chain:an,mixin:cn}),fn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function dn(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var pn=dn((function(t,n){!function(t){var r,i="object"==typeof self&&self.self===self&&self||"object"==typeof fn&&fn.global===fn&&fn,s=ln;try{r=e}catch(t){}!function(t,e,n,r){var i=t.Backbone,s=Array.prototype.slice;e.VERSION="1.4.0",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o,a=e.Events={},u=/\s+/,c=function(t,e,r,i,s){var o,a=0;if(r&&"object"==typeof r){void 0!==i&&"context"in s&&void 0===s.context&&(s.context=i);for(o=n.keys(r);a<o.length;a++)e=c(t,e,o[a],r[o[a]],s)}else if(r&&u.test(r))for(o=r.split(u);a<o.length;a++)e=t(e,o[a],i,s);else e=t(e,r,i,s);return e};a.on=function(t,e,n){(this._events=c(l,this._events||{},t,e,{context:n,ctx:this,listening:o}),o)&&((this._listeners||(this._listeners={}))[o.id]=o,o.interop=!1);return this},a.listenTo=function(t,e,r){if(!t)return this;var i=t._listenId||(t._listenId=n.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),a=o=s[i];a||(this._listenId||(this._listenId=n.uniqueId("l")),a=o=s[i]=new g(this,t));var u=h(t,e,r,this);if(o=void 0,u)throw u;return a.interop&&a.on(e,r),this};var l=function(t,e,n,r){if(n){var i=t[e]||(t[e]=[]),s=r.context,o=r.ctx,a=r.listening;a&&a.count++,i.push({callback:n,context:s,ctx:s||o,listening:a})}return t},h=function(t,e,n,r){try{t.on(e,n,r)}catch(t){return t}};a.off=function(t,e,n){return this._events?(this._events=c(f,this._events,t,e,{context:n,listeners:this._listeners}),this):this},a.stopListening=function(t,e,r){var i=this._listeningTo;if(!i)return this;for(var s=t?[t._listenId]:n.keys(i),o=0;o<s.length;o++){var a=i[s[o]];if(!a)break;a.obj.off(e,r,this),a.interop&&a.off(e,r)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var f=function(t,e,r,i){if(t){var s,o=i.context,a=i.listeners,u=0;if(e||o||r){for(s=e?[e]:n.keys(t);u<s.length;u++){var c=t[e=s[u]];if(!c)break;for(var l=[],h=0;h<c.length;h++){var f=c[h];if(r&&r!==f.callback&&r!==f.callback._callback||o&&o!==f.context)l.push(f);else{var d=f.listening;d&&d.off(e,r)}}l.length?t[e]=l:delete t[e]}return t}for(s=n.keys(a);u<s.length;u++)a[s[u]].cleanup()}};a.once=function(t,e,n){var r=c(d,{},t,e,this.off.bind(this));return"string"==typeof t&&null==n&&(e=void 0),this.on(r,e,n)},a.listenToOnce=function(t,e,n){var r=c(d,{},e,n,this.stopListening.bind(this,t));return this.listenTo(t,r)};var d=function(t,e,r,i){if(r){var s=t[e]=n.once((function(){i(e,s),r.apply(this,arguments)}));s._callback=r}return t};a.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;r<e;r++)n[r]=arguments[r+1];return c(p,this._events,t,void 0,n),this};var p=function(t,e,n,r){if(t){var i=t[e],s=t.all;i&&s&&(s=s.slice()),i&&v(i,r),s&&v(s,[e].concat(r))}return t},v=function(t,e){var n,r=-1,i=t.length,s=e[0],o=e[1],a=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s,o);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s,o,a);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}},g=function(t,e){this.id=t._listenId,this.listener=t,this.obj=e,this.interop=!0,this.count=0,this._events=void 0};g.prototype.on=a.on,g.prototype.off=function(t,e){var n;this.interop?(this._events=c(f,this._events,t,e,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},g.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},a.bind=a.on,a.unbind=a.off,n.extend(e,a);var m=e.Model=function(t,e){var r=t||{};e||(e={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(m.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var i;if("object"==typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;var s=r.unset,o=r.silent,a=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,l=this.changed,h=this._previousAttributes;for(var f in i)e=i[f],n.isEqual(c[f],e)||a.push(f),n.isEqual(h[f],e)?delete l[f]:l[f]=e,s?delete c[f]:c[f]=e;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!o){a.length&&(this._pending=r);for(var d=0;d<a.length;d++)this.trigger("change:"+a[d],this,c[a[d]],r)}if(u)return this;if(!o)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e,r=this._changing?this._previousAttributes:this.attributes,i={};for(var s in t){var o=t[s];n.isEqual(r[s],o)||(i[s]=o,e=!0)}return!!e&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var i=t.parse?e.parse(n,t):n;if(!e.set(i,t))return!1;r&&r.call(t.context,e,n,t),e.trigger("sync",e,n,t)},K(this,t),this.sync("read",this,t)},save:function(t,e,r){var i;null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e;var s=(r=n.extend({validate:!0,parse:!0},r)).wait;if(i&&!s){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var o=this,a=r.success,u=this.attributes;r.success=function(t){o.attributes=u;var e=r.parse?o.parse(t,r):t;if(s&&(e=n.extend({},i,e)),e&&!o.set(e,r))return!1;a&&a.call(r.context,o,t,r),o.trigger("sync",o,t,r)},K(this,r),i&&s&&(this.attributes=n.extend({},u,i));var c=this.isNew()?"create":r.patch?"patch":"update";"patch"!==c||r.attrs||(r.attrs=i);var l=this.sync(c,this,r);return this.attributes=u,l},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=t.wait,s=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){i&&s(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var o=!1;return this.isNew()?n.defer(t.success):(K(this,t),o=this.sync("delete",this,t)),i||s(),o},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||V();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1)}});var y=e.Collection=function(t,e){e||(e={}),this.preinitialize.apply(this,arguments),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},_={add:!0,remove:!0,merge:!0},b={add:!0,remove:!1},x=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var r,i=Array(t.length-n),s=e.length;for(r=0;r<i.length;r++)i[r]=t[r+n];for(r=0;r<s;r++)t[r+n]=e[r];for(r=0;r<i.length;r++)t[r+s+n]=i[r]};n.extend(y.prototype,a,{model:m,preinitialize:function(){},initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,b))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:t.slice();var i=this._removeModels(t,e);return!e.silent&&i.length&&(e.changes={added:[],merged:[],removed:i},this.trigger("update",this,e)),r?i[0]:i},set:function(t,e){if(null!=t){(e=n.extend({},_,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var r=!n.isArray(t);t=r?[t]:t.slice();var i=e.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var s,o,a=[],u=[],c=[],l=[],h={},f=e.add,d=e.merge,p=e.remove,v=!1,g=this.comparator&&null==i&&!1!==e.sort,m=n.isString(this.comparator)?this.comparator:null;for(o=0;o<t.length;o++){s=t[o];var y=this.get(s);if(y){if(d&&s!==y){var b=this._isModel(s)?s.attributes:s;e.parse&&(b=y.parse(b,e)),y.set(b,e),c.push(y),g&&!v&&(v=y.hasChanged(m))}h[y.cid]||(h[y.cid]=!0,a.push(y)),t[o]=y}else f&&(s=t[o]=this._prepareModel(s,e))&&(u.push(s),this._addReference(s,e),h[s.cid]=!0,a.push(s))}if(p){for(o=0;o<this.length;o++)h[(s=this.models[o]).cid]||l.push(s);l.length&&this._removeModels(l,e)}var w=!1,E=!g&&f&&p;if(a.length&&E?(w=this.length!==a.length||n.some(this.models,(function(t,e){return t!==a[e]})),this.models.length=0,x(this.models,a,0),this.length=this.models.length):u.length&&(g&&(v=!0),x(this.models,u,null==i?this.length:i),this.length=this.models.length),v&&this.sort({silent:!0}),!e.silent){for(o=0;o<u.length;o++)null!=i&&(e.index=i+o),(s=u[o]).trigger("add",s,this,e);(v||w)&&this.trigger("sort",this,e),(u.length||l.length||c.length)&&(e.changes={added:u,removed:l,merged:c},this.trigger("update",this,e))}return r?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(this._isModel(t)?t.attributes:t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return n.isFunction(e)&&(e=e.bind(this)),1===r||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){var e=(t=n.extend({parse:!0},t)).success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},K(this,t),this.sync("read",this,t)},create:function(t,e){var r=(e=e?n.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;r||this.add(t,e);var i=this,s=e.success;return e.success=function(t,e,n){r&&i.add(t,n),s&&s.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},values:function(){return new E(this,S)},keys:function(){return new E(this,j)},entries:function(){return new E(this,k)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?n.clone(e):{}).collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=this.get(t[r]);if(i){var s=this.indexOf(i);this.models.splice(s,1),this.length--,delete this._byId[i.cid];var o=this.modelId(i.attributes);null!=o&&delete this._byId[o],e.silent||(e.index=s,i.trigger("remove",i,this,e)),n.push(i),this._removeReference(i,e)}}return n},_isModel:function(t){return t instanceof m},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,r),"change"===t){var i=this.modelId(e.previousAttributes()),s=this.modelId(e.attributes);i!==s&&(null!=i&&delete this._byId[i],null!=s&&(this._byId[s]=e))}}this.trigger.apply(this,arguments)}});var w="function"==typeof Symbol&&Symbol.iterator;w&&(y.prototype[w]=y.prototype.values);var E=function(t,e){this._collection=t,this._kind=e,this._index=0},S=1,j=2,k=3;w&&(E.prototype[w]=function(){return this});E.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var t,e=this._collection.at(this._index);if(this._index++,this._kind===S)t=e;else{var n=this._collection.modelId(e.attributes);t=this._kind===j?n:[n,e]}return{value:t,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var I=e.View=function(t){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(t,O)),this._ensureElement(),this.initialize.apply(this,arguments)},A=/^(\S+)\s*(.*)$/,O=["model","collection","el","id","attributes","className","tagName","events"];n.extend(I.prototype,a,{tagName:"div",$:function(t){return this.$el.find(t)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var i=e.match(A);this.delegate(i[1],i[2],r.bind(this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}});var M=function(t,e,n,r){switch(e){case 1:return function(){return t[n](this[r])};case 2:return function(e){return t[n](this[r],e)};case 3:return function(e,i){return t[n](this[r],N(e,this),i)};case 4:return function(e,i,s){return t[n](this[r],N(e,this),i,s)};default:return function(){var e=s.call(arguments);return e.unshift(this[r]),t[n].apply(t,e)}}},T=function(t,e,r,i){n.each(r,(function(n,r){e[r]&&(t.prototype[r]=M(e,n,r,i))}))},N=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?R(t):n.isString(t)?function(e){return e.get(t)}:t},R=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},P={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},H={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};n.each([[y,P,"models"],[m,H,"attributes"]],(function(t){var e=t[0],r=t[1],i=t[2];e.mixin=function(t){var r=n.reduce(n.functions(t),(function(t,e){return t[e]=0,t}),{});T(e,t,r,i)},T(e,n,r,i)})),e.sync=function(t,r,i){var s=$[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:s,dataType:"json"};if(i.url||(o.url=n.result(r,"url")||V()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),i.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",i.emulateJSON&&(o.data._method=s);var a=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",s),a)return a.apply(this,arguments)}}"GET"===o.type||i.emulateJSON||(o.processData=!1);var u=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,u&&u.call(i.context,t,e,n)};var c=i.xhr=e.ajax(n.extend(o,i));return r.trigger("request",r,c,i),c};var $={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var C=e.Router=function(t){t||(t={}),this.preinitialize.apply(this,arguments),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},z=/\((.*?)\)/g,F=/(\(\?)?:\w+/g,U=/\*\w+/g,B=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(C.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var s=this;return e.history.route(t,(function(n){var o=s._extractParameters(t,n);!1!==s.execute(i,o,r)&&(s.trigger.apply(s,["route:"+r].concat(o)),s.trigger("route",r,o),e.history.trigger("route",s,r,o))})),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(B,"\\$&").replace(z,"(?:$1)?").replace(F,(function(t,e){return e?t:"([^/?]+)"})).replace(U,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,(function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null}))}});var q=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,J=/^\/+|\/+$/g,W=/#.*$/;q.started=!1,n.extend(q.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(L,"")},start:function(t){if(q.started)throw new Error("Backbone.history has already been started");if(q.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(J,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var s=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),q.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!q.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;t=t.replace(W,"");var i=this.decodeFragment(t);if(this.fragment!==i){if(this.fragment=i,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var s=this.iframe.contentWindow;e.replace||(s.document.open(),s.document.close()),this._updateHash(s.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new q;var D=function(t,e){var r,i=this;return r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e),r.prototype=n.create(i.prototype,t),r.prototype.constructor=r,r.__super__=i.prototype,r};m.extend=y.extend=C.extend=I.extend=q.extend=D;var V=function(){throw new Error('A "url" property or function must be specified')},K=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}}}(i,n,s,r)}()})),vn="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},gn=Array.prototype,mn=Object.prototype,yn="undefined"!=typeof Symbol?Symbol.prototype:null,_n=gn.push,bn=gn.slice,xn=mn.toString,wn=mn.hasOwnProperty,En=Array.isArray,Sn=Object.keys,jn=Object.create,kn=vn.isNaN,In=vn.isFinite,An=function(){};function On(t){return t instanceof On?t:this instanceof On?void(this._wrapped=t):new On(t)}var Mn=On.VERSION="1.10.2";function Tn(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,s){return t.call(e,n,r,i,s)}}return function(){return t.apply(e,arguments)}}function Nn(t,e,n){return null==t?yi:ii(t)?Tn(t,e,n):ni(t)&&!ei(t)?bi(t):_i(t)}function Rn(t,e){return Nn(t,e,1/0)}function Pn(t,e,n){return On.iteratee!==Rn?On.iteratee(t,e):Nn(t,e,n)}function Hn(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var s=Array(e+1);for(i=0;i<e;i++)s[i]=arguments[i];return s[e]=r,t.apply(this,s)}}function $n(t){if(!ni(t))return{};if(jn)return jn(t);An.prototype=t;var e=new An;return An.prototype=null,e}function Cn(t){return function(e){return null==e?void 0:e[t]}}function zn(t,e){return null!=t&&wn.call(t,e)}function Fn(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}On.iteratee=Rn;var Un=Math.pow(2,53)-1,Bn=Cn("length");function qn(t){var e=Bn(t);return"number"==typeof e&&e>=0&&e<=Un}function Ln(t,e,n){var r,i;if(e=Tn(e,n),qn(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var s=zr(t);for(r=0,i=s.length;r<i;r++)e(t[s[r]],s[r],t)}return t}function Jn(t,e,n){e=Pn(e,n);for(var r=!qn(t)&&zr(t),i=(r||t).length,s=Array(i),o=0;o<i;o++){var a=r?r[o]:o;s[o]=e(t[a],a,t)}return s}function Wn(t){var e=function(e,n,r,i){var s=!qn(e)&&zr(e),o=(s||e).length,a=t>0?0:o-1;for(i||(r=e[s?s[a]:a],a+=t);a>=0&&a<o;a+=t){var u=s?s[a]:a;r=n(r,e[u],u,e)}return r};return function(t,n,r,i){var s=arguments.length>=3;return e(t,Tn(n,i,4),r,s)}}var Dn=Wn(1),Vn=Wn(-1);function Kn(t,e,n){var r=(qn(t)?br:Dr)(t,e,n);if(void 0!==r&&-1!==r)return t[r]}function Gn(t,e,n){var r=[];return e=Pn(e,n),Ln(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function Xn(t,e,n){e=Pn(e,n);for(var r=!qn(t)&&zr(t),i=(r||t).length,s=0;s<i;s++){var o=r?r[s]:s;if(!e(t[o],o,t))return!1}return!0}function Qn(t,e,n){e=Pn(e,n);for(var r=!qn(t)&&zr(t),i=(r||t).length,s=0;s<i;s++){var o=r?r[s]:s;if(e(t[o],o,t))return!0}return!1}function Yn(t,e,n,r){return qn(t)||(t=Ur(t)),("number"!=typeof n||r)&&(n=0),Sr(t,e,n)>=0}var Zn=Hn((function(t,e,n){var r,i;return ii(e)?i=e:ei(e)&&(r=e.slice(0,-1),e=e[e.length-1]),Jn(t,(function(t){var s=i;if(!s){if(r&&r.length&&(t=Fn(t,r)),null==t)return;s=t[e]}return null==s?s:s.apply(t,n)}))}));function tr(t,e){return Jn(t,_i(e))}function er(t,e,n){var r,i,s=-1/0,o=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,u=(t=qn(t)?t:Ur(t)).length;a<u;a++)null!=(r=t[a])&&r>s&&(s=r);else e=Pn(e,n),Ln(t,(function(t,n,r){((i=e(t,n,r))>o||i===-1/0&&s===-1/0)&&(s=t,o=i)}));return s}function nr(t,e,n){if(null==e||n)return qn(t)||(t=Ur(t)),t[xi(t.length-1)];var r=qn(t)?Qr(t):Ur(t),i=Bn(r);e=Math.max(Math.min(e,i),0);for(var s=i-1,o=0;o<e;o++){var a=xi(o,s),u=r[o];r[o]=r[a],r[a]=u}return r.slice(0,e)}function rr(t,e){return function(n,r,i){var s=e?[[],[]]:{};return r=Pn(r,i),Ln(n,(function(e,i){var o=r(e,i,n);t(s,e,o)})),s}}var ir=rr((function(t,e,n){zn(t,n)?t[n].push(e):t[n]=[e]})),sr=rr((function(t,e,n){t[n]=e})),or=rr((function(t,e,n){zn(t,n)?t[n]++:t[n]=1})),ar=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;var ur=rr((function(t,e,n){t[n?0:1].push(e)}),!0);function cr(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:lr(t,t.length-e)}function lr(t,e,n){return bn.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function hr(t,e,n){return bn.call(t,null==e||n?1:e)}function fr(t,e,n,r){for(var i=(r=r||[]).length,s=0,o=Bn(t);s<o;s++){var a=t[s];if(qn(a)&&(ei(a)||ri(a)))if(e)for(var u=0,c=a.length;u<c;)r[i++]=a[u++];else fr(a,e,n,r),i=r.length;else n||(r[i++]=a)}return r}var dr=Hn((function(t,e){return gr(t,e)}));function pr(t,e,n,r){mi(e)||(r=n,n=e,e=!1),null!=n&&(n=Pn(n,r));for(var i=[],s=[],o=0,a=Bn(t);o<a;o++){var u=t[o],c=n?n(u,o,t):u;e&&!n?(o&&s===c||i.push(u),s=c):n?Yn(s,c)||(s.push(c),i.push(u)):Yn(i,u)||i.push(u)}return i}var vr=Hn((function(t){return pr(fr(t,!0,!0))}));var gr=Hn((function(t,e){return e=fr(e,!0,!0),Gn(t,(function(t){return!Yn(e,t)}))}));function mr(t){for(var e=t&&er(t,Bn).length||0,n=Array(e),r=0;r<e;r++)n[r]=tr(t,r);return n}var yr=Hn(mr);function _r(t){return function(e,n,r){n=Pn(n,r);for(var i=Bn(e),s=t>0?0:i-1;s>=0&&s<i;s+=t)if(n(e[s],s,e))return s;return-1}}var br=_r(1),xr=_r(-1);function wr(t,e,n,r){for(var i=(n=Pn(n,r,1))(e),s=0,o=Bn(t);s<o;){var a=Math.floor((s+o)/2);n(t[a])<i?s=a+1:o=a}return s}function Er(t,e,n){return function(r,i,s){var o=0,a=Bn(r);if("number"==typeof s)t>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(n&&s&&a)return r[s=n(r,i)]===i?s:-1;if(i!=i)return(s=e(bn.call(r,o,a),gi))>=0?s+o:-1;for(s=t>0?o:a-1;s>=0&&s<a;s+=t)if(r[s]===i)return s;return-1}}var Sr=Er(1,br,wr),jr=Er(-1,xr);function kr(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var s=$n(t.prototype),o=t.apply(s,i);return ni(o)?o:s}var Ir=Hn((function(t,e,n){if(!ii(t))throw new TypeError("Bind must be called on a function");var r=Hn((function(i){return kr(t,r,e,this,n.concat(i))}));return r})),Ar=Hn((function(t,e){var n=Ar.placeholder,r=function(){for(var i=0,s=e.length,o=Array(s),a=0;a<s;a++)o[a]=e[a]===n?arguments[i++]:e[a];for(;i<arguments.length;)o.push(arguments[i++]);return kr(t,r,this,this,o)};return r}));Ar.placeholder=On;var Or=Hn((function(t,e){var n=(e=fr(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=Ir(t[r],t)}}));var Mr=Hn((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),Tr=Ar(Mr,On,1);function Nr(t){return function(){return!t.apply(this,arguments)}}function Rr(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var Pr=Ar(Rr,2),Hr=!{toString:null}.propertyIsEnumerable("toString"),$r=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function Cr(t,e){var n=$r.length,r=t.constructor,i=ii(r)&&r.prototype||mn,s="constructor";for(zn(t,s)&&!Yn(e,s)&&e.push(s);n--;)(s=$r[n])in t&&t[s]!==i[s]&&!Yn(e,s)&&e.push(s)}function zr(t){if(!ni(t))return[];if(Sn)return Sn(t);var e=[];for(var n in t)zn(t,n)&&e.push(n);return Hr&&Cr(t,e),e}function Fr(t){if(!ni(t))return[];var e=[];for(var n in t)e.push(n);return Hr&&Cr(t,e),e}function Ur(t){for(var e=zr(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function Br(t){for(var e={},n=zr(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function qr(t){var e=[];for(var n in t)ii(t[n])&&e.push(n);return e.sort()}function Lr(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var s=arguments[i],o=t(s),a=o.length,u=0;u<a;u++){var c=o[u];e&&void 0!==n[c]||(n[c]=s[c])}return n}}var Jr=Lr(Fr),Wr=Lr(zr);function Dr(t,e,n){e=Pn(e,n);for(var r,i=zr(t),s=0,o=i.length;s<o;s++)if(e(t[r=i[s]],r,t))return r}function Vr(t,e,n){return e in n}var Kr=Hn((function(t,e){var n={},r=e[0];if(null==t)return n;ii(r)?(e.length>1&&(r=Tn(r,e[1])),e=Fr(t)):(r=Vr,e=fr(e,!1,!1),t=Object(t));for(var i=0,s=e.length;i<s;i++){var o=e[i],a=t[o];r(a,o,t)&&(n[o]=a)}return n})),Gr=Hn((function(t,e){var n,r=e[0];return ii(r)?(r=Nr(r),e.length>1&&(n=e[1])):(e=Jn(fr(e,!1,!1),String),r=function(t,n){return!Yn(e,n)}),Kr(t,r,n)})),Xr=Lr(Fr,!0);function Qr(t){return ni(t)?ei(t)?t.slice():Jr({},t):t}function Yr(t,e){var n=zr(e),r=n.length;if(null==t)return!r;for(var i=Object(t),s=0;s<r;s++){var o=n[s];if(e[o]!==i[o]||!(o in i))return!1}return!0}function Zr(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&function(t,e,n,r){t instanceof On&&(t=t._wrapped);e instanceof On&&(e=e._wrapped);var i=xn.call(t);if(i!==xn.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return yn.valueOf.call(t)===yn.valueOf.call(e)}var s="[object Array]"===i;if(!s){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,a=e.constructor;if(o!==a&&!(ii(o)&&o instanceof o&&ii(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];var u=(n=n||[]).length;for(;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),s){if((u=t.length)!==e.length)return!1;for(;u--;)if(!Zr(t[u],e[u],n,r))return!1}else{var c,l=zr(t);if(u=l.length,zr(e).length!==u)return!1;for(;u--;)if(!zn(e,c=l[u])||!Zr(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0}(t,e,n,r)}function ti(t){return function(e){return xn.call(e)==="[object "+t+"]"}}var ei=En||ti("Array");function ni(t){var e=typeof t;return"function"===e||"object"===e&&!!t}var ri=ti("Arguments"),ii=ti("Function"),si=ti("String"),oi=ti("Number"),ai=ti("Date"),ui=ti("RegExp"),ci=ti("Error"),li=ti("Symbol"),hi=ti("Map"),fi=ti("WeakMap"),di=ti("Set"),pi=ti("WeakSet");!function(){ri(arguments)||(ri=function(t){return zn(t,"callee")})}();var vi=vn.document&&vn.document.childNodes;function gi(t){return oi(t)&&kn(t)}function mi(t){return!0===t||!1===t||"[object Boolean]"===xn.call(t)}function yi(t){return t}function _i(t){return ei(t)?function(e){return Fn(e,t)}:Cn(t)}function bi(t){return t=Wr({},t),function(e){return Yr(e,t)}}function xi(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof vi&&(ii=function(t){return"function"==typeof t||!1});var wi=Date.now||function(){return(new Date).getTime()},Ei={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Si=Br(Ei);function ji(t){var e=function(e){return t[e]},n="(?:"+zr(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}}var ki=ji(Ei),Ii=ji(Si);var Ai=0;var Oi=On.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Mi=/(.)^/,Ti={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ni=/\\|'|\r|\n|\u2028|\u2029/g,Ri=function(t){return"\\"+Ti[t]};function Pi(t,e){return t._chain?On(e).chain():e}function Hi(t){return Ln(qr(t),(function(e){var n=On[e]=t[e];On.prototype[e]=function(){var t=[this._wrapped];return _n.apply(t,arguments),Pi(this,n.apply(On,t))}})),On}Ln(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=gn[t];On.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],Pi(this,n)}})),Ln(["concat","join","slice"],(function(t){var e=gn[t];On.prototype[t]=function(){return Pi(this,e.apply(this._wrapped,arguments))}})),On.prototype.value=function(){return this._wrapped},On.prototype.valueOf=On.prototype.toJSON=On.prototype.value,On.prototype.toString=function(){return String(this._wrapped)};var $i=Hi(Object.freeze({__proto__:null,default:On,VERSION:Mn,iteratee:Rn,restArguments:Hn,each:Ln,forEach:Ln,map:Jn,collect:Jn,reduce:Dn,foldl:Dn,inject:Dn,reduceRight:Vn,foldr:Vn,find:Kn,detect:Kn,filter:Gn,select:Gn,reject:function(t,e,n){return Gn(t,Nr(Pn(e)),n)},every:Xn,all:Xn,some:Qn,any:Qn,contains:Yn,includes:Yn,include:Yn,invoke:Zn,pluck:tr,where:function(t,e){return Gn(t,bi(e))},findWhere:function(t,e){return Kn(t,bi(e))},max:er,min:function(t,e,n){var r,i,s=1/0,o=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,u=(t=qn(t)?t:Ur(t)).length;a<u;a++)null!=(r=t[a])&&r<s&&(s=r);else e=Pn(e,n),Ln(t,(function(t,n,r){((i=e(t,n,r))<o||i===1/0&&s===1/0)&&(s=t,o=i)}));return s},shuffle:function(t){return nr(t,1/0)},sample:nr,sortBy:function(t,e,n){var r=0;return e=Pn(e,n),tr(Jn(t,(function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")},groupBy:ir,indexBy:sr,countBy:or,toArray:function(t){return t?ei(t)?bn.call(t):si(t)?t.match(ar):qn(t)?Jn(t,yi):Ur(t):[]},size:function(t){return null==t?0:qn(t)?t.length:zr(t).length},partition:ur,first:cr,head:cr,take:cr,initial:lr,last:function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:hr(t,Math.max(0,t.length-e))},rest:hr,tail:hr,drop:hr,compact:function(t){return Gn(t,Boolean)},flatten:function(t,e){return fr(t,e,!1)},without:dr,uniq:pr,unique:pr,union:vr,intersection:function(t){for(var e=[],n=arguments.length,r=0,i=Bn(t);r<i;r++){var s=t[r];if(!Yn(e,s)){var o;for(o=1;o<n&&Yn(arguments[o],s);o++);o===n&&e.push(s)}}return e},difference:gr,unzip:mr,zip:yr,object:function(t,e){for(var n={},r=0,i=Bn(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},findIndex:br,findLastIndex:xr,sortedIndex:wr,indexOf:Sr,lastIndexOf:jr,range:function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),s=0;s<r;s++,t+=n)i[s]=t;return i},chunk:function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(bn.call(t,r,r+=e));return n},bind:Ir,partial:Ar,bindAll:Or,memoize:function(t,e){var n=function(r){var i=n.cache,s=""+(e?e.apply(this,arguments):r);return zn(i,s)||(i[s]=t.apply(this,arguments)),i[s]};return n.cache={},n},delay:Mr,defer:Tr,throttle:function(t,e,n){var r,i,s,o,a=0;n||(n={});var u=function(){a=!1===n.leading?0:wi(),r=null,o=t.apply(i,s),r||(i=s=null)},c=function(){var c=wi();a||!1!==n.leading||(a=c);var l=e-(c-a);return i=this,s=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=null),a=c,o=t.apply(i,s),r||(i=s=null)):r||!1===n.trailing||(r=setTimeout(u,l)),o};return c.cancel=function(){clearTimeout(r),a=0,r=i=s=null},c},debounce:function(t,e,n){var r,i,s=function(e,n){r=null,n&&(i=t.apply(e,n))},o=Hn((function(o){if(r&&clearTimeout(r),n){var a=!r;r=setTimeout(s,e),a&&(i=t.apply(this,o))}else r=Mr(s,e,this,o);return i}));return o.cancel=function(){clearTimeout(r),r=null},o},wrap:function(t,e){return Ar(e,t)},negate:Nr,compose:function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},after:function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},before:Rr,once:Pr,keys:zr,allKeys:Fr,values:Ur,mapObject:function(t,e,n){e=Pn(e,n);for(var r=zr(t),i=r.length,s={},o=0;o<i;o++){var a=r[o];s[a]=e(t[a],a,t)}return s},pairs:function(t){for(var e=zr(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},invert:Br,functions:qr,methods:qr,extend:Jr,extendOwn:Wr,assign:Wr,findKey:Dr,pick:Kr,omit:Gr,defaults:Xr,create:function(t,e){var n=$n(t);return e&&Wr(n,e),n},clone:Qr,tap:function(t,e){return e(t),t},isMatch:Yr,isEqual:function(t,e){return Zr(t,e)},isEmpty:function(t){return null==t||(qn(t)&&(ei(t)||si(t)||ri(t))?0===t.length:0===zr(t).length)},isElement:function(t){return!(!t||1!==t.nodeType)},isArray:ei,isObject:ni,get isArguments(){return ri},get isFunction(){return ii},isString:si,isNumber:oi,isDate:ai,isRegExp:ui,isError:ci,isSymbol:li,isMap:hi,isWeakMap:fi,isSet:di,isWeakSet:pi,isFinite:function(t){return!li(t)&&In(t)&&!kn(parseFloat(t))},isNaN:gi,isBoolean:mi,isNull:function(t){return null===t},isUndefined:function(t){return void 0===t},has:function(t,e){if(!ei(e))return zn(t,e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(null==t||!wn.call(t,i))return!1;t=t[i]}return!!n},identity:yi,constant:function(t){return function(){return t}},noop:function(){},property:_i,propertyOf:function(t){return null==t?function(){}:function(e){return ei(e)?Fn(t,e):t[e]}},matcher:bi,matches:bi,times:function(t,e,n){var r=Array(Math.max(0,t));e=Tn(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},random:xi,now:wi,escape:ki,unescape:Ii,result:function(t,e,n){ei(e)||(e=[e]);var r=e.length;if(!r)return ii(n)?n.call(t):n;for(var i=0;i<r;i++){var s=null==t?void 0:t[e[i]];void 0===s&&(s=n,i=r),t=ii(s)?s.call(t):s}return t},uniqueId:function(t){var e=++Ai+"";return t?t+e:e},templateSettings:Oi,template:function(t,e,n){!e&&n&&(e=n),e=Xr({},e,On.templateSettings);var r,i=RegExp([(e.escape||Mi).source,(e.interpolate||Mi).source,(e.evaluate||Mi).source].join("|")+"|$","g"),s=0,o="__p+='";t.replace(i,(function(e,n,r,i,a){return o+=t.slice(s,a).replace(Ni,Ri),s=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(o+="';\n"+i+"\n__p+='"),e})),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return r.call(this,t,On)},u=e.variable||"obj";return a.source="function("+u+"){\n"+o+"}",a},chain:function(t){var e=On(t);return e._chain=!0,e},mixin:Hi}));$i._=$i;var Ci=dn((function(t,n){!function(t){var r,i="object"==typeof self&&self.self===self&&self||"object"==typeof fn&&fn.global===fn&&fn,s=$i;try{r=e}catch(t){}!function(t,e,n,r){var i=t.Backbone,s=Array.prototype.slice;e.VERSION="1.4.0",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o,a=e.Events={},u=/\s+/,c=function(t,e,r,i,s){var o,a=0;if(r&&"object"==typeof r){void 0!==i&&"context"in s&&void 0===s.context&&(s.context=i);for(o=n.keys(r);a<o.length;a++)e=c(t,e,o[a],r[o[a]],s)}else if(r&&u.test(r))for(o=r.split(u);a<o.length;a++)e=t(e,o[a],i,s);else e=t(e,r,i,s);return e};a.on=function(t,e,n){(this._events=c(l,this._events||{},t,e,{context:n,ctx:this,listening:o}),o)&&((this._listeners||(this._listeners={}))[o.id]=o,o.interop=!1);return this},a.listenTo=function(t,e,r){if(!t)return this;var i=t._listenId||(t._listenId=n.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),a=o=s[i];a||(this._listenId||(this._listenId=n.uniqueId("l")),a=o=s[i]=new g(this,t));var u=h(t,e,r,this);if(o=void 0,u)throw u;return a.interop&&a.on(e,r),this};var l=function(t,e,n,r){if(n){var i=t[e]||(t[e]=[]),s=r.context,o=r.ctx,a=r.listening;a&&a.count++,i.push({callback:n,context:s,ctx:s||o,listening:a})}return t},h=function(t,e,n,r){try{t.on(e,n,r)}catch(t){return t}};a.off=function(t,e,n){return this._events?(this._events=c(f,this._events,t,e,{context:n,listeners:this._listeners}),this):this},a.stopListening=function(t,e,r){var i=this._listeningTo;if(!i)return this;for(var s=t?[t._listenId]:n.keys(i),o=0;o<s.length;o++){var a=i[s[o]];if(!a)break;a.obj.off(e,r,this),a.interop&&a.off(e,r)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var f=function(t,e,r,i){if(t){var s,o=i.context,a=i.listeners,u=0;if(e||o||r){for(s=e?[e]:n.keys(t);u<s.length;u++){var c=t[e=s[u]];if(!c)break;for(var l=[],h=0;h<c.length;h++){var f=c[h];if(r&&r!==f.callback&&r!==f.callback._callback||o&&o!==f.context)l.push(f);else{var d=f.listening;d&&d.off(e,r)}}l.length?t[e]=l:delete t[e]}return t}for(s=n.keys(a);u<s.length;u++)a[s[u]].cleanup()}};a.once=function(t,e,n){var r=c(d,{},t,e,this.off.bind(this));return"string"==typeof t&&null==n&&(e=void 0),this.on(r,e,n)},a.listenToOnce=function(t,e,n){var r=c(d,{},e,n,this.stopListening.bind(this,t));return this.listenTo(t,r)};var d=function(t,e,r,i){if(r){var s=t[e]=n.once((function(){i(e,s),r.apply(this,arguments)}));s._callback=r}return t};a.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;r<e;r++)n[r]=arguments[r+1];return c(p,this._events,t,void 0,n),this};var p=function(t,e,n,r){if(t){var i=t[e],s=t.all;i&&s&&(s=s.slice()),i&&v(i,r),s&&v(s,[e].concat(r))}return t},v=function(t,e){var n,r=-1,i=t.length,s=e[0],o=e[1],a=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s,o);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s,o,a);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}},g=function(t,e){this.id=t._listenId,this.listener=t,this.obj=e,this.interop=!0,this.count=0,this._events=void 0};g.prototype.on=a.on,g.prototype.off=function(t,e){var n;this.interop?(this._events=c(f,this._events,t,e,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},g.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},a.bind=a.on,a.unbind=a.off,n.extend(e,a);var m=e.Model=function(t,e){var r=t||{};e||(e={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(m.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var i;if("object"==typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;var s=r.unset,o=r.silent,a=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,l=this.changed,h=this._previousAttributes;for(var f in i)e=i[f],n.isEqual(c[f],e)||a.push(f),n.isEqual(h[f],e)?delete l[f]:l[f]=e,s?delete c[f]:c[f]=e;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!o){a.length&&(this._pending=r);for(var d=0;d<a.length;d++)this.trigger("change:"+a[d],this,c[a[d]],r)}if(u)return this;if(!o)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e,r=this._changing?this._previousAttributes:this.attributes,i={};for(var s in t){var o=t[s];n.isEqual(r[s],o)||(i[s]=o,e=!0)}return!!e&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var i=t.parse?e.parse(n,t):n;if(!e.set(i,t))return!1;r&&r.call(t.context,e,n,t),e.trigger("sync",e,n,t)},K(this,t),this.sync("read",this,t)},save:function(t,e,r){var i;null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e;var s=(r=n.extend({validate:!0,parse:!0},r)).wait;if(i&&!s){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var o=this,a=r.success,u=this.attributes;r.success=function(t){o.attributes=u;var e=r.parse?o.parse(t,r):t;if(s&&(e=n.extend({},i,e)),e&&!o.set(e,r))return!1;a&&a.call(r.context,o,t,r),o.trigger("sync",o,t,r)},K(this,r),i&&s&&(this.attributes=n.extend({},u,i));var c=this.isNew()?"create":r.patch?"patch":"update";"patch"!==c||r.attrs||(r.attrs=i);var l=this.sync(c,this,r);return this.attributes=u,l},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=t.wait,s=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){i&&s(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var o=!1;return this.isNew()?n.defer(t.success):(K(this,t),o=this.sync("delete",this,t)),i||s(),o},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||V();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1)}});var y=e.Collection=function(t,e){e||(e={}),this.preinitialize.apply(this,arguments),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},_={add:!0,remove:!0,merge:!0},b={add:!0,remove:!1},x=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var r,i=Array(t.length-n),s=e.length;for(r=0;r<i.length;r++)i[r]=t[r+n];for(r=0;r<s;r++)t[r+n]=e[r];for(r=0;r<i.length;r++)t[r+s+n]=i[r]};n.extend(y.prototype,a,{model:m,preinitialize:function(){},initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,b))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:t.slice();var i=this._removeModels(t,e);return!e.silent&&i.length&&(e.changes={added:[],merged:[],removed:i},this.trigger("update",this,e)),r?i[0]:i},set:function(t,e){if(null!=t){(e=n.extend({},_,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var r=!n.isArray(t);t=r?[t]:t.slice();var i=e.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var s,o,a=[],u=[],c=[],l=[],h={},f=e.add,d=e.merge,p=e.remove,v=!1,g=this.comparator&&null==i&&!1!==e.sort,m=n.isString(this.comparator)?this.comparator:null;for(o=0;o<t.length;o++){s=t[o];var y=this.get(s);if(y){if(d&&s!==y){var b=this._isModel(s)?s.attributes:s;e.parse&&(b=y.parse(b,e)),y.set(b,e),c.push(y),g&&!v&&(v=y.hasChanged(m))}h[y.cid]||(h[y.cid]=!0,a.push(y)),t[o]=y}else f&&(s=t[o]=this._prepareModel(s,e))&&(u.push(s),this._addReference(s,e),h[s.cid]=!0,a.push(s))}if(p){for(o=0;o<this.length;o++)h[(s=this.models[o]).cid]||l.push(s);l.length&&this._removeModels(l,e)}var w=!1,E=!g&&f&&p;if(a.length&&E?(w=this.length!==a.length||n.some(this.models,(function(t,e){return t!==a[e]})),this.models.length=0,x(this.models,a,0),this.length=this.models.length):u.length&&(g&&(v=!0),x(this.models,u,null==i?this.length:i),this.length=this.models.length),v&&this.sort({silent:!0}),!e.silent){for(o=0;o<u.length;o++)null!=i&&(e.index=i+o),(s=u[o]).trigger("add",s,this,e);(v||w)&&this.trigger("sort",this,e),(u.length||l.length||c.length)&&(e.changes={added:u,removed:l,merged:c},this.trigger("update",this,e))}return r?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(this._isModel(t)?t.attributes:t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return n.isFunction(e)&&(e=e.bind(this)),1===r||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){var e=(t=n.extend({parse:!0},t)).success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},K(this,t),this.sync("read",this,t)},create:function(t,e){var r=(e=e?n.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;r||this.add(t,e);var i=this,s=e.success;return e.success=function(t,e,n){r&&i.add(t,n),s&&s.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},values:function(){return new E(this,S)},keys:function(){return new E(this,j)},entries:function(){return new E(this,k)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?n.clone(e):{}).collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=this.get(t[r]);if(i){var s=this.indexOf(i);this.models.splice(s,1),this.length--,delete this._byId[i.cid];var o=this.modelId(i.attributes);null!=o&&delete this._byId[o],e.silent||(e.index=s,i.trigger("remove",i,this,e)),n.push(i),this._removeReference(i,e)}}return n},_isModel:function(t){return t instanceof m},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,r),"change"===t){var i=this.modelId(e.previousAttributes()),s=this.modelId(e.attributes);i!==s&&(null!=i&&delete this._byId[i],null!=s&&(this._byId[s]=e))}}this.trigger.apply(this,arguments)}});var w="function"==typeof Symbol&&Symbol.iterator;w&&(y.prototype[w]=y.prototype.values);var E=function(t,e){this._collection=t,this._kind=e,this._index=0},S=1,j=2,k=3;w&&(E.prototype[w]=function(){return this});E.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var t,e=this._collection.at(this._index);if(this._index++,this._kind===S)t=e;else{var n=this._collection.modelId(e.attributes);t=this._kind===j?n:[n,e]}return{value:t,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var I=e.View=function(t){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(t,O)),this._ensureElement(),this.initialize.apply(this,arguments)},A=/^(\S+)\s*(.*)$/,O=["model","collection","el","id","attributes","className","tagName","events"];n.extend(I.prototype,a,{tagName:"div",$:function(t){return this.$el.find(t)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var i=e.match(A);this.delegate(i[1],i[2],r.bind(this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}});var M=function(t,e,n,r){switch(e){case 1:return function(){return t[n](this[r])};case 2:return function(e){return t[n](this[r],e)};case 3:return function(e,i){return t[n](this[r],N(e,this),i)};case 4:return function(e,i,s){return t[n](this[r],N(e,this),i,s)};default:return function(){var e=s.call(arguments);return e.unshift(this[r]),t[n].apply(t,e)}}},T=function(t,e,r,i){n.each(r,(function(n,r){e[r]&&(t.prototype[r]=M(e,n,r,i))}))},N=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?R(t):n.isString(t)?function(e){return e.get(t)}:t},R=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},P={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},H={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};n.each([[y,P,"models"],[m,H,"attributes"]],(function(t){var e=t[0],r=t[1],i=t[2];e.mixin=function(t){var r=n.reduce(n.functions(t),(function(t,e){return t[e]=0,t}),{});T(e,t,r,i)},T(e,n,r,i)})),e.sync=function(t,r,i){var s=$[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:s,dataType:"json"};if(i.url||(o.url=n.result(r,"url")||V()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),i.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",i.emulateJSON&&(o.data._method=s);var a=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",s),a)return a.apply(this,arguments)}}"GET"===o.type||i.emulateJSON||(o.processData=!1);var u=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,u&&u.call(i.context,t,e,n)};var c=i.xhr=e.ajax(n.extend(o,i));return r.trigger("request",r,c,i),c};var $={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var C=e.Router=function(t){t||(t={}),this.preinitialize.apply(this,arguments),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},z=/\((.*?)\)/g,F=/(\(\?)?:\w+/g,U=/\*\w+/g,B=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(C.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var s=this;return e.history.route(t,(function(n){var o=s._extractParameters(t,n);!1!==s.execute(i,o,r)&&(s.trigger.apply(s,["route:"+r].concat(o)),s.trigger("route",r,o),e.history.trigger("route",s,r,o))})),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(B,"\\$&").replace(z,"(?:$1)?").replace(F,(function(t,e){return e?t:"([^/?]+)"})).replace(U,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,(function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null}))}});var q=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,J=/^\/+|\/+$/g,W=/#.*$/;q.started=!1,n.extend(q.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(L,"")},start:function(t){if(q.started)throw new Error("Backbone.history has already been started");if(q.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(J,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var s=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),q.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!q.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;t=t.replace(W,"");var i=this.decodeFragment(t);if(this.fragment!==i){if(this.fragment=i,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var s=this.iframe.contentWindow;e.replace||(s.document.open(),s.document.close()),this._updateHash(s.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new q;var D=function(t,e){var r,i=this;return r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e),r.prototype=n.create(i.prototype,t),r.prototype.constructor=r,r.__super__=i.prototype,r};m.extend=y.extend=C.extend=I.extend=q.extend=D;var V=function(){throw new Error('A "url" property or function must be specified')},K=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}}}(i,n,s,r)}()}));class zi{static _factory=[];static register(t){return t}static Subscribes(t){return t}static Observable(t){return t}static get(t){const e=$i.isNull(t)?null:zi._factory.find(e=>e.name===t);return e?e.instance:null}}var Fi=Object.assign(Ci,{Leviathan:{NAME:process.env.npm_package_name,VERSION:process.env.npm_package_version,...zi,Store:class{state=null;constructor(t){Object.assign(this,{state:t||null})}dispatch(t,...e){return this[t]&&$i.isFunction(this[t])&&this[t](...e),this}},View:class{_props={};_store=null;_events={};get props(){return this._props}get store(){return this._store}get events(){return this._events}constructor(t){Object.assign(this,{props:t||{}})}render(){return null}},DOM:class{static render(t,e){return"undefined"!=typeof window&&"undefined"!=typeof document&&e?this:""}}}});Ci.Leviathan.NAME,Ci.Leviathan.VERSION;exports.backbone=pn,exports.leviathan=Fi,exports.underscore=hn;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlicmFyaWVzLmpzIiwic291cmNlcyI6WyIuLi8uLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9pbmRleC1kZWZhdWx0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2JhY2tib25lL2JhY2tib25lLmpzIiwiLi4vLi4vLi4vYmFja2JvbmUtbGV2aWF0aGFuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaW5kZXguanMiLCIuLi8uLi8uLi9iYWNrYm9uZS1sZXZpYXRoYW4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9pbmRleC1kZWZhdWx0LmpzIiwiLi4vLi4vLi4vYmFja2JvbmUtbGV2aWF0aGFuL25vZGVfbW9kdWxlcy9iYWNrYm9uZS9iYWNrYm9uZS5qcyIsIi4uLy4uLy4uL2JhY2tib25lLWxldmlhdGhhbi9saWIvY29yZS9jb3JlLmpzIiwiLi4vLi4vLi4vYmFja2JvbmUtbGV2aWF0aGFuL2xpYi9iYWNrYm9uZS1sZXZpYXRoYW4uanMiLCIuLi8uLi8uLi9iYWNrYm9uZS1sZXZpYXRoYW4vbGliL3N0b3JlL3N0b3JlLmpzIiwiLi4vLi4vLi4vYmFja2JvbmUtbGV2aWF0aGFuL2xpYi9kb20vdmlldy5qcyIsIi4uLy4uLy4uL2JhY2tib25lLWxldmlhdGhhbi9saWIvZG9tL2RvbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAgICAgVW5kZXJzY29yZS5qcyAxLjEwLjJcbi8vICAgICBodHRwczovL3VuZGVyc2NvcmVqcy5vcmdcbi8vICAgICAoYykgMjAwOS0yMDIwIEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4vLyAgICAgVW5kZXJzY29yZSBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cblxuLy8gQmFzZWxpbmUgc2V0dXBcbi8vIC0tLS0tLS0tLS0tLS0tXG5cbi8vIEVzdGFibGlzaCB0aGUgcm9vdCBvYmplY3QsIGB3aW5kb3dgIChgc2VsZmApIGluIHRoZSBicm93c2VyLCBgZ2xvYmFsYFxuLy8gb24gdGhlIHNlcnZlciwgb3IgYHRoaXNgIGluIHNvbWUgdmlydHVhbCBtYWNoaW5lcy4gV2UgdXNlIGBzZWxmYFxuLy8gaW5zdGVhZCBvZiBgd2luZG93YCBmb3IgYFdlYldvcmtlcmAgc3VwcG9ydC5cbnZhciByb290ID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZi5zZWxmID09PSBzZWxmICYmIHNlbGYgfHxcbiAgICAgICAgICB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbC5nbG9iYWwgPT09IGdsb2JhbCAmJiBnbG9iYWwgfHxcbiAgICAgICAgICBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpIHx8XG4gICAgICAgICAge307XG5cbi8vIFNhdmUgYnl0ZXMgaW4gdGhlIG1pbmlmaWVkIChidXQgbm90IGd6aXBwZWQpIHZlcnNpb246XG52YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSwgT2JqUHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xudmFyIFN5bWJvbFByb3RvID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgPyBTeW1ib2wucHJvdG90eXBlIDogbnVsbDtcblxuLy8gQ3JlYXRlIHF1aWNrIHJlZmVyZW5jZSB2YXJpYWJsZXMgZm9yIHNwZWVkIGFjY2VzcyB0byBjb3JlIHByb3RvdHlwZXMuXG52YXIgcHVzaCA9IEFycmF5UHJvdG8ucHVzaCxcbiAgICBzbGljZSA9IEFycmF5UHJvdG8uc2xpY2UsXG4gICAgdG9TdHJpbmcgPSBPYmpQcm90by50b1N0cmluZyxcbiAgICBoYXNPd25Qcm9wZXJ0eSA9IE9ialByb3RvLmhhc093blByb3BlcnR5O1xuXG4vLyBBbGwgKipFQ01BU2NyaXB0IDUqKiBuYXRpdmUgZnVuY3Rpb24gaW1wbGVtZW50YXRpb25zIHRoYXQgd2UgaG9wZSB0byB1c2Vcbi8vIGFyZSBkZWNsYXJlZCBoZXJlLlxudmFyIG5hdGl2ZUlzQXJyYXkgPSBBcnJheS5pc0FycmF5LFxuICAgIG5hdGl2ZUtleXMgPSBPYmplY3Qua2V5cyxcbiAgICBuYXRpdmVDcmVhdGUgPSBPYmplY3QuY3JlYXRlO1xuXG4vLyBDcmVhdGUgcmVmZXJlbmNlcyB0byB0aGVzZSBidWlsdGluIGZ1bmN0aW9ucyBiZWNhdXNlIHdlIG92ZXJyaWRlIHRoZW0uXG52YXIgX2lzTmFOID0gcm9vdC5pc05hTixcbiAgICBfaXNGaW5pdGUgPSByb290LmlzRmluaXRlO1xuXG4vLyBOYWtlZCBmdW5jdGlvbiByZWZlcmVuY2UgZm9yIHN1cnJvZ2F0ZS1wcm90b3R5cGUtc3dhcHBpbmcuXG52YXIgQ3RvciA9IGZ1bmN0aW9uKCl7fTtcblxuLy8gVGhlIFVuZGVyc2NvcmUgb2JqZWN0LiBBbGwgZXhwb3J0ZWQgZnVuY3Rpb25zIGJlbG93IGFyZSBhZGRlZCB0byBpdCBpbiB0aGVcbi8vIG1vZHVsZXMvaW5kZXgtYWxsLmpzIHVzaW5nIHRoZSBtaXhpbiBmdW5jdGlvbi5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF8ob2JqKSB7XG4gIGlmIChvYmogaW5zdGFuY2VvZiBfKSByZXR1cm4gb2JqO1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgXykpIHJldHVybiBuZXcgXyhvYmopO1xuICB0aGlzLl93cmFwcGVkID0gb2JqO1xufVxuXG4vLyBDdXJyZW50IHZlcnNpb24uXG5leHBvcnQgdmFyIFZFUlNJT04gPSBfLlZFUlNJT04gPSAnMS4xMC4yJztcblxuLy8gSW50ZXJuYWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGVmZmljaWVudCAoZm9yIGN1cnJlbnQgZW5naW5lcykgdmVyc2lvblxuLy8gb2YgdGhlIHBhc3NlZC1pbiBjYWxsYmFjaywgdG8gYmUgcmVwZWF0ZWRseSBhcHBsaWVkIGluIG90aGVyIFVuZGVyc2NvcmVcbi8vIGZ1bmN0aW9ucy5cbmZ1bmN0aW9uIG9wdGltaXplQ2IoZnVuYywgY29udGV4dCwgYXJnQ291bnQpIHtcbiAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgcmV0dXJuIGZ1bmM7XG4gIHN3aXRjaCAoYXJnQ291bnQgPT0gbnVsbCA/IDMgOiBhcmdDb3VudCkge1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIHZhbHVlKTtcbiAgICB9O1xuICAgIC8vIFRoZSAyLWFyZ3VtZW50IGNhc2UgaXMgb21pdHRlZCBiZWNhdXNlIHdl4oCZcmUgbm90IHVzaW5nIGl0LlxuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgIH07XG4gICAgY2FzZSA0OiByZXR1cm4gZnVuY3Rpb24oYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCBhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuYy5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG4vLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiB0byBnZW5lcmF0ZSBjYWxsYmFja3MgdGhhdCBjYW4gYmUgYXBwbGllZCB0byBlYWNoXG4vLyBlbGVtZW50IGluIGEgY29sbGVjdGlvbiwgcmV0dXJuaW5nIHRoZSBkZXNpcmVkIHJlc3VsdCDigJQgZWl0aGVyIGBpZGVudGl0eWAsXG4vLyBhbiBhcmJpdHJhcnkgY2FsbGJhY2ssIGEgcHJvcGVydHkgbWF0Y2hlciwgb3IgYSBwcm9wZXJ0eSBhY2Nlc3Nvci5cbmZ1bmN0aW9uIGJhc2VJdGVyYXRlZSh2YWx1ZSwgY29udGV4dCwgYXJnQ291bnQpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiBpZGVudGl0eTtcbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSByZXR1cm4gb3B0aW1pemVDYih2YWx1ZSwgY29udGV4dCwgYXJnQ291bnQpO1xuICBpZiAoaXNPYmplY3QodmFsdWUpICYmICFpc0FycmF5KHZhbHVlKSkgcmV0dXJuIG1hdGNoZXIodmFsdWUpO1xuICByZXR1cm4gcHJvcGVydHkodmFsdWUpO1xufVxuXG4vLyBFeHRlcm5hbCB3cmFwcGVyIGZvciBvdXIgY2FsbGJhY2sgZ2VuZXJhdG9yLiBVc2VycyBtYXkgY3VzdG9taXplXG4vLyBgXy5pdGVyYXRlZWAgaWYgdGhleSB3YW50IGFkZGl0aW9uYWwgcHJlZGljYXRlL2l0ZXJhdGVlIHNob3J0aGFuZCBzdHlsZXMuXG4vLyBUaGlzIGFic3RyYWN0aW9uIGhpZGVzIHRoZSBpbnRlcm5hbC1vbmx5IGFyZ0NvdW50IGFyZ3VtZW50LlxuXy5pdGVyYXRlZSA9IGl0ZXJhdGVlO1xuZXhwb3J0IGZ1bmN0aW9uIGl0ZXJhdGVlKHZhbHVlLCBjb250ZXh0KSB7XG4gIHJldHVybiBiYXNlSXRlcmF0ZWUodmFsdWUsIGNvbnRleHQsIEluZmluaXR5KTtcbn1cblxuLy8gVGhlIGZ1bmN0aW9uIHdlIGFjdHVhbGx5IGNhbGwgaW50ZXJuYWxseS4gSXQgaW52b2tlcyBfLml0ZXJhdGVlIGlmXG4vLyBvdmVycmlkZGVuLCBvdGhlcndpc2UgYmFzZUl0ZXJhdGVlLlxuZnVuY3Rpb24gY2IodmFsdWUsIGNvbnRleHQsIGFyZ0NvdW50KSB7XG4gIGlmIChfLml0ZXJhdGVlICE9PSBpdGVyYXRlZSkgcmV0dXJuIF8uaXRlcmF0ZWUodmFsdWUsIGNvbnRleHQpO1xuICByZXR1cm4gYmFzZUl0ZXJhdGVlKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCk7XG59XG5cbi8vIFNvbWUgZnVuY3Rpb25zIHRha2UgYSB2YXJpYWJsZSBudW1iZXIgb2YgYXJndW1lbnRzLCBvciBhIGZldyBleHBlY3RlZFxuLy8gYXJndW1lbnRzIGF0IHRoZSBiZWdpbm5pbmcgYW5kIHRoZW4gYSB2YXJpYWJsZSBudW1iZXIgb2YgdmFsdWVzIHRvIG9wZXJhdGVcbi8vIG9uLiBUaGlzIGhlbHBlciBhY2N1bXVsYXRlcyBhbGwgcmVtYWluaW5nIGFyZ3VtZW50cyBwYXN0IHRoZSBmdW5jdGlvbuKAmXNcbi8vIGFyZ3VtZW50IGxlbmd0aCAob3IgYW4gZXhwbGljaXQgYHN0YXJ0SW5kZXhgKSwgaW50byBhbiBhcnJheSB0aGF0IGJlY29tZXNcbi8vIHRoZSBsYXN0IGFyZ3VtZW50LiBTaW1pbGFyIHRvIEVTNuKAmXMgXCJyZXN0IHBhcmFtZXRlclwiLlxuZXhwb3J0IGZ1bmN0aW9uIHJlc3RBcmd1bWVudHMoZnVuYywgc3RhcnRJbmRleCkge1xuICBzdGFydEluZGV4ID0gc3RhcnRJbmRleCA9PSBudWxsID8gZnVuYy5sZW5ndGggLSAxIDogK3N0YXJ0SW5kZXg7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoYXJndW1lbnRzLmxlbmd0aCAtIHN0YXJ0SW5kZXgsIDApLFxuICAgICAgICByZXN0ID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgaW5kZXggPSAwO1xuICAgIGZvciAoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgcmVzdFtpbmRleF0gPSBhcmd1bWVudHNbaW5kZXggKyBzdGFydEluZGV4XTtcbiAgICB9XG4gICAgc3dpdGNoIChzdGFydEluZGV4KSB7XG4gICAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpcywgcmVzdCk7XG4gICAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpcywgYXJndW1lbnRzWzBdLCByZXN0KTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzLCBhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSwgcmVzdCk7XG4gICAgfVxuICAgIHZhciBhcmdzID0gQXJyYXkoc3RhcnRJbmRleCArIDEpO1xuICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHN0YXJ0SW5kZXg7IGluZGV4KyspIHtcbiAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICB9XG4gICAgYXJnc1tzdGFydEluZGV4XSA9IHJlc3Q7XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gIH07XG59XG5cbi8vIEFuIGludGVybmFsIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBhIG5ldyBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIGFub3RoZXIuXG5mdW5jdGlvbiBiYXNlQ3JlYXRlKHByb3RvdHlwZSkge1xuICBpZiAoIWlzT2JqZWN0KHByb3RvdHlwZSkpIHJldHVybiB7fTtcbiAgaWYgKG5hdGl2ZUNyZWF0ZSkgcmV0dXJuIG5hdGl2ZUNyZWF0ZShwcm90b3R5cGUpO1xuICBDdG9yLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgdmFyIHJlc3VsdCA9IG5ldyBDdG9yO1xuICBDdG9yLnByb3RvdHlwZSA9IG51bGw7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHNoYWxsb3dQcm9wZXJ0eShrZXkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT0gbnVsbCA/IHZvaWQgMCA6IG9ialtrZXldO1xuICB9O1xufVxuXG5mdW5jdGlvbiBfaGFzKG9iaiwgcGF0aCkge1xuICByZXR1cm4gb2JqICE9IG51bGwgJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHBhdGgpO1xufVxuXG5mdW5jdGlvbiBkZWVwR2V0KG9iaiwgcGF0aCkge1xuICB2YXIgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgb2JqID0gb2JqW3BhdGhbaV1dO1xuICB9XG4gIHJldHVybiBsZW5ndGggPyBvYmogOiB2b2lkIDA7XG59XG5cbi8vIEhlbHBlciBmb3IgY29sbGVjdGlvbiBtZXRob2RzIHRvIGRldGVybWluZSB3aGV0aGVyIGEgY29sbGVjdGlvblxuLy8gc2hvdWxkIGJlIGl0ZXJhdGVkIGFzIGFuIGFycmF5IG9yIGFzIGFuIG9iamVjdC5cbi8vIFJlbGF0ZWQ6IGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy10b2xlbmd0aFxuLy8gQXZvaWRzIGEgdmVyeSBuYXN0eSBpT1MgOCBKSVQgYnVnIG9uIEFSTS02NC4gIzIwOTRcbnZhciBNQVhfQVJSQVlfSU5ERVggPSBNYXRoLnBvdygyLCA1MykgLSAxO1xudmFyIGdldExlbmd0aCA9IHNoYWxsb3dQcm9wZXJ0eSgnbGVuZ3RoJyk7XG5mdW5jdGlvbiBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSB7XG4gIHZhciBsZW5ndGggPSBnZXRMZW5ndGgoY29sbGVjdGlvbik7XG4gIHJldHVybiB0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInICYmIGxlbmd0aCA+PSAwICYmIGxlbmd0aCA8PSBNQVhfQVJSQVlfSU5ERVg7XG59XG5cbi8vIENvbGxlY3Rpb24gRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBUaGUgY29ybmVyc3RvbmUsIGFuIGBlYWNoYCBpbXBsZW1lbnRhdGlvbiwgYWthIGBmb3JFYWNoYC5cbi8vIEhhbmRsZXMgcmF3IG9iamVjdHMgaW4gYWRkaXRpb24gdG8gYXJyYXktbGlrZXMuIFRyZWF0cyBhbGxcbi8vIHNwYXJzZSBhcnJheS1saWtlcyBhcyBpZiB0aGV5IHdlcmUgZGVuc2UuXG5leHBvcnQgZnVuY3Rpb24gZWFjaChvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCk7XG4gIHZhciBpLCBsZW5ndGg7XG4gIGlmIChpc0FycmF5TGlrZShvYmopKSB7XG4gICAgZm9yIChpID0gMCwgbGVuZ3RoID0gb2JqLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpdGVyYXRlZShvYmpbaV0sIGksIG9iaik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBfa2V5cyA9IGtleXMob2JqKTtcbiAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBfa2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaXRlcmF0ZWUob2JqW19rZXlzW2ldXSwgX2tleXNbaV0sIG9iaik7XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG5leHBvcnQgeyBlYWNoIGFzIGZvckVhY2ggfTtcblxuLy8gUmV0dXJuIHRoZSByZXN1bHRzIG9mIGFwcGx5aW5nIHRoZSBpdGVyYXRlZSB0byBlYWNoIGVsZW1lbnQuXG5leHBvcnQgZnVuY3Rpb24gbWFwKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gIHZhciBfa2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIGtleXMob2JqKSxcbiAgICAgIGxlbmd0aCA9IChfa2V5cyB8fCBvYmopLmxlbmd0aCxcbiAgICAgIHJlc3VsdHMgPSBBcnJheShsZW5ndGgpO1xuICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgdmFyIGN1cnJlbnRLZXkgPSBfa2V5cyA/IF9rZXlzW2luZGV4XSA6IGluZGV4O1xuICAgIHJlc3VsdHNbaW5kZXhdID0gaXRlcmF0ZWUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopO1xuICB9XG4gIHJldHVybiByZXN1bHRzO1xufVxuZXhwb3J0IHsgbWFwIGFzIGNvbGxlY3QgfTtcblxuLy8gQ3JlYXRlIGEgcmVkdWNpbmcgZnVuY3Rpb24gaXRlcmF0aW5nIGxlZnQgb3IgcmlnaHQuXG5mdW5jdGlvbiBjcmVhdGVSZWR1Y2UoZGlyKSB7XG4gIC8vIFdyYXAgY29kZSB0aGF0IHJlYXNzaWducyBhcmd1bWVudCB2YXJpYWJsZXMgaW4gYSBzZXBhcmF0ZSBmdW5jdGlvbiB0aGFuXG4gIC8vIHRoZSBvbmUgdGhhdCBhY2Nlc3NlcyBgYXJndW1lbnRzLmxlbmd0aGAgdG8gYXZvaWQgYSBwZXJmIGhpdC4gKCMxOTkxKVxuICB2YXIgcmVkdWNlciA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIG1lbW8sIGluaXRpYWwpIHtcbiAgICB2YXIgX2tleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBrZXlzKG9iaiksXG4gICAgICAgIGxlbmd0aCA9IChfa2V5cyB8fCBvYmopLmxlbmd0aCxcbiAgICAgICAgaW5kZXggPSBkaXIgPiAwID8gMCA6IGxlbmd0aCAtIDE7XG4gICAgaWYgKCFpbml0aWFsKSB7XG4gICAgICBtZW1vID0gb2JqW19rZXlzID8gX2tleXNbaW5kZXhdIDogaW5kZXhdO1xuICAgICAgaW5kZXggKz0gZGlyO1xuICAgIH1cbiAgICBmb3IgKDsgaW5kZXggPj0gMCAmJiBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gZGlyKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IF9rZXlzID8gX2tleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgICBtZW1vID0gaXRlcmF0ZWUobWVtbywgb2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopO1xuICAgIH1cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcblxuICByZXR1cm4gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgbWVtbywgY29udGV4dCkge1xuICAgIHZhciBpbml0aWFsID0gYXJndW1lbnRzLmxlbmd0aCA+PSAzO1xuICAgIHJldHVybiByZWR1Y2VyKG9iaiwgb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCwgNCksIG1lbW8sIGluaXRpYWwpO1xuICB9O1xufVxuXG4vLyAqKlJlZHVjZSoqIGJ1aWxkcyB1cCBhIHNpbmdsZSByZXN1bHQgZnJvbSBhIGxpc3Qgb2YgdmFsdWVzLCBha2EgYGluamVjdGAsXG4vLyBvciBgZm9sZGxgLlxuZXhwb3J0IHZhciByZWR1Y2UgPSBjcmVhdGVSZWR1Y2UoMSk7XG5leHBvcnQgeyByZWR1Y2UgYXMgZm9sZGwsIHJlZHVjZSBhcyBpbmplY3QgfTtcblxuLy8gVGhlIHJpZ2h0LWFzc29jaWF0aXZlIHZlcnNpb24gb2YgcmVkdWNlLCBhbHNvIGtub3duIGFzIGBmb2xkcmAuXG5leHBvcnQgdmFyIHJlZHVjZVJpZ2h0ID0gY3JlYXRlUmVkdWNlKC0xKTtcbmV4cG9ydCB7IHJlZHVjZVJpZ2h0IGFzIGZvbGRyIH07XG5cbi8vIFJldHVybiB0aGUgZmlyc3QgdmFsdWUgd2hpY2ggcGFzc2VzIGEgdHJ1dGggdGVzdC5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gIHZhciBrZXlGaW5kZXIgPSBpc0FycmF5TGlrZShvYmopID8gZmluZEluZGV4IDogZmluZEtleTtcbiAgdmFyIGtleSA9IGtleUZpbmRlcihvYmosIHByZWRpY2F0ZSwgY29udGV4dCk7XG4gIGlmIChrZXkgIT09IHZvaWQgMCAmJiBrZXkgIT09IC0xKSByZXR1cm4gb2JqW2tleV07XG59XG5leHBvcnQgeyBmaW5kIGFzIGRldGVjdCB9O1xuXG4vLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyB0aGF0IHBhc3MgYSB0cnV0aCB0ZXN0LlxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICBlYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGxpc3QpKSByZXN1bHRzLnB1c2godmFsdWUpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5leHBvcnQgeyBmaWx0ZXIgYXMgc2VsZWN0IH07XG5cbi8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGZvciB3aGljaCBhIHRydXRoIHRlc3QgZmFpbHMuXG5leHBvcnQgZnVuY3Rpb24gcmVqZWN0KG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gIHJldHVybiBmaWx0ZXIob2JqLCBuZWdhdGUoY2IocHJlZGljYXRlKSksIGNvbnRleHQpO1xufVxuXG4vLyBEZXRlcm1pbmUgd2hldGhlciBhbGwgb2YgdGhlIGVsZW1lbnRzIG1hdGNoIGEgdHJ1dGggdGVzdC5cbmV4cG9ydCBmdW5jdGlvbiBldmVyeShvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICB2YXIgX2tleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBrZXlzKG9iaiksXG4gICAgICBsZW5ndGggPSAoX2tleXMgfHwgb2JqKS5sZW5ndGg7XG4gIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICB2YXIgY3VycmVudEtleSA9IF9rZXlzID8gX2tleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgaWYgKCFwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgeyBldmVyeSBhcyBhbGwgfTtcblxuLy8gRGV0ZXJtaW5lIGlmIGF0IGxlYXN0IG9uZSBlbGVtZW50IGluIHRoZSBvYmplY3QgbWF0Y2hlcyBhIHRydXRoIHRlc3QuXG5leHBvcnQgZnVuY3Rpb24gc29tZShvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICB2YXIgX2tleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBrZXlzKG9iaiksXG4gICAgICBsZW5ndGggPSAoX2tleXMgfHwgb2JqKS5sZW5ndGg7XG4gIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICB2YXIgY3VycmVudEtleSA9IF9rZXlzID8gX2tleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgaWYgKHByZWRpY2F0ZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaikpIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCB7IHNvbWUgYXMgYW55IH07XG5cbi8vIERldGVybWluZSBpZiB0aGUgYXJyYXkgb3Igb2JqZWN0IGNvbnRhaW5zIGEgZ2l2ZW4gaXRlbSAodXNpbmcgYD09PWApLlxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zKG9iaiwgaXRlbSwgZnJvbUluZGV4LCBndWFyZCkge1xuICBpZiAoIWlzQXJyYXlMaWtlKG9iaikpIG9iaiA9IHZhbHVlcyhvYmopO1xuICBpZiAodHlwZW9mIGZyb21JbmRleCAhPSAnbnVtYmVyJyB8fCBndWFyZCkgZnJvbUluZGV4ID0gMDtcbiAgcmV0dXJuIGluZGV4T2Yob2JqLCBpdGVtLCBmcm9tSW5kZXgpID49IDA7XG59XG5leHBvcnQgeyBjb250YWlucyBhcyBpbmNsdWRlcywgY29udGFpbnMgYXMgaW5jbHVkZSB9O1xuXG4vLyBJbnZva2UgYSBtZXRob2QgKHdpdGggYXJndW1lbnRzKSBvbiBldmVyeSBpdGVtIGluIGEgY29sbGVjdGlvbi5cbmV4cG9ydCB2YXIgaW52b2tlID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihvYmosIHBhdGgsIGFyZ3MpIHtcbiAgdmFyIGNvbnRleHRQYXRoLCBmdW5jO1xuICBpZiAoaXNGdW5jdGlvbihwYXRoKSkge1xuICAgIGZ1bmMgPSBwYXRoO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkocGF0aCkpIHtcbiAgICBjb250ZXh0UGF0aCA9IHBhdGguc2xpY2UoMCwgLTEpO1xuICAgIHBhdGggPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIG1hcChvYmosIGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICB2YXIgbWV0aG9kID0gZnVuYztcbiAgICBpZiAoIW1ldGhvZCkge1xuICAgICAgaWYgKGNvbnRleHRQYXRoICYmIGNvbnRleHRQYXRoLmxlbmd0aCkge1xuICAgICAgICBjb250ZXh0ID0gZGVlcEdldChjb250ZXh0LCBjb250ZXh0UGF0aCk7XG4gICAgICB9XG4gICAgICBpZiAoY29udGV4dCA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgICAgbWV0aG9kID0gY29udGV4dFtwYXRoXTtcbiAgICB9XG4gICAgcmV0dXJuIG1ldGhvZCA9PSBudWxsID8gbWV0aG9kIDogbWV0aG9kLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICB9KTtcbn0pO1xuXG4vLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBtYXBgOiBmZXRjaGluZyBhIHByb3BlcnR5LlxuZXhwb3J0IGZ1bmN0aW9uIHBsdWNrKG9iaiwga2V5KSB7XG4gIHJldHVybiBtYXAob2JqLCBwcm9wZXJ0eShrZXkpKTtcbn1cblxuLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgZmlsdGVyYDogc2VsZWN0aW5nIG9ubHkgb2JqZWN0c1xuLy8gY29udGFpbmluZyBzcGVjaWZpYyBga2V5OnZhbHVlYCBwYWlycy5cbmV4cG9ydCBmdW5jdGlvbiB3aGVyZShvYmosIGF0dHJzKSB7XG4gIHJldHVybiBmaWx0ZXIob2JqLCBtYXRjaGVyKGF0dHJzKSk7XG59XG5cbi8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYGZpbmRgOiBnZXR0aW5nIHRoZSBmaXJzdCBvYmplY3Rcbi8vIGNvbnRhaW5pbmcgc3BlY2lmaWMgYGtleTp2YWx1ZWAgcGFpcnMuXG5leHBvcnQgZnVuY3Rpb24gZmluZFdoZXJlKG9iaiwgYXR0cnMpIHtcbiAgcmV0dXJuIGZpbmQob2JqLCBtYXRjaGVyKGF0dHJzKSk7XG59XG5cbi8vIFJldHVybiB0aGUgbWF4aW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbmV4cG9ydCBmdW5jdGlvbiBtYXgob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICB2YXIgcmVzdWx0ID0gLUluZmluaXR5LCBsYXN0Q29tcHV0ZWQgPSAtSW5maW5pdHksXG4gICAgICB2YWx1ZSwgY29tcHV0ZWQ7XG4gIGlmIChpdGVyYXRlZSA9PSBudWxsIHx8IHR5cGVvZiBpdGVyYXRlZSA9PSAnbnVtYmVyJyAmJiB0eXBlb2Ygb2JqWzBdICE9ICdvYmplY3QnICYmIG9iaiAhPSBudWxsKSB7XG4gICAgb2JqID0gaXNBcnJheUxpa2Uob2JqKSA/IG9iaiA6IHZhbHVlcyhvYmopO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbHVlID0gb2JqW2ldO1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdmFsdWUgPiByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIGVhY2gob2JqLCBmdW5jdGlvbih2LCBpbmRleCwgbGlzdCkge1xuICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2LCBpbmRleCwgbGlzdCk7XG4gICAgICBpZiAoY29tcHV0ZWQgPiBsYXN0Q29tcHV0ZWQgfHwgY29tcHV0ZWQgPT09IC1JbmZpbml0eSAmJiByZXN1bHQgPT09IC1JbmZpbml0eSkge1xuICAgICAgICByZXN1bHQgPSB2O1xuICAgICAgICBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBSZXR1cm4gdGhlIG1pbmltdW0gZWxlbWVudCAob3IgZWxlbWVudC1iYXNlZCBjb21wdXRhdGlvbikuXG5leHBvcnQgZnVuY3Rpb24gbWluKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgdmFyIHJlc3VsdCA9IEluZmluaXR5LCBsYXN0Q29tcHV0ZWQgPSBJbmZpbml0eSxcbiAgICAgIHZhbHVlLCBjb21wdXRlZDtcbiAgaWYgKGl0ZXJhdGVlID09IG51bGwgfHwgdHlwZW9mIGl0ZXJhdGVlID09ICdudW1iZXInICYmIHR5cGVvZiBvYmpbMF0gIT0gJ29iamVjdCcgJiYgb2JqICE9IG51bGwpIHtcbiAgICBvYmogPSBpc0FycmF5TGlrZShvYmopID8gb2JqIDogdmFsdWVzKG9iaik7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWUgPSBvYmpbaV07XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSA8IHJlc3VsdCkge1xuICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHYsIGluZGV4LCBsaXN0KSB7XG4gICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHYsIGluZGV4LCBsaXN0KTtcbiAgICAgIGlmIChjb21wdXRlZCA8IGxhc3RDb21wdXRlZCB8fCBjb21wdXRlZCA9PT0gSW5maW5pdHkgJiYgcmVzdWx0ID09PSBJbmZpbml0eSkge1xuICAgICAgICByZXN1bHQgPSB2O1xuICAgICAgICBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBTaHVmZmxlIGEgY29sbGVjdGlvbi5cbmV4cG9ydCBmdW5jdGlvbiBzaHVmZmxlKG9iaikge1xuICByZXR1cm4gc2FtcGxlKG9iaiwgSW5maW5pdHkpO1xufVxuXG4vLyBTYW1wbGUgKipuKiogcmFuZG9tIHZhbHVlcyBmcm9tIGEgY29sbGVjdGlvbiB1c2luZyB0aGUgbW9kZXJuIHZlcnNpb24gb2YgdGhlXG4vLyBbRmlzaGVyLVlhdGVzIHNodWZmbGVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlcuKAk1lhdGVzX3NodWZmbGUpLlxuLy8gSWYgKipuKiogaXMgbm90IHNwZWNpZmllZCwgcmV0dXJucyBhIHNpbmdsZSByYW5kb20gZWxlbWVudC5cbi8vIFRoZSBpbnRlcm5hbCBgZ3VhcmRgIGFyZ3VtZW50IGFsbG93cyBpdCB0byB3b3JrIHdpdGggYG1hcGAuXG5leHBvcnQgZnVuY3Rpb24gc2FtcGxlKG9iaiwgbiwgZ3VhcmQpIHtcbiAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkge1xuICAgIGlmICghaXNBcnJheUxpa2Uob2JqKSkgb2JqID0gdmFsdWVzKG9iaik7XG4gICAgcmV0dXJuIG9ialtyYW5kb20ob2JqLmxlbmd0aCAtIDEpXTtcbiAgfVxuICB2YXIgc2FtcGxlID0gaXNBcnJheUxpa2Uob2JqKSA/IGNsb25lKG9iaikgOiB2YWx1ZXMob2JqKTtcbiAgdmFyIGxlbmd0aCA9IGdldExlbmd0aChzYW1wbGUpO1xuICBuID0gTWF0aC5tYXgoTWF0aC5taW4obiwgbGVuZ3RoKSwgMCk7XG4gIHZhciBsYXN0ID0gbGVuZ3RoIC0gMTtcbiAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IG47IGluZGV4KyspIHtcbiAgICB2YXIgcmFuZCA9IHJhbmRvbShpbmRleCwgbGFzdCk7XG4gICAgdmFyIHRlbXAgPSBzYW1wbGVbaW5kZXhdO1xuICAgIHNhbXBsZVtpbmRleF0gPSBzYW1wbGVbcmFuZF07XG4gICAgc2FtcGxlW3JhbmRdID0gdGVtcDtcbiAgfVxuICByZXR1cm4gc2FtcGxlLnNsaWNlKDAsIG4pO1xufVxuXG4vLyBTb3J0IHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24gcHJvZHVjZWQgYnkgYW4gaXRlcmF0ZWUuXG5leHBvcnQgZnVuY3Rpb24gc29ydEJ5KG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgdmFyIGluZGV4ID0gMDtcbiAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gIHJldHVybiBwbHVjayhtYXAob2JqLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBsaXN0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGluZGV4OiBpbmRleCsrLFxuICAgICAgY3JpdGVyaWE6IGl0ZXJhdGVlKHZhbHVlLCBrZXksIGxpc3QpXG4gICAgfTtcbiAgfSkuc29ydChmdW5jdGlvbihsZWZ0LCByaWdodCkge1xuICAgIHZhciBhID0gbGVmdC5jcml0ZXJpYTtcbiAgICB2YXIgYiA9IHJpZ2h0LmNyaXRlcmlhO1xuICAgIGlmIChhICE9PSBiKSB7XG4gICAgICBpZiAoYSA+IGIgfHwgYSA9PT0gdm9pZCAwKSByZXR1cm4gMTtcbiAgICAgIGlmIChhIDwgYiB8fCBiID09PSB2b2lkIDApIHJldHVybiAtMTtcbiAgICB9XG4gICAgcmV0dXJuIGxlZnQuaW5kZXggLSByaWdodC5pbmRleDtcbiAgfSksICd2YWx1ZScpO1xufVxuXG4vLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiB1c2VkIGZvciBhZ2dyZWdhdGUgXCJncm91cCBieVwiIG9wZXJhdGlvbnMuXG5mdW5jdGlvbiBncm91cChiZWhhdmlvciwgcGFydGl0aW9uKSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdCA9IHBhcnRpdGlvbiA/IFtbXSwgW11dIDoge307XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xuICAgICAgdmFyIGtleSA9IGl0ZXJhdGVlKHZhbHVlLCBpbmRleCwgb2JqKTtcbiAgICAgIGJlaGF2aW9yKHJlc3VsdCwgdmFsdWUsIGtleSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cblxuLy8gR3JvdXBzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24uIFBhc3MgZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZVxuLy8gdG8gZ3JvdXAgYnksIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBjcml0ZXJpb24uXG5leHBvcnQgdmFyIGdyb3VwQnkgPSBncm91cChmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgaWYgKF9oYXMocmVzdWx0LCBrZXkpKSByZXN1bHRba2V5XS5wdXNoKHZhbHVlKTsgZWxzZSByZXN1bHRba2V5XSA9IFt2YWx1ZV07XG59KTtcblxuLy8gSW5kZXhlcyB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uLCBzaW1pbGFyIHRvIGBncm91cEJ5YCwgYnV0IGZvclxuLy8gd2hlbiB5b3Uga25vdyB0aGF0IHlvdXIgaW5kZXggdmFsdWVzIHdpbGwgYmUgdW5pcXVlLlxuZXhwb3J0IHZhciBpbmRleEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gIHJlc3VsdFtrZXldID0gdmFsdWU7XG59KTtcblxuLy8gQ291bnRzIGluc3RhbmNlcyBvZiBhbiBvYmplY3QgdGhhdCBncm91cCBieSBhIGNlcnRhaW4gY3JpdGVyaW9uLiBQYXNzXG4vLyBlaXRoZXIgYSBzdHJpbmcgYXR0cmlidXRlIHRvIGNvdW50IGJ5LCBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGVcbi8vIGNyaXRlcmlvbi5cbmV4cG9ydCB2YXIgY291bnRCeSA9IGdyb3VwKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICBpZiAoX2hhcyhyZXN1bHQsIGtleSkpIHJlc3VsdFtrZXldKys7IGVsc2UgcmVzdWx0W2tleV0gPSAxO1xufSk7XG5cbnZhciByZVN0clN5bWJvbCA9IC9bXlxcdWQ4MDAtXFx1ZGZmZl18W1xcdWQ4MDAtXFx1ZGJmZl1bXFx1ZGMwMC1cXHVkZmZmXXxbXFx1ZDgwMC1cXHVkZmZmXS9nO1xuLy8gU2FmZWx5IGNyZWF0ZSBhIHJlYWwsIGxpdmUgYXJyYXkgZnJvbSBhbnl0aGluZyBpdGVyYWJsZS5cbmV4cG9ydCBmdW5jdGlvbiB0b0FycmF5KG9iaikge1xuICBpZiAoIW9iaikgcmV0dXJuIFtdO1xuICBpZiAoaXNBcnJheShvYmopKSByZXR1cm4gc2xpY2UuY2FsbChvYmopO1xuICBpZiAoaXNTdHJpbmcob2JqKSkge1xuICAgIC8vIEtlZXAgc3Vycm9nYXRlIHBhaXIgY2hhcmFjdGVycyB0b2dldGhlclxuICAgIHJldHVybiBvYmoubWF0Y2gocmVTdHJTeW1ib2wpO1xuICB9XG4gIGlmIChpc0FycmF5TGlrZShvYmopKSByZXR1cm4gbWFwKG9iaiwgaWRlbnRpdHkpO1xuICByZXR1cm4gdmFsdWVzKG9iaik7XG59XG5cbi8vIFJldHVybiB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGFuIG9iamVjdC5cbmV4cG9ydCBmdW5jdGlvbiBzaXplKG9iaikge1xuICBpZiAob2JqID09IG51bGwpIHJldHVybiAwO1xuICByZXR1cm4gaXNBcnJheUxpa2Uob2JqKSA/IG9iai5sZW5ndGggOiBrZXlzKG9iaikubGVuZ3RoO1xufVxuXG4vLyBTcGxpdCBhIGNvbGxlY3Rpb24gaW50byB0d28gYXJyYXlzOiBvbmUgd2hvc2UgZWxlbWVudHMgYWxsIHNhdGlzZnkgdGhlIGdpdmVuXG4vLyBwcmVkaWNhdGUsIGFuZCBvbmUgd2hvc2UgZWxlbWVudHMgYWxsIGRvIG5vdCBzYXRpc2Z5IHRoZSBwcmVkaWNhdGUuXG5leHBvcnQgdmFyIHBhcnRpdGlvbiA9IGdyb3VwKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIHBhc3MpIHtcbiAgcmVzdWx0W3Bhc3MgPyAwIDogMV0ucHVzaCh2YWx1ZSk7XG59LCB0cnVlKTtcblxuLy8gQXJyYXkgRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS1cblxuLy8gR2V0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGFuIGFycmF5LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIHRoZSBmaXJzdCBOXG4vLyB2YWx1ZXMgaW4gdGhlIGFycmF5LiBUaGUgKipndWFyZCoqIGNoZWNrIGFsbG93cyBpdCB0byB3b3JrIHdpdGggYG1hcGAuXG5leHBvcnQgZnVuY3Rpb24gZmlyc3QoYXJyYXksIG4sIGd1YXJkKSB7XG4gIGlmIChhcnJheSA9PSBudWxsIHx8IGFycmF5Lmxlbmd0aCA8IDEpIHJldHVybiBuID09IG51bGwgPyB2b2lkIDAgOiBbXTtcbiAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkgcmV0dXJuIGFycmF5WzBdO1xuICByZXR1cm4gaW5pdGlhbChhcnJheSwgYXJyYXkubGVuZ3RoIC0gbik7XG59XG5leHBvcnQgeyBmaXJzdCBhcyBoZWFkLCBmaXJzdCBhcyB0YWtlIH07XG5cbi8vIFJldHVybnMgZXZlcnl0aGluZyBidXQgdGhlIGxhc3QgZW50cnkgb2YgdGhlIGFycmF5LiBFc3BlY2lhbGx5IHVzZWZ1bCBvblxuLy8gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gYWxsIHRoZSB2YWx1ZXMgaW5cbi8vIHRoZSBhcnJheSwgZXhjbHVkaW5nIHRoZSBsYXN0IE4uXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIDAsIE1hdGgubWF4KDAsIGFycmF5Lmxlbmd0aCAtIChuID09IG51bGwgfHwgZ3VhcmQgPyAxIDogbikpKTtcbn1cblxuLy8gR2V0IHRoZSBsYXN0IGVsZW1lbnQgb2YgYW4gYXJyYXkuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gdGhlIGxhc3QgTlxuLy8gdmFsdWVzIGluIHRoZSBhcnJheS5cbmV4cG9ydCBmdW5jdGlvbiBsYXN0KGFycmF5LCBuLCBndWFyZCkge1xuICBpZiAoYXJyYXkgPT0gbnVsbCB8fCBhcnJheS5sZW5ndGggPCAxKSByZXR1cm4gbiA9PSBudWxsID8gdm9pZCAwIDogW107XG4gIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbiAgcmV0dXJuIHJlc3QoYXJyYXksIE1hdGgubWF4KDAsIGFycmF5Lmxlbmd0aCAtIG4pKTtcbn1cblxuLy8gUmV0dXJucyBldmVyeXRoaW5nIGJ1dCB0aGUgZmlyc3QgZW50cnkgb2YgdGhlIGFycmF5LiBFc3BlY2lhbGx5IHVzZWZ1bCBvblxuLy8gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgYW4gKipuKiogd2lsbCByZXR1cm4gdGhlIHJlc3QgTiB2YWx1ZXMgaW4gdGhlXG4vLyBhcnJheS5cbmV4cG9ydCBmdW5jdGlvbiByZXN0KGFycmF5LCBuLCBndWFyZCkge1xuICByZXR1cm4gc2xpY2UuY2FsbChhcnJheSwgbiA9PSBudWxsIHx8IGd1YXJkID8gMSA6IG4pO1xufVxuZXhwb3J0IHsgcmVzdCBhcyB0YWlsLCByZXN0IGFzIGRyb3AgfTtcblxuLy8gVHJpbSBvdXQgYWxsIGZhbHN5IHZhbHVlcyBmcm9tIGFuIGFycmF5LlxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhY3QoYXJyYXkpIHtcbiAgcmV0dXJuIGZpbHRlcihhcnJheSwgQm9vbGVhbik7XG59XG5cbi8vIEludGVybmFsIGltcGxlbWVudGF0aW9uIG9mIGEgcmVjdXJzaXZlIGBmbGF0dGVuYCBmdW5jdGlvbi5cbmZ1bmN0aW9uIF9mbGF0dGVuKGlucHV0LCBzaGFsbG93LCBzdHJpY3QsIG91dHB1dCkge1xuICBvdXRwdXQgPSBvdXRwdXQgfHwgW107XG4gIHZhciBpZHggPSBvdXRwdXQubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGlucHV0KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHZhbHVlID0gaW5wdXRbaV07XG4gICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJiAoaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpKSkge1xuICAgICAgLy8gRmxhdHRlbiBjdXJyZW50IGxldmVsIG9mIGFycmF5IG9yIGFyZ3VtZW50cyBvYmplY3QuXG4gICAgICBpZiAoc2hhbGxvdykge1xuICAgICAgICB2YXIgaiA9IDAsIGxlbiA9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGogPCBsZW4pIG91dHB1dFtpZHgrK10gPSB2YWx1ZVtqKytdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2ZsYXR0ZW4odmFsdWUsIHNoYWxsb3csIHN0cmljdCwgb3V0cHV0KTtcbiAgICAgICAgaWR4ID0gb3V0cHV0Lmxlbmd0aDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFzdHJpY3QpIHtcbiAgICAgIG91dHB1dFtpZHgrK10gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuLy8gRmxhdHRlbiBvdXQgYW4gYXJyYXksIGVpdGhlciByZWN1cnNpdmVseSAoYnkgZGVmYXVsdCksIG9yIGp1c3Qgb25lIGxldmVsLlxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW4oYXJyYXksIHNoYWxsb3cpIHtcbiAgcmV0dXJuIF9mbGF0dGVuKGFycmF5LCBzaGFsbG93LCBmYWxzZSk7XG59XG5cbi8vIFJldHVybiBhIHZlcnNpb24gb2YgdGhlIGFycmF5IHRoYXQgZG9lcyBub3QgY29udGFpbiB0aGUgc3BlY2lmaWVkIHZhbHVlKHMpLlxuZXhwb3J0IHZhciB3aXRob3V0ID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihhcnJheSwgb3RoZXJBcnJheXMpIHtcbiAgcmV0dXJuIGRpZmZlcmVuY2UoYXJyYXksIG90aGVyQXJyYXlzKTtcbn0pO1xuXG4vLyBQcm9kdWNlIGEgZHVwbGljYXRlLWZyZWUgdmVyc2lvbiBvZiB0aGUgYXJyYXkuIElmIHRoZSBhcnJheSBoYXMgYWxyZWFkeVxuLy8gYmVlbiBzb3J0ZWQsIHlvdSBoYXZlIHRoZSBvcHRpb24gb2YgdXNpbmcgYSBmYXN0ZXIgYWxnb3JpdGhtLlxuLy8gVGhlIGZhc3RlciBhbGdvcml0aG0gd2lsbCBub3Qgd29yayB3aXRoIGFuIGl0ZXJhdGVlIGlmIHRoZSBpdGVyYXRlZVxuLy8gaXMgbm90IGEgb25lLXRvLW9uZSBmdW5jdGlvbiwgc28gcHJvdmlkaW5nIGFuIGl0ZXJhdGVlIHdpbGwgZGlzYWJsZVxuLy8gdGhlIGZhc3RlciBhbGdvcml0aG0uXG5leHBvcnQgZnVuY3Rpb24gdW5pcShhcnJheSwgaXNTb3J0ZWQsIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gIGlmICghaXNCb29sZWFuKGlzU29ydGVkKSkge1xuICAgIGNvbnRleHQgPSBpdGVyYXRlZTtcbiAgICBpdGVyYXRlZSA9IGlzU29ydGVkO1xuICAgIGlzU29ydGVkID0gZmFsc2U7XG4gIH1cbiAgaWYgKGl0ZXJhdGVlICE9IG51bGwpIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBzZWVuID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdmFsdWUgPSBhcnJheVtpXSxcbiAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlLCBpLCBhcnJheSkgOiB2YWx1ZTtcbiAgICBpZiAoaXNTb3J0ZWQgJiYgIWl0ZXJhdGVlKSB7XG4gICAgICBpZiAoIWkgfHwgc2VlbiAhPT0gY29tcHV0ZWQpIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgIHNlZW4gPSBjb21wdXRlZDtcbiAgICB9IGVsc2UgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICBpZiAoIWNvbnRhaW5zKHNlZW4sIGNvbXB1dGVkKSkge1xuICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghY29udGFpbnMocmVzdWx0LCB2YWx1ZSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCB7IHVuaXEgYXMgdW5pcXVlIH07XG5cbi8vIFByb2R1Y2UgYW4gYXJyYXkgdGhhdCBjb250YWlucyB0aGUgdW5pb246IGVhY2ggZGlzdGluY3QgZWxlbWVudCBmcm9tIGFsbCBvZlxuLy8gdGhlIHBhc3NlZC1pbiBhcnJheXMuXG5leHBvcnQgdmFyIHVuaW9uID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihhcnJheXMpIHtcbiAgcmV0dXJuIHVuaXEoX2ZsYXR0ZW4oYXJyYXlzLCB0cnVlLCB0cnVlKSk7XG59KTtcblxuLy8gUHJvZHVjZSBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIGV2ZXJ5IGl0ZW0gc2hhcmVkIGJldHdlZW4gYWxsIHRoZVxuLy8gcGFzc2VkLWluIGFycmF5cy5cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3Rpb24oYXJyYXkpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIgYXJnc0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGFycmF5W2ldO1xuICAgIGlmIChjb250YWlucyhyZXN1bHQsIGl0ZW0pKSBjb250aW51ZTtcbiAgICB2YXIgajtcbiAgICBmb3IgKGogPSAxOyBqIDwgYXJnc0xlbmd0aDsgaisrKSB7XG4gICAgICBpZiAoIWNvbnRhaW5zKGFyZ3VtZW50c1tqXSwgaXRlbSkpIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoaiA9PT0gYXJnc0xlbmd0aCkgcmVzdWx0LnB1c2goaXRlbSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gVGFrZSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIG9uZSBhcnJheSBhbmQgYSBudW1iZXIgb2Ygb3RoZXIgYXJyYXlzLlxuLy8gT25seSB0aGUgZWxlbWVudHMgcHJlc2VudCBpbiBqdXN0IHRoZSBmaXJzdCBhcnJheSB3aWxsIHJlbWFpbi5cbmV4cG9ydCB2YXIgZGlmZmVyZW5jZSA9IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24oYXJyYXksIHJlc3QpIHtcbiAgcmVzdCA9IF9mbGF0dGVuKHJlc3QsIHRydWUsIHRydWUpO1xuICByZXR1cm4gZmlsdGVyKGFycmF5LCBmdW5jdGlvbih2YWx1ZSl7XG4gICAgcmV0dXJuICFjb250YWlucyhyZXN0LCB2YWx1ZSk7XG4gIH0pO1xufSk7XG5cbi8vIENvbXBsZW1lbnQgb2YgemlwLiBVbnppcCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyBhbmQgZ3JvdXBzXG4vLyBlYWNoIGFycmF5J3MgZWxlbWVudHMgb24gc2hhcmVkIGluZGljZXMuXG5leHBvcnQgZnVuY3Rpb24gdW56aXAoYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5ICYmIG1heChhcnJheSwgZ2V0TGVuZ3RoKS5sZW5ndGggfHwgMDtcbiAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgIHJlc3VsdFtpbmRleF0gPSBwbHVjayhhcnJheSwgaW5kZXgpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIFppcCB0b2dldGhlciBtdWx0aXBsZSBsaXN0cyBpbnRvIGEgc2luZ2xlIGFycmF5IC0tIGVsZW1lbnRzIHRoYXQgc2hhcmVcbi8vIGFuIGluZGV4IGdvIHRvZ2V0aGVyLlxuZXhwb3J0IHZhciB6aXAgPSByZXN0QXJndW1lbnRzKHVuemlwKTtcblxuLy8gQ29udmVydHMgbGlzdHMgaW50byBvYmplY3RzLiBQYXNzIGVpdGhlciBhIHNpbmdsZSBhcnJheSBvZiBgW2tleSwgdmFsdWVdYFxuLy8gcGFpcnMsIG9yIHR3byBwYXJhbGxlbCBhcnJheXMgb2YgdGhlIHNhbWUgbGVuZ3RoIC0tIG9uZSBvZiBrZXlzLCBhbmQgb25lIG9mXG4vLyB0aGUgY29ycmVzcG9uZGluZyB2YWx1ZXMuIFBhc3NpbmcgYnkgcGFpcnMgaXMgdGhlIHJldmVyc2Ugb2YgcGFpcnMuXG5leHBvcnQgZnVuY3Rpb24gb2JqZWN0KGxpc3QsIHZhbHVlcykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgobGlzdCk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgIHJlc3VsdFtsaXN0W2ldXSA9IHZhbHVlc1tpXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W2xpc3RbaV1bMF1dID0gbGlzdFtpXVsxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gR2VuZXJhdG9yIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgZmluZEluZGV4IGFuZCBmaW5kTGFzdEluZGV4IGZ1bmN0aW9ucy5cbmZ1bmN0aW9uIGNyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyKGRpcikge1xuICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGxlbmd0aCA9IGdldExlbmd0aChhcnJheSk7XG4gICAgdmFyIGluZGV4ID0gZGlyID4gMCA/IDAgOiBsZW5ndGggLSAxO1xuICAgIGZvciAoOyBpbmRleCA+PSAwICYmIGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSBkaXIpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSByZXR1cm4gaW5kZXg7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfTtcbn1cblxuLy8gUmV0dXJucyB0aGUgZmlyc3QgaW5kZXggb24gYW4gYXJyYXktbGlrZSB0aGF0IHBhc3NlcyBhIHByZWRpY2F0ZSB0ZXN0LlxuZXhwb3J0IHZhciBmaW5kSW5kZXggPSBjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcigxKTtcbmV4cG9ydCB2YXIgZmluZExhc3RJbmRleCA9IGNyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyKC0xKTtcblxuLy8gVXNlIGEgY29tcGFyYXRvciBmdW5jdGlvbiB0byBmaWd1cmUgb3V0IHRoZSBzbWFsbGVzdCBpbmRleCBhdCB3aGljaFxuLy8gYW4gb2JqZWN0IHNob3VsZCBiZSBpbnNlcnRlZCBzbyBhcyB0byBtYWludGFpbiBvcmRlci4gVXNlcyBiaW5hcnkgc2VhcmNoLlxuZXhwb3J0IGZ1bmN0aW9uIHNvcnRlZEluZGV4KGFycmF5LCBvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQsIDEpO1xuICB2YXIgdmFsdWUgPSBpdGVyYXRlZShvYmopO1xuICB2YXIgbG93ID0gMCwgaGlnaCA9IGdldExlbmd0aChhcnJheSk7XG4gIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgdmFyIG1pZCA9IE1hdGguZmxvb3IoKGxvdyArIGhpZ2gpIC8gMik7XG4gICAgaWYgKGl0ZXJhdGVlKGFycmF5W21pZF0pIDwgdmFsdWUpIGxvdyA9IG1pZCArIDE7IGVsc2UgaGlnaCA9IG1pZDtcbiAgfVxuICByZXR1cm4gbG93O1xufVxuXG4vLyBHZW5lcmF0b3IgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBpbmRleE9mIGFuZCBsYXN0SW5kZXhPZiBmdW5jdGlvbnMuXG5mdW5jdGlvbiBjcmVhdGVJbmRleEZpbmRlcihkaXIsIHByZWRpY2F0ZUZpbmQsIHNvcnRlZEluZGV4KSB7XG4gIHJldHVybiBmdW5jdGlvbihhcnJheSwgaXRlbSwgaWR4KSB7XG4gICAgdmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgIGlmICh0eXBlb2YgaWR4ID09ICdudW1iZXInKSB7XG4gICAgICBpZiAoZGlyID4gMCkge1xuICAgICAgICBpID0gaWR4ID49IDAgPyBpZHggOiBNYXRoLm1heChpZHggKyBsZW5ndGgsIGkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGVuZ3RoID0gaWR4ID49IDAgPyBNYXRoLm1pbihpZHggKyAxLCBsZW5ndGgpIDogaWR4ICsgbGVuZ3RoICsgMTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNvcnRlZEluZGV4ICYmIGlkeCAmJiBsZW5ndGgpIHtcbiAgICAgIGlkeCA9IHNvcnRlZEluZGV4KGFycmF5LCBpdGVtKTtcbiAgICAgIHJldHVybiBhcnJheVtpZHhdID09PSBpdGVtID8gaWR4IDogLTE7XG4gICAgfVxuICAgIGlmIChpdGVtICE9PSBpdGVtKSB7XG4gICAgICBpZHggPSBwcmVkaWNhdGVGaW5kKHNsaWNlLmNhbGwoYXJyYXksIGksIGxlbmd0aCksIGlzTmFOKTtcbiAgICAgIHJldHVybiBpZHggPj0gMCA/IGlkeCArIGkgOiAtMTtcbiAgICB9XG4gICAgZm9yIChpZHggPSBkaXIgPiAwID8gaSA6IGxlbmd0aCAtIDE7IGlkeCA+PSAwICYmIGlkeCA8IGxlbmd0aDsgaWR4ICs9IGRpcikge1xuICAgICAgaWYgKGFycmF5W2lkeF0gPT09IGl0ZW0pIHJldHVybiBpZHg7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfTtcbn1cblxuLy8gUmV0dXJuIHRoZSBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBhbiBpdGVtIGluIGFuIGFycmF5LFxuLy8gb3IgLTEgaWYgdGhlIGl0ZW0gaXMgbm90IGluY2x1ZGVkIGluIHRoZSBhcnJheS5cbi8vIElmIHRoZSBhcnJheSBpcyBsYXJnZSBhbmQgYWxyZWFkeSBpbiBzb3J0IG9yZGVyLCBwYXNzIGB0cnVlYFxuLy8gZm9yICoqaXNTb3J0ZWQqKiB0byB1c2UgYmluYXJ5IHNlYXJjaC5cbmV4cG9ydCB2YXIgaW5kZXhPZiA9IGNyZWF0ZUluZGV4RmluZGVyKDEsIGZpbmRJbmRleCwgc29ydGVkSW5kZXgpO1xuZXhwb3J0IHZhciBsYXN0SW5kZXhPZiA9IGNyZWF0ZUluZGV4RmluZGVyKC0xLCBmaW5kTGFzdEluZGV4KTtcblxuLy8gR2VuZXJhdGUgYW4gaW50ZWdlciBBcnJheSBjb250YWluaW5nIGFuIGFyaXRobWV0aWMgcHJvZ3Jlc3Npb24uIEEgcG9ydCBvZlxuLy8gdGhlIG5hdGl2ZSBQeXRob24gYHJhbmdlKClgIGZ1bmN0aW9uLiBTZWVcbi8vIFt0aGUgUHl0aG9uIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvZnVuY3Rpb25zLmh0bWwjcmFuZ2UpLlxuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlKHN0YXJ0LCBzdG9wLCBzdGVwKSB7XG4gIGlmIChzdG9wID09IG51bGwpIHtcbiAgICBzdG9wID0gc3RhcnQgfHwgMDtcbiAgICBzdGFydCA9IDA7XG4gIH1cbiAgaWYgKCFzdGVwKSB7XG4gICAgc3RlcCA9IHN0b3AgPCBzdGFydCA/IC0xIDogMTtcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBNYXRoLm1heChNYXRoLmNlaWwoKHN0b3AgLSBzdGFydCkgLyBzdGVwKSwgMCk7XG4gIHZhciByYW5nZSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKywgc3RhcnQgKz0gc3RlcCkge1xuICAgIHJhbmdlW2lkeF0gPSBzdGFydDtcbiAgfVxuXG4gIHJldHVybiByYW5nZTtcbn1cblxuLy8gQ2h1bmsgYSBzaW5nbGUgYXJyYXkgaW50byBtdWx0aXBsZSBhcnJheXMsIGVhY2ggY29udGFpbmluZyBgY291bnRgIG9yIGZld2VyXG4vLyBpdGVtcy5cbmV4cG9ydCBmdW5jdGlvbiBjaHVuayhhcnJheSwgY291bnQpIHtcbiAgaWYgKGNvdW50ID09IG51bGwgfHwgY291bnQgPCAxKSByZXR1cm4gW107XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdmFyIGkgPSAwLCBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChpIDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0LnB1c2goc2xpY2UuY2FsbChhcnJheSwgaSwgaSArPSBjb3VudCkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIEZ1bmN0aW9uIChhaGVtKSBGdW5jdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBEZXRlcm1pbmVzIHdoZXRoZXIgdG8gZXhlY3V0ZSBhIGZ1bmN0aW9uIGFzIGEgY29uc3RydWN0b3Jcbi8vIG9yIGEgbm9ybWFsIGZ1bmN0aW9uIHdpdGggdGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbmZ1bmN0aW9uIGV4ZWN1dGVCb3VuZChzb3VyY2VGdW5jLCBib3VuZEZ1bmMsIGNvbnRleHQsIGNhbGxpbmdDb250ZXh0LCBhcmdzKSB7XG4gIGlmICghKGNhbGxpbmdDb250ZXh0IGluc3RhbmNlb2YgYm91bmRGdW5jKSkgcmV0dXJuIHNvdXJjZUZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gIHZhciBzZWxmID0gYmFzZUNyZWF0ZShzb3VyY2VGdW5jLnByb3RvdHlwZSk7XG4gIHZhciByZXN1bHQgPSBzb3VyY2VGdW5jLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICBpZiAoaXNPYmplY3QocmVzdWx0KSkgcmV0dXJuIHJlc3VsdDtcbiAgcmV0dXJuIHNlbGY7XG59XG5cbi8vIENyZWF0ZSBhIGZ1bmN0aW9uIGJvdW5kIHRvIGEgZ2l2ZW4gb2JqZWN0IChhc3NpZ25pbmcgYHRoaXNgLCBhbmQgYXJndW1lbnRzLFxuLy8gb3B0aW9uYWxseSkuIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBGdW5jdGlvbi5iaW5kYCBpZlxuLy8gYXZhaWxhYmxlLlxuZXhwb3J0IHZhciBiaW5kID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihmdW5jLCBjb250ZXh0LCBhcmdzKSB7XG4gIGlmICghaXNGdW5jdGlvbihmdW5jKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQmluZCBtdXN0IGJlIGNhbGxlZCBvbiBhIGZ1bmN0aW9uJyk7XG4gIHZhciBib3VuZCA9IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24oY2FsbEFyZ3MpIHtcbiAgICByZXR1cm4gZXhlY3V0ZUJvdW5kKGZ1bmMsIGJvdW5kLCBjb250ZXh0LCB0aGlzLCBhcmdzLmNvbmNhdChjYWxsQXJncykpO1xuICB9KTtcbiAgcmV0dXJuIGJvdW5kO1xufSk7XG5cbi8vIFBhcnRpYWxseSBhcHBseSBhIGZ1bmN0aW9uIGJ5IGNyZWF0aW5nIGEgdmVyc2lvbiB0aGF0IGhhcyBoYWQgc29tZSBvZiBpdHNcbi8vIGFyZ3VtZW50cyBwcmUtZmlsbGVkLCB3aXRob3V0IGNoYW5naW5nIGl0cyBkeW5hbWljIGB0aGlzYCBjb250ZXh0LiBfIGFjdHNcbi8vIGFzIGEgcGxhY2Vob2xkZXIgYnkgZGVmYXVsdCwgYWxsb3dpbmcgYW55IGNvbWJpbmF0aW9uIG9mIGFyZ3VtZW50cyB0byBiZVxuLy8gcHJlLWZpbGxlZC4gU2V0IGBwYXJ0aWFsLnBsYWNlaG9sZGVyYCBmb3IgYSBjdXN0b20gcGxhY2Vob2xkZXIgYXJndW1lbnQuXG5leHBvcnQgdmFyIHBhcnRpYWwgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKGZ1bmMsIGJvdW5kQXJncykge1xuICB2YXIgcGxhY2Vob2xkZXIgPSBwYXJ0aWFsLnBsYWNlaG9sZGVyO1xuICB2YXIgYm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcG9zaXRpb24gPSAwLCBsZW5ndGggPSBib3VuZEFyZ3MubGVuZ3RoO1xuICAgIHZhciBhcmdzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYm91bmRBcmdzW2ldID09PSBwbGFjZWhvbGRlciA/IGFyZ3VtZW50c1twb3NpdGlvbisrXSA6IGJvdW5kQXJnc1tpXTtcbiAgICB9XG4gICAgd2hpbGUgKHBvc2l0aW9uIDwgYXJndW1lbnRzLmxlbmd0aCkgYXJncy5wdXNoKGFyZ3VtZW50c1twb3NpdGlvbisrXSk7XG4gICAgcmV0dXJuIGV4ZWN1dGVCb3VuZChmdW5jLCBib3VuZCwgdGhpcywgdGhpcywgYXJncyk7XG4gIH07XG4gIHJldHVybiBib3VuZDtcbn0pO1xuXG5wYXJ0aWFsLnBsYWNlaG9sZGVyID0gXztcblxuLy8gQmluZCBhIG51bWJlciBvZiBhbiBvYmplY3QncyBtZXRob2RzIHRvIHRoYXQgb2JqZWN0LiBSZW1haW5pbmcgYXJndW1lbnRzXG4vLyBhcmUgdGhlIG1ldGhvZCBuYW1lcyB0byBiZSBib3VuZC4gVXNlZnVsIGZvciBlbnN1cmluZyB0aGF0IGFsbCBjYWxsYmFja3Ncbi8vIGRlZmluZWQgb24gYW4gb2JqZWN0IGJlbG9uZyB0byBpdC5cbmV4cG9ydCB2YXIgYmluZEFsbCA9IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24ob2JqLCBfa2V5cykge1xuICBfa2V5cyA9IF9mbGF0dGVuKF9rZXlzLCBmYWxzZSwgZmFsc2UpO1xuICB2YXIgaW5kZXggPSBfa2V5cy5sZW5ndGg7XG4gIGlmIChpbmRleCA8IDEpIHRocm93IG5ldyBFcnJvcignYmluZEFsbCBtdXN0IGJlIHBhc3NlZCBmdW5jdGlvbiBuYW1lcycpO1xuICB3aGlsZSAoaW5kZXgtLSkge1xuICAgIHZhciBrZXkgPSBfa2V5c1tpbmRleF07XG4gICAgb2JqW2tleV0gPSBiaW5kKG9ialtrZXldLCBvYmopO1xuICB9XG59KTtcblxuLy8gTWVtb2l6ZSBhbiBleHBlbnNpdmUgZnVuY3Rpb24gYnkgc3RvcmluZyBpdHMgcmVzdWx0cy5cbmV4cG9ydCBmdW5jdGlvbiBtZW1vaXplKGZ1bmMsIGhhc2hlcikge1xuICB2YXIgbWVtb2l6ZSA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBjYWNoZSA9IG1lbW9pemUuY2FjaGU7XG4gICAgdmFyIGFkZHJlc3MgPSAnJyArIChoYXNoZXIgPyBoYXNoZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IGtleSk7XG4gICAgaWYgKCFfaGFzKGNhY2hlLCBhZGRyZXNzKSkgY2FjaGVbYWRkcmVzc10gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIGNhY2hlW2FkZHJlc3NdO1xuICB9O1xuICBtZW1vaXplLmNhY2hlID0ge307XG4gIHJldHVybiBtZW1vaXplO1xufVxuXG4vLyBEZWxheXMgYSBmdW5jdGlvbiBmb3IgdGhlIGdpdmVuIG51bWJlciBvZiBtaWxsaXNlY29uZHMsIGFuZCB0aGVuIGNhbGxzXG4vLyBpdCB3aXRoIHRoZSBhcmd1bWVudHMgc3VwcGxpZWQuXG5leHBvcnQgdmFyIGRlbGF5ID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihmdW5jLCB3YWl0LCBhcmdzKSB7XG4gIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jLmFwcGx5KG51bGwsIGFyZ3MpO1xuICB9LCB3YWl0KTtcbn0pO1xuXG4vLyBEZWZlcnMgYSBmdW5jdGlvbiwgc2NoZWR1bGluZyBpdCB0byBydW4gYWZ0ZXIgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXNcbi8vIGNsZWFyZWQuXG5leHBvcnQgdmFyIGRlZmVyID0gcGFydGlhbChkZWxheSwgXywgMSk7XG5cbi8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgd2hlbiBpbnZva2VkLCB3aWxsIG9ubHkgYmUgdHJpZ2dlcmVkIGF0IG1vc3Qgb25jZVxuLy8gZHVyaW5nIGEgZ2l2ZW4gd2luZG93IG9mIHRpbWUuIE5vcm1hbGx5LCB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHdpbGwgcnVuXG4vLyBhcyBtdWNoIGFzIGl0IGNhbiwgd2l0aG91dCBldmVyIGdvaW5nIG1vcmUgdGhhbiBvbmNlIHBlciBgd2FpdGAgZHVyYXRpb247XG4vLyBidXQgaWYgeW91J2QgbGlrZSB0byBkaXNhYmxlIHRoZSBleGVjdXRpb24gb24gdGhlIGxlYWRpbmcgZWRnZSwgcGFzc1xuLy8gYHtsZWFkaW5nOiBmYWxzZX1gLiBUbyBkaXNhYmxlIGV4ZWN1dGlvbiBvbiB0aGUgdHJhaWxpbmcgZWRnZSwgZGl0dG8uXG5leHBvcnQgZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgdGltZW91dCwgY29udGV4dCwgYXJncywgcmVzdWx0O1xuICB2YXIgcHJldmlvdXMgPSAwO1xuICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcblxuICB2YXIgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICBwcmV2aW91cyA9IG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UgPyAwIDogbm93KCk7XG4gICAgdGltZW91dCA9IG51bGw7XG4gICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgfTtcblxuICB2YXIgdGhyb3R0bGVkID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIF9ub3cgPSBub3coKTtcbiAgICBpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHByZXZpb3VzID0gX25vdztcbiAgICB2YXIgcmVtYWluaW5nID0gd2FpdCAtIChfbm93IC0gcHJldmlvdXMpO1xuICAgIGNvbnRleHQgPSB0aGlzO1xuICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgaWYgKHJlbWFpbmluZyA8PSAwIHx8IHJlbWFpbmluZyA+IHdhaXQpIHtcbiAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICB9XG4gICAgICBwcmV2aW91cyA9IF9ub3c7XG4gICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgfSBlbHNlIGlmICghdGltZW91dCAmJiBvcHRpb25zLnRyYWlsaW5nICE9PSBmYWxzZSkge1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgdGhyb3R0bGVkLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICBwcmV2aW91cyA9IDA7XG4gICAgdGltZW91dCA9IGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gdGhyb3R0bGVkO1xufVxuXG4vLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIGFzIGxvbmcgYXMgaXQgY29udGludWVzIHRvIGJlIGludm9rZWQsIHdpbGwgbm90XG4vLyBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXG4vLyBOIG1pbGxpc2Vjb25kcy4gSWYgYGltbWVkaWF0ZWAgaXMgcGFzc2VkLCB0cmlnZ2VyIHRoZSBmdW5jdGlvbiBvbiB0aGVcbi8vIGxlYWRpbmcgZWRnZSwgaW5zdGVhZCBvZiB0aGUgdHJhaWxpbmcuXG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG4gIHZhciB0aW1lb3V0LCByZXN1bHQ7XG5cbiAgdmFyIGxhdGVyID0gZnVuY3Rpb24oY29udGV4dCwgYXJncykge1xuICAgIHRpbWVvdXQgPSBudWxsO1xuICAgIGlmIChhcmdzKSByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICB9O1xuXG4gIHZhciBkZWJvdW5jZWQgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICBpZiAodGltZW91dCkgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgIHZhciBjYWxsTm93ID0gIXRpbWVvdXQ7XG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgICBpZiAoY2FsbE5vdykgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGltZW91dCA9IGRlbGF5KGxhdGVyLCB3YWl0LCB0aGlzLCBhcmdzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9KTtcblxuICBkZWJvdW5jZWQuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiBkZWJvdW5jZWQ7XG59XG5cbi8vIFJldHVybnMgdGhlIGZpcnN0IGZ1bmN0aW9uIHBhc3NlZCBhcyBhbiBhcmd1bWVudCB0byB0aGUgc2Vjb25kLFxuLy8gYWxsb3dpbmcgeW91IHRvIGFkanVzdCBhcmd1bWVudHMsIHJ1biBjb2RlIGJlZm9yZSBhbmQgYWZ0ZXIsIGFuZFxuLy8gY29uZGl0aW9uYWxseSBleGVjdXRlIHRoZSBvcmlnaW5hbCBmdW5jdGlvbi5cbmV4cG9ydCBmdW5jdGlvbiB3cmFwKGZ1bmMsIHdyYXBwZXIpIHtcbiAgcmV0dXJuIHBhcnRpYWwod3JhcHBlciwgZnVuYyk7XG59XG5cbi8vIFJldHVybnMgYSBuZWdhdGVkIHZlcnNpb24gb2YgdGhlIHBhc3NlZC1pbiBwcmVkaWNhdGUuXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRlKHByZWRpY2F0ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICFwcmVkaWNhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIGEgbGlzdCBvZiBmdW5jdGlvbnMsIGVhY2hcbi8vIGNvbnN1bWluZyB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmdW5jdGlvbiB0aGF0IGZvbGxvd3MuXG5leHBvcnQgZnVuY3Rpb24gY29tcG9zZSgpIHtcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gIHZhciBzdGFydCA9IGFyZ3MubGVuZ3RoIC0gMTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBpID0gc3RhcnQ7XG4gICAgdmFyIHJlc3VsdCA9IGFyZ3Nbc3RhcnRdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgd2hpbGUgKGktLSkgcmVzdWx0ID0gYXJnc1tpXS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cblxuLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIG9uIGFuZCBhZnRlciB0aGUgTnRoIGNhbGwuXG5leHBvcnQgZnVuY3Rpb24gYWZ0ZXIodGltZXMsIGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGlmICgtLXRpbWVzIDwgMSkge1xuICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH07XG59XG5cbi8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgb25seSBiZSBleGVjdXRlZCB1cCB0byAoYnV0IG5vdCBpbmNsdWRpbmcpIHRoZSBOdGggY2FsbC5cbmV4cG9ydCBmdW5jdGlvbiBiZWZvcmUodGltZXMsIGZ1bmMpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBpZiAoLS10aW1lcyA+IDApIHtcbiAgICAgIG1lbW8gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIGlmICh0aW1lcyA8PSAxKSBmdW5jID0gbnVsbDtcbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn1cblxuLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBhdCBtb3N0IG9uZSB0aW1lLCBubyBtYXR0ZXIgaG93XG4vLyBvZnRlbiB5b3UgY2FsbCBpdC4gVXNlZnVsIGZvciBsYXp5IGluaXRpYWxpemF0aW9uLlxuZXhwb3J0IHZhciBvbmNlID0gcGFydGlhbChiZWZvcmUsIDIpO1xuXG4vLyBPYmplY3QgRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tXG5cbi8vIEtleXMgaW4gSUUgPCA5IHRoYXQgd29uJ3QgYmUgaXRlcmF0ZWQgYnkgYGZvciBrZXkgaW4gLi4uYCBhbmQgdGh1cyBtaXNzZWQuXG52YXIgaGFzRW51bUJ1ZyA9ICF7dG9TdHJpbmc6IG51bGx9LnByb3BlcnR5SXNFbnVtZXJhYmxlKCd0b1N0cmluZycpO1xudmFyIG5vbkVudW1lcmFibGVQcm9wcyA9IFsndmFsdWVPZicsICdpc1Byb3RvdHlwZU9mJywgJ3RvU3RyaW5nJyxcbiAgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJ2hhc093blByb3BlcnR5JywgJ3RvTG9jYWxlU3RyaW5nJ107XG5cbmZ1bmN0aW9uIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBfa2V5cykge1xuICB2YXIgbm9uRW51bUlkeCA9IG5vbkVudW1lcmFibGVQcm9wcy5sZW5ndGg7XG4gIHZhciBjb25zdHJ1Y3RvciA9IG9iai5jb25zdHJ1Y3RvcjtcbiAgdmFyIHByb3RvID0gaXNGdW5jdGlvbihjb25zdHJ1Y3RvcikgJiYgY29uc3RydWN0b3IucHJvdG90eXBlIHx8IE9ialByb3RvO1xuXG4gIC8vIENvbnN0cnVjdG9yIGlzIGEgc3BlY2lhbCBjYXNlLlxuICB2YXIgcHJvcCA9ICdjb25zdHJ1Y3Rvcic7XG4gIGlmIChfaGFzKG9iaiwgcHJvcCkgJiYgIWNvbnRhaW5zKF9rZXlzLCBwcm9wKSkgX2tleXMucHVzaChwcm9wKTtcblxuICB3aGlsZSAobm9uRW51bUlkeC0tKSB7XG4gICAgcHJvcCA9IG5vbkVudW1lcmFibGVQcm9wc1tub25FbnVtSWR4XTtcbiAgICBpZiAocHJvcCBpbiBvYmogJiYgb2JqW3Byb3BdICE9PSBwcm90b1twcm9wXSAmJiAhY29udGFpbnMoX2tleXMsIHByb3ApKSB7XG4gICAgICBfa2V5cy5wdXNoKHByb3ApO1xuICAgIH1cbiAgfVxufVxuXG4vLyBSZXRyaWV2ZSB0aGUgbmFtZXMgb2YgYW4gb2JqZWN0J3Mgb3duIHByb3BlcnRpZXMuXG4vLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgT2JqZWN0LmtleXNgLlxuZXhwb3J0IGZ1bmN0aW9uIGtleXMob2JqKSB7XG4gIGlmICghaXNPYmplY3Qob2JqKSkgcmV0dXJuIFtdO1xuICBpZiAobmF0aXZlS2V5cykgcmV0dXJuIG5hdGl2ZUtleXMob2JqKTtcbiAgdmFyIF9rZXlzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBvYmopIGlmIChfaGFzKG9iaiwga2V5KSkgX2tleXMucHVzaChrZXkpO1xuICAvLyBBaGVtLCBJRSA8IDkuXG4gIGlmIChoYXNFbnVtQnVnKSBjb2xsZWN0Tm9uRW51bVByb3BzKG9iaiwgX2tleXMpO1xuICByZXR1cm4gX2tleXM7XG59XG5cbi8vIFJldHJpZXZlIGFsbCB0aGUgcHJvcGVydHkgbmFtZXMgb2YgYW4gb2JqZWN0LlxuZXhwb3J0IGZ1bmN0aW9uIGFsbEtleXMob2JqKSB7XG4gIGlmICghaXNPYmplY3Qob2JqKSkgcmV0dXJuIFtdO1xuICB2YXIgX2tleXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikgX2tleXMucHVzaChrZXkpO1xuICAvLyBBaGVtLCBJRSA8IDkuXG4gIGlmIChoYXNFbnVtQnVnKSBjb2xsZWN0Tm9uRW51bVByb3BzKG9iaiwgX2tleXMpO1xuICByZXR1cm4gX2tleXM7XG59XG5cbi8vIFJldHJpZXZlIHRoZSB2YWx1ZXMgb2YgYW4gb2JqZWN0J3MgcHJvcGVydGllcy5cbmV4cG9ydCBmdW5jdGlvbiB2YWx1ZXMob2JqKSB7XG4gIHZhciBfa2V5cyA9IGtleXMob2JqKTtcbiAgdmFyIGxlbmd0aCA9IF9rZXlzLmxlbmd0aDtcbiAgdmFyIHZhbHVlcyA9IEFycmF5KGxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YWx1ZXNbaV0gPSBvYmpbX2tleXNbaV1dO1xuICB9XG4gIHJldHVybiB2YWx1ZXM7XG59XG5cbi8vIFJldHVybnMgdGhlIHJlc3VsdHMgb2YgYXBwbHlpbmcgdGhlIGl0ZXJhdGVlIHRvIGVhY2ggZWxlbWVudCBvZiB0aGUgb2JqZWN0LlxuLy8gSW4gY29udHJhc3QgdG8gbWFwIGl0IHJldHVybnMgYW4gb2JqZWN0LlxuZXhwb3J0IGZ1bmN0aW9uIG1hcE9iamVjdChvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICB2YXIgX2tleXMgPSBrZXlzKG9iaiksXG4gICAgICBsZW5ndGggPSBfa2V5cy5sZW5ndGgsXG4gICAgICByZXN1bHRzID0ge307XG4gIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICB2YXIgY3VycmVudEtleSA9IF9rZXlzW2luZGV4XTtcbiAgICByZXN1bHRzW2N1cnJlbnRLZXldID0gaXRlcmF0ZWUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopO1xuICB9XG4gIHJldHVybiByZXN1bHRzO1xufVxuXG4vLyBDb252ZXJ0IGFuIG9iamVjdCBpbnRvIGEgbGlzdCBvZiBgW2tleSwgdmFsdWVdYCBwYWlycy5cbi8vIFRoZSBvcHBvc2l0ZSBvZiBvYmplY3QuXG5leHBvcnQgZnVuY3Rpb24gcGFpcnMob2JqKSB7XG4gIHZhciBfa2V5cyA9IGtleXMob2JqKTtcbiAgdmFyIGxlbmd0aCA9IF9rZXlzLmxlbmd0aDtcbiAgdmFyIHBhaXJzID0gQXJyYXkobGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHBhaXJzW2ldID0gW19rZXlzW2ldLCBvYmpbX2tleXNbaV1dXTtcbiAgfVxuICByZXR1cm4gcGFpcnM7XG59XG5cbi8vIEludmVydCB0aGUga2V5cyBhbmQgdmFsdWVzIG9mIGFuIG9iamVjdC4gVGhlIHZhbHVlcyBtdXN0IGJlIHNlcmlhbGl6YWJsZS5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob2JqKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgdmFyIF9rZXlzID0ga2V5cyhvYmopO1xuICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gX2tleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHRbb2JqW19rZXlzW2ldXV0gPSBfa2V5c1tpXTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBSZXR1cm4gYSBzb3J0ZWQgbGlzdCBvZiB0aGUgZnVuY3Rpb24gbmFtZXMgYXZhaWxhYmxlIG9uIHRoZSBvYmplY3QuXG5leHBvcnQgZnVuY3Rpb24gZnVuY3Rpb25zKG9iaikge1xuICB2YXIgbmFtZXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChpc0Z1bmN0aW9uKG9ialtrZXldKSkgbmFtZXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiBuYW1lcy5zb3J0KCk7XG59XG5leHBvcnQgeyBmdW5jdGlvbnMgYXMgbWV0aG9kcyB9O1xuXG4vLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYXNzaWduZXIgZnVuY3Rpb25zLlxuZnVuY3Rpb24gY3JlYXRlQXNzaWduZXIoa2V5c0Z1bmMsIGRlZmF1bHRzKSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBpZiAoZGVmYXVsdHMpIG9iaiA9IE9iamVjdChvYmopO1xuICAgIGlmIChsZW5ndGggPCAyIHx8IG9iaiA9PSBudWxsKSByZXR1cm4gb2JqO1xuICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdLFxuICAgICAgICAgIF9rZXlzID0ga2V5c0Z1bmMoc291cmNlKSxcbiAgICAgICAgICBsID0gX2tleXMubGVuZ3RoO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIGtleSA9IF9rZXlzW2ldO1xuICAgICAgICBpZiAoIWRlZmF1bHRzIHx8IG9ialtrZXldID09PSB2b2lkIDApIG9ialtrZXldID0gc291cmNlW2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH07XG59XG5cbi8vIEV4dGVuZCBhIGdpdmVuIG9iamVjdCB3aXRoIGFsbCB0aGUgcHJvcGVydGllcyBpbiBwYXNzZWQtaW4gb2JqZWN0KHMpLlxuZXhwb3J0IHZhciBleHRlbmQgPSBjcmVhdGVBc3NpZ25lcihhbGxLZXlzKTtcblxuLy8gQXNzaWducyBhIGdpdmVuIG9iamVjdCB3aXRoIGFsbCB0aGUgb3duIHByb3BlcnRpZXMgaW4gdGhlIHBhc3NlZC1pbiBvYmplY3QocykuXG4vLyAoaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnbilcbmV4cG9ydCB2YXIgZXh0ZW5kT3duID0gY3JlYXRlQXNzaWduZXIoa2V5cyk7XG5leHBvcnQgeyBleHRlbmRPd24gYXMgYXNzaWduIH07XG5cbi8vIFJldHVybnMgdGhlIGZpcnN0IGtleSBvbiBhbiBvYmplY3QgdGhhdCBwYXNzZXMgYSBwcmVkaWNhdGUgdGVzdC5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kS2V5KG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gIHZhciBfa2V5cyA9IGtleXMob2JqKSwga2V5O1xuICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gX2tleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBfa2V5c1tpXTtcbiAgICBpZiAocHJlZGljYXRlKG9ialtrZXldLCBrZXksIG9iaikpIHJldHVybiBrZXk7XG4gIH1cbn1cblxuLy8gSW50ZXJuYWwgcGljayBoZWxwZXIgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGlmIGBvYmpgIGhhcyBrZXkgYGtleWAuXG5mdW5jdGlvbiBrZXlJbk9iaih2YWx1ZSwga2V5LCBvYmopIHtcbiAgcmV0dXJuIGtleSBpbiBvYmo7XG59XG5cbi8vIFJldHVybiBhIGNvcHkgb2YgdGhlIG9iamVjdCBvbmx5IGNvbnRhaW5pbmcgdGhlIHdoaXRlbGlzdGVkIHByb3BlcnRpZXMuXG5leHBvcnQgdmFyIHBpY2sgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKG9iaiwgX2tleXMpIHtcbiAgdmFyIHJlc3VsdCA9IHt9LCBpdGVyYXRlZSA9IF9rZXlzWzBdO1xuICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHQ7XG4gIGlmIChpc0Z1bmN0aW9uKGl0ZXJhdGVlKSkge1xuICAgIGlmIChfa2V5cy5sZW5ndGggPiAxKSBpdGVyYXRlZSA9IG9wdGltaXplQ2IoaXRlcmF0ZWUsIF9rZXlzWzFdKTtcbiAgICBfa2V5cyA9IGFsbEtleXMob2JqKTtcbiAgfSBlbHNlIHtcbiAgICBpdGVyYXRlZSA9IGtleUluT2JqO1xuICAgIF9rZXlzID0gX2ZsYXR0ZW4oX2tleXMsIGZhbHNlLCBmYWxzZSk7XG4gICAgb2JqID0gT2JqZWN0KG9iaik7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IF9rZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IF9rZXlzW2ldO1xuICAgIHZhciB2YWx1ZSA9IG9ialtrZXldO1xuICAgIGlmIChpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmopKSByZXN1bHRba2V5XSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59KTtcblxuLy8gUmV0dXJuIGEgY29weSBvZiB0aGUgb2JqZWN0IHdpdGhvdXQgdGhlIGJsYWNrbGlzdGVkIHByb3BlcnRpZXMuXG5leHBvcnQgdmFyIG9taXQgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKG9iaiwgX2tleXMpIHtcbiAgdmFyIGl0ZXJhdGVlID0gX2tleXNbMF0sIGNvbnRleHQ7XG4gIGlmIChpc0Z1bmN0aW9uKGl0ZXJhdGVlKSkge1xuICAgIGl0ZXJhdGVlID0gbmVnYXRlKGl0ZXJhdGVlKTtcbiAgICBpZiAoX2tleXMubGVuZ3RoID4gMSkgY29udGV4dCA9IF9rZXlzWzFdO1xuICB9IGVsc2Uge1xuICAgIF9rZXlzID0gbWFwKF9mbGF0dGVuKF9rZXlzLCBmYWxzZSwgZmFsc2UpLCBTdHJpbmcpO1xuICAgIGl0ZXJhdGVlID0gZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgcmV0dXJuICFjb250YWlucyhfa2V5cywga2V5KTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBwaWNrKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpO1xufSk7XG5cbi8vIEZpbGwgaW4gYSBnaXZlbiBvYmplY3Qgd2l0aCBkZWZhdWx0IHByb3BlcnRpZXMuXG5leHBvcnQgdmFyIGRlZmF1bHRzID0gY3JlYXRlQXNzaWduZXIoYWxsS2V5cywgdHJ1ZSk7XG5cbi8vIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSB0aGUgZ2l2ZW4gcHJvdG90eXBlIG9iamVjdC5cbi8vIElmIGFkZGl0aW9uYWwgcHJvcGVydGllcyBhcmUgcHJvdmlkZWQgdGhlbiB0aGV5IHdpbGwgYmUgYWRkZWQgdG8gdGhlXG4vLyBjcmVhdGVkIG9iamVjdC5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUocHJvdG90eXBlLCBwcm9wcykge1xuICB2YXIgcmVzdWx0ID0gYmFzZUNyZWF0ZShwcm90b3R5cGUpO1xuICBpZiAocHJvcHMpIGV4dGVuZE93bihyZXN1bHQsIHByb3BzKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gQ3JlYXRlIGEgKHNoYWxsb3ctY2xvbmVkKSBkdXBsaWNhdGUgb2YgYW4gb2JqZWN0LlxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKG9iaikge1xuICBpZiAoIWlzT2JqZWN0KG9iaikpIHJldHVybiBvYmo7XG4gIHJldHVybiBpc0FycmF5KG9iaikgPyBvYmouc2xpY2UoKSA6IGV4dGVuZCh7fSwgb2JqKTtcbn1cblxuLy8gSW52b2tlcyBpbnRlcmNlcHRvciB3aXRoIHRoZSBvYmosIGFuZCB0aGVuIHJldHVybnMgb2JqLlxuLy8gVGhlIHByaW1hcnkgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0byBcInRhcCBpbnRvXCIgYSBtZXRob2QgY2hhaW4sIGluXG4vLyBvcmRlciB0byBwZXJmb3JtIG9wZXJhdGlvbnMgb24gaW50ZXJtZWRpYXRlIHJlc3VsdHMgd2l0aGluIHRoZSBjaGFpbi5cbmV4cG9ydCBmdW5jdGlvbiB0YXAob2JqLCBpbnRlcmNlcHRvcikge1xuICBpbnRlcmNlcHRvcihvYmopO1xuICByZXR1cm4gb2JqO1xufVxuXG4vLyBSZXR1cm5zIHdoZXRoZXIgYW4gb2JqZWN0IGhhcyBhIGdpdmVuIHNldCBvZiBga2V5OnZhbHVlYCBwYWlycy5cbmV4cG9ydCBmdW5jdGlvbiBpc01hdGNoKG9iamVjdCwgYXR0cnMpIHtcbiAgdmFyIF9rZXlzID0ga2V5cyhhdHRycyksIGxlbmd0aCA9IF9rZXlzLmxlbmd0aDtcbiAgaWYgKG9iamVjdCA9PSBudWxsKSByZXR1cm4gIWxlbmd0aDtcbiAgdmFyIG9iaiA9IE9iamVjdChvYmplY3QpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IF9rZXlzW2ldO1xuICAgIGlmIChhdHRyc1trZXldICE9PSBvYmpba2V5XSB8fCAhKGtleSBpbiBvYmopKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cblxuLy8gSW50ZXJuYWwgcmVjdXJzaXZlIGNvbXBhcmlzb24gZnVuY3Rpb24gZm9yIGBpc0VxdWFsYC5cbmZ1bmN0aW9uIGVxKGEsIGIsIGFTdGFjaywgYlN0YWNrKSB7XG4gIC8vIElkZW50aWNhbCBvYmplY3RzIGFyZSBlcXVhbC4gYDAgPT09IC0wYCwgYnV0IHRoZXkgYXJlbid0IGlkZW50aWNhbC5cbiAgLy8gU2VlIHRoZSBbSGFybW9ueSBgZWdhbGAgcHJvcG9zYWxdKGh0dHBzOi8vd2lraS5lY21hc2NyaXB0Lm9yZy9kb2t1LnBocD9pZD1oYXJtb255OmVnYWwpLlxuICBpZiAoYSA9PT0gYikgcmV0dXJuIGEgIT09IDAgfHwgMSAvIGEgPT09IDEgLyBiO1xuICAvLyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAgb25seSBlcXVhbCB0byBpdHNlbGYgKHN0cmljdCBjb21wYXJpc29uKS5cbiAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgLy8gYE5hTmBzIGFyZSBlcXVpdmFsZW50LCBidXQgbm9uLXJlZmxleGl2ZS5cbiAgaWYgKGEgIT09IGEpIHJldHVybiBiICE9PSBiO1xuICAvLyBFeGhhdXN0IHByaW1pdGl2ZSBjaGVja3NcbiAgdmFyIHR5cGUgPSB0eXBlb2YgYTtcbiAgaWYgKHR5cGUgIT09ICdmdW5jdGlvbicgJiYgdHlwZSAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIGIgIT0gJ29iamVjdCcpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIGRlZXBFcShhLCBiLCBhU3RhY2ssIGJTdGFjayk7XG59XG5cbi8vIEludGVybmFsIHJlY3Vyc2l2ZSBjb21wYXJpc29uIGZ1bmN0aW9uIGZvciBgaXNFcXVhbGAuXG5mdW5jdGlvbiBkZWVwRXEoYSwgYiwgYVN0YWNrLCBiU3RhY2spIHtcbiAgLy8gVW53cmFwIGFueSB3cmFwcGVkIG9iamVjdHMuXG4gIGlmIChhIGluc3RhbmNlb2YgXykgYSA9IGEuX3dyYXBwZWQ7XG4gIGlmIChiIGluc3RhbmNlb2YgXykgYiA9IGIuX3dyYXBwZWQ7XG4gIC8vIENvbXBhcmUgYFtbQ2xhc3NdXWAgbmFtZXMuXG4gIHZhciBjbGFzc05hbWUgPSB0b1N0cmluZy5jYWxsKGEpO1xuICBpZiAoY2xhc3NOYW1lICE9PSB0b1N0cmluZy5jYWxsKGIpKSByZXR1cm4gZmFsc2U7XG4gIHN3aXRjaCAoY2xhc3NOYW1lKSB7XG4gICAgLy8gU3RyaW5ncywgbnVtYmVycywgcmVndWxhciBleHByZXNzaW9ucywgZGF0ZXMsIGFuZCBib29sZWFucyBhcmUgY29tcGFyZWQgYnkgdmFsdWUuXG4gICAgY2FzZSAnW29iamVjdCBSZWdFeHBdJzpcbiAgICAvLyBSZWdFeHBzIGFyZSBjb2VyY2VkIHRvIHN0cmluZ3MgZm9yIGNvbXBhcmlzb24gKE5vdGU6ICcnICsgL2EvaSA9PT0gJy9hL2knKVxuICAgIGNhc2UgJ1tvYmplY3QgU3RyaW5nXSc6XG4gICAgICAvLyBQcmltaXRpdmVzIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIG9iamVjdCB3cmFwcGVycyBhcmUgZXF1aXZhbGVudDsgdGh1cywgYFwiNVwiYCBpc1xuICAgICAgLy8gZXF1aXZhbGVudCB0byBgbmV3IFN0cmluZyhcIjVcIilgLlxuICAgICAgcmV0dXJuICcnICsgYSA9PT0gJycgKyBiO1xuICAgIGNhc2UgJ1tvYmplY3QgTnVtYmVyXSc6XG4gICAgICAvLyBgTmFOYHMgYXJlIGVxdWl2YWxlbnQsIGJ1dCBub24tcmVmbGV4aXZlLlxuICAgICAgLy8gT2JqZWN0KE5hTikgaXMgZXF1aXZhbGVudCB0byBOYU4uXG4gICAgICBpZiAoK2EgIT09ICthKSByZXR1cm4gK2IgIT09ICtiO1xuICAgICAgLy8gQW4gYGVnYWxgIGNvbXBhcmlzb24gaXMgcGVyZm9ybWVkIGZvciBvdGhlciBudW1lcmljIHZhbHVlcy5cbiAgICAgIHJldHVybiArYSA9PT0gMCA/IDEgLyArYSA9PT0gMSAvIGIgOiArYSA9PT0gK2I7XG4gICAgY2FzZSAnW29iamVjdCBEYXRlXSc6XG4gICAgY2FzZSAnW29iamVjdCBCb29sZWFuXSc6XG4gICAgICAvLyBDb2VyY2UgZGF0ZXMgYW5kIGJvb2xlYW5zIHRvIG51bWVyaWMgcHJpbWl0aXZlIHZhbHVlcy4gRGF0ZXMgYXJlIGNvbXBhcmVkIGJ5IHRoZWlyXG4gICAgICAvLyBtaWxsaXNlY29uZCByZXByZXNlbnRhdGlvbnMuIE5vdGUgdGhhdCBpbnZhbGlkIGRhdGVzIHdpdGggbWlsbGlzZWNvbmQgcmVwcmVzZW50YXRpb25zXG4gICAgICAvLyBvZiBgTmFOYCBhcmUgbm90IGVxdWl2YWxlbnQuXG4gICAgICByZXR1cm4gK2EgPT09ICtiO1xuICAgIGNhc2UgJ1tvYmplY3QgU3ltYm9sXSc6XG4gICAgICByZXR1cm4gU3ltYm9sUHJvdG8udmFsdWVPZi5jYWxsKGEpID09PSBTeW1ib2xQcm90by52YWx1ZU9mLmNhbGwoYik7XG4gIH1cblxuICB2YXIgYXJlQXJyYXlzID0gY2xhc3NOYW1lID09PSAnW29iamVjdCBBcnJheV0nO1xuICBpZiAoIWFyZUFycmF5cykge1xuICAgIGlmICh0eXBlb2YgYSAhPSAnb2JqZWN0JyB8fCB0eXBlb2YgYiAhPSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xuXG4gICAgLy8gT2JqZWN0cyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVpdmFsZW50LCBidXQgYE9iamVjdGBzIG9yIGBBcnJheWBzXG4gICAgLy8gZnJvbSBkaWZmZXJlbnQgZnJhbWVzIGFyZS5cbiAgICB2YXIgYUN0b3IgPSBhLmNvbnN0cnVjdG9yLCBiQ3RvciA9IGIuY29uc3RydWN0b3I7XG4gICAgaWYgKGFDdG9yICE9PSBiQ3RvciAmJiAhKGlzRnVuY3Rpb24oYUN0b3IpICYmIGFDdG9yIGluc3RhbmNlb2YgYUN0b3IgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNGdW5jdGlvbihiQ3RvcikgJiYgYkN0b3IgaW5zdGFuY2VvZiBiQ3RvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICYmICgnY29uc3RydWN0b3InIGluIGEgJiYgJ2NvbnN0cnVjdG9yJyBpbiBiKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICAvLyBBc3N1bWUgZXF1YWxpdHkgZm9yIGN5Y2xpYyBzdHJ1Y3R1cmVzLiBUaGUgYWxnb3JpdGhtIGZvciBkZXRlY3RpbmcgY3ljbGljXG4gIC8vIHN0cnVjdHVyZXMgaXMgYWRhcHRlZCBmcm9tIEVTIDUuMSBzZWN0aW9uIDE1LjEyLjMsIGFic3RyYWN0IG9wZXJhdGlvbiBgSk9gLlxuXG4gIC8vIEluaXRpYWxpemluZyBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgLy8gSXQncyBkb25lIGhlcmUgc2luY2Ugd2Ugb25seSBuZWVkIHRoZW0gZm9yIG9iamVjdHMgYW5kIGFycmF5cyBjb21wYXJpc29uLlxuICBhU3RhY2sgPSBhU3RhY2sgfHwgW107XG4gIGJTdGFjayA9IGJTdGFjayB8fCBbXTtcbiAgdmFyIGxlbmd0aCA9IGFTdGFjay5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIC8vIExpbmVhciBzZWFyY2guIFBlcmZvcm1hbmNlIGlzIGludmVyc2VseSBwcm9wb3J0aW9uYWwgdG8gdGhlIG51bWJlciBvZlxuICAgIC8vIHVuaXF1ZSBuZXN0ZWQgc3RydWN0dXJlcy5cbiAgICBpZiAoYVN0YWNrW2xlbmd0aF0gPT09IGEpIHJldHVybiBiU3RhY2tbbGVuZ3RoXSA9PT0gYjtcbiAgfVxuXG4gIC8vIEFkZCB0aGUgZmlyc3Qgb2JqZWN0IHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgYVN0YWNrLnB1c2goYSk7XG4gIGJTdGFjay5wdXNoKGIpO1xuXG4gIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyBhbmQgYXJyYXlzLlxuICBpZiAoYXJlQXJyYXlzKSB7XG4gICAgLy8gQ29tcGFyZSBhcnJheSBsZW5ndGhzIHRvIGRldGVybWluZSBpZiBhIGRlZXAgY29tcGFyaXNvbiBpcyBuZWNlc3NhcnkuXG4gICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAvLyBEZWVwIGNvbXBhcmUgdGhlIGNvbnRlbnRzLCBpZ25vcmluZyBub24tbnVtZXJpYyBwcm9wZXJ0aWVzLlxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKCFlcShhW2xlbmd0aF0sIGJbbGVuZ3RoXSwgYVN0YWNrLCBiU3RhY2spKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIERlZXAgY29tcGFyZSBvYmplY3RzLlxuICAgIHZhciBfa2V5cyA9IGtleXMoYSksIGtleTtcbiAgICBsZW5ndGggPSBfa2V5cy5sZW5ndGg7XG4gICAgLy8gRW5zdXJlIHRoYXQgYm90aCBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUgbnVtYmVyIG9mIHByb3BlcnRpZXMgYmVmb3JlIGNvbXBhcmluZyBkZWVwIGVxdWFsaXR5LlxuICAgIGlmIChrZXlzKGIpLmxlbmd0aCAhPT0gbGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgZWFjaCBtZW1iZXJcbiAgICAgIGtleSA9IF9rZXlzW2xlbmd0aF07XG4gICAgICBpZiAoIShfaGFzKGIsIGtleSkgJiYgZXEoYVtrZXldLCBiW2tleV0sIGFTdGFjaywgYlN0YWNrKSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgLy8gUmVtb3ZlIHRoZSBmaXJzdCBvYmplY3QgZnJvbSB0aGUgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXG4gIGFTdGFjay5wb3AoKTtcbiAgYlN0YWNrLnBvcCgpO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gUGVyZm9ybSBhIGRlZXAgY29tcGFyaXNvbiB0byBjaGVjayBpZiB0d28gb2JqZWN0cyBhcmUgZXF1YWwuXG5leHBvcnQgZnVuY3Rpb24gaXNFcXVhbChhLCBiKSB7XG4gIHJldHVybiBlcShhLCBiKTtcbn1cblxuLy8gSXMgYSBnaXZlbiBhcnJheSwgc3RyaW5nLCBvciBvYmplY3QgZW1wdHk/XG4vLyBBbiBcImVtcHR5XCIgb2JqZWN0IGhhcyBubyBlbnVtZXJhYmxlIG93bi1wcm9wZXJ0aWVzLlxuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHkob2JqKSB7XG4gIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHRydWU7XG4gIGlmIChpc0FycmF5TGlrZShvYmopICYmIChpc0FycmF5KG9iaikgfHwgaXNTdHJpbmcob2JqKSB8fCBpc0FyZ3VtZW50cyhvYmopKSkgcmV0dXJuIG9iai5sZW5ndGggPT09IDA7XG4gIHJldHVybiBrZXlzKG9iaikubGVuZ3RoID09PSAwO1xufVxuXG4vLyBJcyBhIGdpdmVuIHZhbHVlIGEgRE9NIGVsZW1lbnQ/XG5leHBvcnQgZnVuY3Rpb24gaXNFbGVtZW50KG9iaikge1xuICByZXR1cm4gISEob2JqICYmIG9iai5ub2RlVHlwZSA9PT0gMSk7XG59XG5cbi8vIEludGVybmFsIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBhIHRvU3RyaW5nLWJhc2VkIHR5cGUgdGVzdGVyLlxuZnVuY3Rpb24gdGFnVGVzdGVyKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0ICcgKyBuYW1lICsgJ10nO1xuICB9O1xufVxuXG4vLyBJcyBhIGdpdmVuIHZhbHVlIGFuIGFycmF5P1xuLy8gRGVsZWdhdGVzIHRvIEVDTUE1J3MgbmF0aXZlIEFycmF5LmlzQXJyYXlcbmV4cG9ydCB2YXIgaXNBcnJheSA9IG5hdGl2ZUlzQXJyYXkgfHwgdGFnVGVzdGVyKCdBcnJheScpO1xuXG4vLyBJcyBhIGdpdmVuIHZhcmlhYmxlIGFuIG9iamVjdD9cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdChvYmopIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2Ygb2JqO1xuICByZXR1cm4gdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlID09PSAnb2JqZWN0JyAmJiAhIW9iajtcbn1cblxuLy8gQWRkIHNvbWUgaXNUeXBlIG1ldGhvZHM6IGlzQXJndW1lbnRzLCBpc0Z1bmN0aW9uLCBpc1N0cmluZywgaXNOdW1iZXIsIGlzRGF0ZSwgaXNSZWdFeHAsIGlzRXJyb3IsIGlzTWFwLCBpc1dlYWtNYXAsIGlzU2V0LCBpc1dlYWtTZXQuXG5leHBvcnQgdmFyIGlzQXJndW1lbnRzID0gdGFnVGVzdGVyKCdBcmd1bWVudHMnKTtcbmV4cG9ydCB2YXIgaXNGdW5jdGlvbiA9IHRhZ1Rlc3RlcignRnVuY3Rpb24nKTtcbmV4cG9ydCB2YXIgaXNTdHJpbmcgPSB0YWdUZXN0ZXIoJ1N0cmluZycpO1xuZXhwb3J0IHZhciBpc051bWJlciA9IHRhZ1Rlc3RlcignTnVtYmVyJyk7XG5leHBvcnQgdmFyIGlzRGF0ZSA9IHRhZ1Rlc3RlcignRGF0ZScpO1xuZXhwb3J0IHZhciBpc1JlZ0V4cCA9IHRhZ1Rlc3RlcignUmVnRXhwJyk7XG5leHBvcnQgdmFyIGlzRXJyb3IgPSB0YWdUZXN0ZXIoJ0Vycm9yJyk7XG5leHBvcnQgdmFyIGlzU3ltYm9sID0gdGFnVGVzdGVyKCdTeW1ib2wnKTtcbmV4cG9ydCB2YXIgaXNNYXAgPSB0YWdUZXN0ZXIoJ01hcCcpO1xuZXhwb3J0IHZhciBpc1dlYWtNYXAgPSB0YWdUZXN0ZXIoJ1dlYWtNYXAnKTtcbmV4cG9ydCB2YXIgaXNTZXQgPSB0YWdUZXN0ZXIoJ1NldCcpO1xuZXhwb3J0IHZhciBpc1dlYWtTZXQgPSB0YWdUZXN0ZXIoJ1dlYWtTZXQnKTtcblxuLy8gRGVmaW5lIGEgZmFsbGJhY2sgdmVyc2lvbiBvZiB0aGUgbWV0aG9kIGluIGJyb3dzZXJzIChhaGVtLCBJRSA8IDkpLCB3aGVyZVxuLy8gdGhlcmUgaXNuJ3QgYW55IGluc3BlY3RhYmxlIFwiQXJndW1lbnRzXCIgdHlwZS5cbihmdW5jdGlvbigpIHtcbiAgaWYgKCFpc0FyZ3VtZW50cyhhcmd1bWVudHMpKSB7XG4gICAgaXNBcmd1bWVudHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBfaGFzKG9iaiwgJ2NhbGxlZScpO1xuICAgIH07XG4gIH1cbn0oKSk7XG5cbi8vIE9wdGltaXplIGBpc0Z1bmN0aW9uYCBpZiBhcHByb3ByaWF0ZS4gV29yayBhcm91bmQgc29tZSB0eXBlb2YgYnVncyBpbiBvbGQgdjgsXG4vLyBJRSAxMSAoIzE2MjEpLCBTYWZhcmkgOCAoIzE5MjkpLCBhbmQgUGhhbnRvbUpTICgjMjIzNikuXG52YXIgbm9kZWxpc3QgPSByb290LmRvY3VtZW50ICYmIHJvb3QuZG9jdW1lbnQuY2hpbGROb2RlcztcbmlmICh0eXBlb2YgLy4vICE9ICdmdW5jdGlvbicgJiYgdHlwZW9mIEludDhBcnJheSAhPSAnb2JqZWN0JyAmJiB0eXBlb2Ygbm9kZWxpc3QgIT0gJ2Z1bmN0aW9uJykge1xuICBpc0Z1bmN0aW9uID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT0gJ2Z1bmN0aW9uJyB8fCBmYWxzZTtcbiAgfTtcbn1cblxuLy8gSXMgYSBnaXZlbiBvYmplY3QgYSBmaW5pdGUgbnVtYmVyP1xuZXhwb3J0IGZ1bmN0aW9uIGlzRmluaXRlKG9iaikge1xuICByZXR1cm4gIWlzU3ltYm9sKG9iaikgJiYgX2lzRmluaXRlKG9iaikgJiYgIV9pc05hTihwYXJzZUZsb2F0KG9iaikpO1xufVxuXG4vLyBJcyB0aGUgZ2l2ZW4gdmFsdWUgYE5hTmA/XG5leHBvcnQgZnVuY3Rpb24gaXNOYU4ob2JqKSB7XG4gIHJldHVybiBpc051bWJlcihvYmopICYmIF9pc05hTihvYmopO1xufVxuXG4vLyBJcyBhIGdpdmVuIHZhbHVlIGEgYm9vbGVhbj9cbmV4cG9ydCBmdW5jdGlvbiBpc0Jvb2xlYW4ob2JqKSB7XG4gIHJldHVybiBvYmogPT09IHRydWUgfHwgb2JqID09PSBmYWxzZSB8fCB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEJvb2xlYW5dJztcbn1cblxuLy8gSXMgYSBnaXZlbiB2YWx1ZSBlcXVhbCB0byBudWxsP1xuZXhwb3J0IGZ1bmN0aW9uIGlzTnVsbChvYmopIHtcbiAgcmV0dXJuIG9iaiA9PT0gbnVsbDtcbn1cblxuLy8gSXMgYSBnaXZlbiB2YXJpYWJsZSB1bmRlZmluZWQ/XG5leHBvcnQgZnVuY3Rpb24gaXNVbmRlZmluZWQob2JqKSB7XG4gIHJldHVybiBvYmogPT09IHZvaWQgMDtcbn1cblxuLy8gU2hvcnRjdXQgZnVuY3Rpb24gZm9yIGNoZWNraW5nIGlmIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBwcm9wZXJ0eSBkaXJlY3RseVxuLy8gb24gaXRzZWxmIChpbiBvdGhlciB3b3Jkcywgbm90IG9uIGEgcHJvdG90eXBlKS5cbmV4cG9ydCBmdW5jdGlvbiBoYXMob2JqLCBwYXRoKSB7XG4gIGlmICghaXNBcnJheShwYXRoKSkge1xuICAgIHJldHVybiBfaGFzKG9iaiwgcGF0aCk7XG4gIH1cbiAgdmFyIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHBhdGhbaV07XG4gICAgaWYgKG9iaiA9PSBudWxsIHx8ICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBvYmogPSBvYmpba2V5XTtcbiAgfVxuICByZXR1cm4gISFsZW5ndGg7XG59XG5cbi8vIFV0aWxpdHkgRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBLZWVwIHRoZSBpZGVudGl0eSBmdW5jdGlvbiBhcm91bmQgZm9yIGRlZmF1bHQgaXRlcmF0ZWVzLlxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuLy8gUHJlZGljYXRlLWdlbmVyYXRpbmcgZnVuY3Rpb25zLiBPZnRlbiB1c2VmdWwgb3V0c2lkZSBvZiBVbmRlcnNjb3JlLlxuZXhwb3J0IGZ1bmN0aW9uIGNvbnN0YW50KHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub29wKCl7fVxuXG4vLyBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBwYXNzZWQgYW4gb2JqZWN0LCB3aWxsIHRyYXZlcnNlIHRoYXQgb2JqZWN04oCZc1xuLy8gcHJvcGVydGllcyBkb3duIHRoZSBnaXZlbiBgcGF0aGAsIHNwZWNpZmllZCBhcyBhbiBhcnJheSBvZiBrZXlzIG9yIGluZGV4ZXMuXG5leHBvcnQgZnVuY3Rpb24gcHJvcGVydHkocGF0aCkge1xuICBpZiAoIWlzQXJyYXkocGF0aCkpIHtcbiAgICByZXR1cm4gc2hhbGxvd1Byb3BlcnR5KHBhdGgpO1xuICB9XG4gIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gZGVlcEdldChvYmosIHBhdGgpO1xuICB9O1xufVxuXG4vLyBHZW5lcmF0ZXMgYSBmdW5jdGlvbiBmb3IgYSBnaXZlbiBvYmplY3QgdGhhdCByZXR1cm5zIGEgZ2l2ZW4gcHJvcGVydHkuXG5leHBvcnQgZnVuY3Rpb24gcHJvcGVydHlPZihvYmopIHtcbiAgaWYgKG9iaiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCl7fTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuICAgIHJldHVybiAhaXNBcnJheShwYXRoKSA/IG9ialtwYXRoXSA6IGRlZXBHZXQob2JqLCBwYXRoKTtcbiAgfTtcbn1cblxuLy8gUmV0dXJucyBhIHByZWRpY2F0ZSBmb3IgY2hlY2tpbmcgd2hldGhlciBhbiBvYmplY3QgaGFzIGEgZ2l2ZW4gc2V0IG9mXG4vLyBga2V5OnZhbHVlYCBwYWlycy5cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaGVyKGF0dHJzKSB7XG4gIGF0dHJzID0gZXh0ZW5kT3duKHt9LCBhdHRycyk7XG4gIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gaXNNYXRjaChvYmosIGF0dHJzKTtcbiAgfTtcbn1cbmV4cG9ydCB7IG1hdGNoZXIgYXMgbWF0Y2hlcyB9O1xuXG4vLyBSdW4gYSBmdW5jdGlvbiAqKm4qKiB0aW1lcy5cbmV4cG9ydCBmdW5jdGlvbiB0aW1lcyhuLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICB2YXIgYWNjdW0gPSBBcnJheShNYXRoLm1heCgwLCBuKSk7XG4gIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCwgMSk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSBhY2N1bVtpXSA9IGl0ZXJhdGVlKGkpO1xuICByZXR1cm4gYWNjdW07XG59XG5cbi8vIFJldHVybiBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gbWluIGFuZCBtYXggKGluY2x1c2l2ZSkuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG1pbiwgbWF4KSB7XG4gIGlmIChtYXggPT0gbnVsbCkge1xuICAgIG1heCA9IG1pbjtcbiAgICBtaW4gPSAwO1xuICB9XG4gIHJldHVybiBtaW4gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpO1xufVxuXG4vLyBBIChwb3NzaWJseSBmYXN0ZXIpIHdheSB0byBnZXQgdGhlIGN1cnJlbnQgdGltZXN0YW1wIGFzIGFuIGludGVnZXIuXG5leHBvcnQgdmFyIG5vdyA9IERhdGUubm93IHx8IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG59O1xuXG4vLyBMaXN0IG9mIEhUTUwgZW50aXRpZXMgZm9yIGVzY2FwaW5nLlxudmFyIGVzY2FwZU1hcCA9IHtcbiAgJyYnOiAnJmFtcDsnLFxuICAnPCc6ICcmbHQ7JyxcbiAgJz4nOiAnJmd0OycsXG4gICdcIic6ICcmcXVvdDsnLFxuICBcIidcIjogJyYjeDI3OycsXG4gICdgJzogJyYjeDYwOydcbn07XG52YXIgdW5lc2NhcGVNYXAgPSBpbnZlcnQoZXNjYXBlTWFwKTtcblxuLy8gRnVuY3Rpb25zIGZvciBlc2NhcGluZyBhbmQgdW5lc2NhcGluZyBzdHJpbmdzIHRvL2Zyb20gSFRNTCBpbnRlcnBvbGF0aW9uLlxuZnVuY3Rpb24gY3JlYXRlRXNjYXBlcihtYXApIHtcbiAgdmFyIGVzY2FwZXIgPSBmdW5jdGlvbihtYXRjaCkge1xuICAgIHJldHVybiBtYXBbbWF0Y2hdO1xuICB9O1xuICAvLyBSZWdleGVzIGZvciBpZGVudGlmeWluZyBhIGtleSB0aGF0IG5lZWRzIHRvIGJlIGVzY2FwZWQuXG4gIHZhciBzb3VyY2UgPSAnKD86JyArIGtleXMobWFwKS5qb2luKCd8JykgKyAnKSc7XG4gIHZhciB0ZXN0UmVnZXhwID0gUmVnRXhwKHNvdXJjZSk7XG4gIHZhciByZXBsYWNlUmVnZXhwID0gUmVnRXhwKHNvdXJjZSwgJ2cnKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgIHN0cmluZyA9IHN0cmluZyA9PSBudWxsID8gJycgOiAnJyArIHN0cmluZztcbiAgICByZXR1cm4gdGVzdFJlZ2V4cC50ZXN0KHN0cmluZykgPyBzdHJpbmcucmVwbGFjZShyZXBsYWNlUmVnZXhwLCBlc2NhcGVyKSA6IHN0cmluZztcbiAgfTtcbn1cbmV4cG9ydCB2YXIgZXNjYXBlID0gY3JlYXRlRXNjYXBlcihlc2NhcGVNYXApO1xuZXhwb3J0IHZhciB1bmVzY2FwZSA9IGNyZWF0ZUVzY2FwZXIodW5lc2NhcGVNYXApO1xuXG4vLyBUcmF2ZXJzZXMgdGhlIGNoaWxkcmVuIG9mIGBvYmpgIGFsb25nIGBwYXRoYC4gSWYgYSBjaGlsZCBpcyBhIGZ1bmN0aW9uLCBpdFxuLy8gaXMgaW52b2tlZCB3aXRoIGl0cyBwYXJlbnQgYXMgY29udGV4dC4gUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIGZpbmFsXG4vLyBjaGlsZCwgb3IgYGZhbGxiYWNrYCBpZiBhbnkgY2hpbGQgaXMgdW5kZWZpbmVkLlxuZXhwb3J0IGZ1bmN0aW9uIHJlc3VsdChvYmosIHBhdGgsIGZhbGxiYWNrKSB7XG4gIGlmICghaXNBcnJheShwYXRoKSkgcGF0aCA9IFtwYXRoXTtcbiAgdmFyIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuICBpZiAoIWxlbmd0aCkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKGZhbGxiYWNrKSA/IGZhbGxiYWNrLmNhbGwob2JqKSA6IGZhbGxiYWNrO1xuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcHJvcCA9IG9iaiA9PSBudWxsID8gdm9pZCAwIDogb2JqW3BhdGhbaV1dO1xuICAgIGlmIChwcm9wID09PSB2b2lkIDApIHtcbiAgICAgIHByb3AgPSBmYWxsYmFjaztcbiAgICAgIGkgPSBsZW5ndGg7IC8vIEVuc3VyZSB3ZSBkb24ndCBjb250aW51ZSBpdGVyYXRpbmcuXG4gICAgfVxuICAgIG9iaiA9IGlzRnVuY3Rpb24ocHJvcCkgPyBwcm9wLmNhbGwob2JqKSA6IHByb3A7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLy8gR2VuZXJhdGUgYSB1bmlxdWUgaW50ZWdlciBpZCAodW5pcXVlIHdpdGhpbiB0aGUgZW50aXJlIGNsaWVudCBzZXNzaW9uKS5cbi8vIFVzZWZ1bCBmb3IgdGVtcG9yYXJ5IERPTSBpZHMuXG52YXIgaWRDb3VudGVyID0gMDtcbmV4cG9ydCBmdW5jdGlvbiB1bmlxdWVJZChwcmVmaXgpIHtcbiAgdmFyIGlkID0gKytpZENvdW50ZXIgKyAnJztcbiAgcmV0dXJuIHByZWZpeCA/IHByZWZpeCArIGlkIDogaWQ7XG59XG5cbi8vIEJ5IGRlZmF1bHQsIFVuZGVyc2NvcmUgdXNlcyBFUkItc3R5bGUgdGVtcGxhdGUgZGVsaW1pdGVycywgY2hhbmdlIHRoZVxuLy8gZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuZXhwb3J0IHZhciB0ZW1wbGF0ZVNldHRpbmdzID0gXy50ZW1wbGF0ZVNldHRpbmdzID0ge1xuICBldmFsdWF0ZTogLzwlKFtcXHNcXFNdKz8pJT4vZyxcbiAgaW50ZXJwb2xhdGU6IC88JT0oW1xcc1xcU10rPyklPi9nLFxuICBlc2NhcGU6IC88JS0oW1xcc1xcU10rPyklPi9nXG59O1xuXG4vLyBXaGVuIGN1c3RvbWl6aW5nIGB0ZW1wbGF0ZVNldHRpbmdzYCwgaWYgeW91IGRvbid0IHdhbnQgdG8gZGVmaW5lIGFuXG4vLyBpbnRlcnBvbGF0aW9uLCBldmFsdWF0aW9uIG9yIGVzY2FwaW5nIHJlZ2V4LCB3ZSBuZWVkIG9uZSB0aGF0IGlzXG4vLyBndWFyYW50ZWVkIG5vdCB0byBtYXRjaC5cbnZhciBub01hdGNoID0gLyguKV4vO1xuXG4vLyBDZXJ0YWluIGNoYXJhY3RlcnMgbmVlZCB0byBiZSBlc2NhcGVkIHNvIHRoYXQgdGhleSBjYW4gYmUgcHV0IGludG8gYVxuLy8gc3RyaW5nIGxpdGVyYWwuXG52YXIgZXNjYXBlcyA9IHtcbiAgXCInXCI6IFwiJ1wiLFxuICAnXFxcXCc6ICdcXFxcJyxcbiAgJ1xccic6ICdyJyxcbiAgJ1xcbic6ICduJyxcbiAgJ1xcdTIwMjgnOiAndTIwMjgnLFxuICAnXFx1MjAyOSc6ICd1MjAyOSdcbn07XG5cbnZhciBlc2NhcGVSZWdFeHAgPSAvXFxcXHwnfFxccnxcXG58XFx1MjAyOHxcXHUyMDI5L2c7XG5cbnZhciBlc2NhcGVDaGFyID0gZnVuY3Rpb24obWF0Y2gpIHtcbiAgcmV0dXJuICdcXFxcJyArIGVzY2FwZXNbbWF0Y2hdO1xufTtcblxuLy8gSmF2YVNjcmlwdCBtaWNyby10ZW1wbGF0aW5nLCBzaW1pbGFyIHRvIEpvaG4gUmVzaWcncyBpbXBsZW1lbnRhdGlvbi5cbi8vIFVuZGVyc2NvcmUgdGVtcGxhdGluZyBoYW5kbGVzIGFyYml0cmFyeSBkZWxpbWl0ZXJzLCBwcmVzZXJ2ZXMgd2hpdGVzcGFjZSxcbi8vIGFuZCBjb3JyZWN0bHkgZXNjYXBlcyBxdW90ZXMgd2l0aGluIGludGVycG9sYXRlZCBjb2RlLlxuLy8gTkI6IGBvbGRTZXR0aW5nc2Agb25seSBleGlzdHMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlKHRleHQsIHNldHRpbmdzLCBvbGRTZXR0aW5ncykge1xuICBpZiAoIXNldHRpbmdzICYmIG9sZFNldHRpbmdzKSBzZXR0aW5ncyA9IG9sZFNldHRpbmdzO1xuICBzZXR0aW5ncyA9IGRlZmF1bHRzKHt9LCBzZXR0aW5ncywgXy50ZW1wbGF0ZVNldHRpbmdzKTtcblxuICAvLyBDb21iaW5lIGRlbGltaXRlcnMgaW50byBvbmUgcmVndWxhciBleHByZXNzaW9uIHZpYSBhbHRlcm5hdGlvbi5cbiAgdmFyIG1hdGNoZXIgPSBSZWdFeHAoW1xuICAgIChzZXR0aW5ncy5lc2NhcGUgfHwgbm9NYXRjaCkuc291cmNlLFxuICAgIChzZXR0aW5ncy5pbnRlcnBvbGF0ZSB8fCBub01hdGNoKS5zb3VyY2UsXG4gICAgKHNldHRpbmdzLmV2YWx1YXRlIHx8IG5vTWF0Y2gpLnNvdXJjZVxuICBdLmpvaW4oJ3wnKSArICd8JCcsICdnJyk7XG5cbiAgLy8gQ29tcGlsZSB0aGUgdGVtcGxhdGUgc291cmNlLCBlc2NhcGluZyBzdHJpbmcgbGl0ZXJhbHMgYXBwcm9wcmlhdGVseS5cbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIHNvdXJjZSA9IFwiX19wKz0nXCI7XG4gIHRleHQucmVwbGFjZShtYXRjaGVyLCBmdW5jdGlvbihtYXRjaCwgZXNjYXBlLCBpbnRlcnBvbGF0ZSwgZXZhbHVhdGUsIG9mZnNldCkge1xuICAgIHNvdXJjZSArPSB0ZXh0LnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UoZXNjYXBlUmVnRXhwLCBlc2NhcGVDaGFyKTtcbiAgICBpbmRleCA9IG9mZnNldCArIG1hdGNoLmxlbmd0aDtcblxuICAgIGlmIChlc2NhcGUpIHtcbiAgICAgIHNvdXJjZSArPSBcIicrXFxuKChfX3Q9KFwiICsgZXNjYXBlICsgXCIpKT09bnVsbD8nJzpfLmVzY2FwZShfX3QpKStcXG4nXCI7XG4gICAgfSBlbHNlIGlmIChpbnRlcnBvbGF0ZSkge1xuICAgICAgc291cmNlICs9IFwiJytcXG4oKF9fdD0oXCIgKyBpbnRlcnBvbGF0ZSArIFwiKSk9PW51bGw/Jyc6X190KStcXG4nXCI7XG4gICAgfSBlbHNlIGlmIChldmFsdWF0ZSkge1xuICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlICsgXCJcXG5fX3ArPSdcIjtcbiAgICB9XG5cbiAgICAvLyBBZG9iZSBWTXMgbmVlZCB0aGUgbWF0Y2ggcmV0dXJuZWQgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBvZmZzZXQuXG4gICAgcmV0dXJuIG1hdGNoO1xuICB9KTtcbiAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAvLyBJZiBhIHZhcmlhYmxlIGlzIG5vdCBzcGVjaWZpZWQsIHBsYWNlIGRhdGEgdmFsdWVzIGluIGxvY2FsIHNjb3BlLlxuICBpZiAoIXNldHRpbmdzLnZhcmlhYmxlKSBzb3VyY2UgPSAnd2l0aChvYmp8fHt9KXtcXG4nICsgc291cmNlICsgJ31cXG4nO1xuXG4gIHNvdXJjZSA9IFwidmFyIF9fdCxfX3A9JycsX19qPUFycmF5LnByb3RvdHlwZS5qb2luLFwiICtcbiAgICBcInByaW50PWZ1bmN0aW9uKCl7X19wKz1fX2ouY2FsbChhcmd1bWVudHMsJycpO307XFxuXCIgK1xuICAgIHNvdXJjZSArICdyZXR1cm4gX19wO1xcbic7XG5cbiAgdmFyIHJlbmRlcjtcbiAgdHJ5IHtcbiAgICByZW5kZXIgPSBuZXcgRnVuY3Rpb24oc2V0dGluZ3MudmFyaWFibGUgfHwgJ29iaicsICdfJywgc291cmNlKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGUuc291cmNlID0gc291cmNlO1xuICAgIHRocm93IGU7XG4gIH1cblxuICB2YXIgdGVtcGxhdGUgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgcmV0dXJuIHJlbmRlci5jYWxsKHRoaXMsIGRhdGEsIF8pO1xuICB9O1xuXG4gIC8vIFByb3ZpZGUgdGhlIGNvbXBpbGVkIHNvdXJjZSBhcyBhIGNvbnZlbmllbmNlIGZvciBwcmVjb21waWxhdGlvbi5cbiAgdmFyIGFyZ3VtZW50ID0gc2V0dGluZ3MudmFyaWFibGUgfHwgJ29iaic7XG4gIHRlbXBsYXRlLnNvdXJjZSA9ICdmdW5jdGlvbignICsgYXJndW1lbnQgKyAnKXtcXG4nICsgc291cmNlICsgJ30nO1xuXG4gIHJldHVybiB0ZW1wbGF0ZTtcbn1cblxuLy8gQWRkIGEgXCJjaGFpblwiIGZ1bmN0aW9uLiBTdGFydCBjaGFpbmluZyBhIHdyYXBwZWQgVW5kZXJzY29yZSBvYmplY3QuXG5leHBvcnQgZnVuY3Rpb24gY2hhaW4ob2JqKSB7XG4gIHZhciBpbnN0YW5jZSA9IF8ob2JqKTtcbiAgaW5zdGFuY2UuX2NoYWluID0gdHJ1ZTtcbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG4vLyBPT1Bcbi8vIC0tLS0tLS0tLS0tLS0tLVxuLy8gSWYgVW5kZXJzY29yZSBpcyBjYWxsZWQgYXMgYSBmdW5jdGlvbiwgaXQgcmV0dXJucyBhIHdyYXBwZWQgb2JqZWN0IHRoYXRcbi8vIGNhbiBiZSB1c2VkIE9PLXN0eWxlLiBUaGlzIHdyYXBwZXIgaG9sZHMgYWx0ZXJlZCB2ZXJzaW9ucyBvZiBhbGwgdGhlXG4vLyB1bmRlcnNjb3JlIGZ1bmN0aW9ucy4gV3JhcHBlZCBvYmplY3RzIG1heSBiZSBjaGFpbmVkLlxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29udGludWUgY2hhaW5pbmcgaW50ZXJtZWRpYXRlIHJlc3VsdHMuXG5mdW5jdGlvbiBjaGFpblJlc3VsdChpbnN0YW5jZSwgb2JqKSB7XG4gIHJldHVybiBpbnN0YW5jZS5fY2hhaW4gPyBfKG9iaikuY2hhaW4oKSA6IG9iajtcbn1cblxuLy8gQWRkIHlvdXIgb3duIGN1c3RvbSBmdW5jdGlvbnMgdG8gdGhlIFVuZGVyc2NvcmUgb2JqZWN0LlxuZXhwb3J0IGZ1bmN0aW9uIG1peGluKG9iaikge1xuICBlYWNoKGZ1bmN0aW9ucyhvYmopLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIGZ1bmMgPSBfW25hbWVdID0gb2JqW25hbWVdO1xuICAgIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYXJncyA9IFt0aGlzLl93cmFwcGVkXTtcbiAgICAgIHB1c2guYXBwbHkoYXJncywgYXJndW1lbnRzKTtcbiAgICAgIHJldHVybiBjaGFpblJlc3VsdCh0aGlzLCBmdW5jLmFwcGx5KF8sIGFyZ3MpKTtcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIF87XG59XG5cbi8vIEFkZCBhbGwgbXV0YXRvciBBcnJheSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIuXG5lYWNoKFsncG9wJywgJ3B1c2gnLCAncmV2ZXJzZScsICdzaGlmdCcsICdzb3J0JywgJ3NwbGljZScsICd1bnNoaWZ0J10sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9iaiA9IHRoaXMuX3dyYXBwZWQ7XG4gICAgbWV0aG9kLmFwcGx5KG9iaiwgYXJndW1lbnRzKTtcbiAgICBpZiAoKG5hbWUgPT09ICdzaGlmdCcgfHwgbmFtZSA9PT0gJ3NwbGljZScpICYmIG9iai5sZW5ndGggPT09IDApIGRlbGV0ZSBvYmpbMF07XG4gICAgcmV0dXJuIGNoYWluUmVzdWx0KHRoaXMsIG9iaik7XG4gIH07XG59KTtcblxuLy8gQWRkIGFsbCBhY2Nlc3NvciBBcnJheSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIuXG5lYWNoKFsnY29uY2F0JywgJ2pvaW4nLCAnc2xpY2UnXSwgZnVuY3Rpb24obmFtZSkge1xuICB2YXIgbWV0aG9kID0gQXJyYXlQcm90b1tuYW1lXTtcbiAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gY2hhaW5SZXN1bHQodGhpcywgbWV0aG9kLmFwcGx5KHRoaXMuX3dyYXBwZWQsIGFyZ3VtZW50cykpO1xuICB9O1xufSk7XG5cbi8vIEV4dHJhY3RzIHRoZSByZXN1bHQgZnJvbSBhIHdyYXBwZWQgYW5kIGNoYWluZWQgb2JqZWN0LlxuXy5wcm90b3R5cGUudmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX3dyYXBwZWQ7XG59O1xuXG4vLyBQcm92aWRlIHVud3JhcHBpbmcgcHJveHkgZm9yIHNvbWUgbWV0aG9kcyB1c2VkIGluIGVuZ2luZSBvcGVyYXRpb25zXG4vLyBzdWNoIGFzIGFyaXRobWV0aWMgYW5kIEpTT04gc3RyaW5naWZpY2F0aW9uLlxuXy5wcm90b3R5cGUudmFsdWVPZiA9IF8ucHJvdG90eXBlLnRvSlNPTiA9IF8ucHJvdG90eXBlLnZhbHVlO1xuXG5fLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gU3RyaW5nKHRoaXMuX3dyYXBwZWQpO1xufTtcbiIsImltcG9ydCAqIGFzIGFsbEV4cG9ydHMgZnJvbSAnLi9pbmRleC5qcyc7XG5pbXBvcnQgeyBtaXhpbiB9IGZyb20gJy4vaW5kZXguanMnO1xuXG4vLyBBZGQgYWxsIG9mIHRoZSBVbmRlcnNjb3JlIGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlciBvYmplY3QuXG52YXIgXyA9IG1peGluKGFsbEV4cG9ydHMpO1xuLy8gTGVnYWN5IE5vZGUuanMgQVBJXG5fLl8gPSBfO1xuLy8gRXhwb3J0IHRoZSBVbmRlcnNjb3JlIEFQSS5cbmV4cG9ydCBkZWZhdWx0IF87XG4iLCIvLyAgICAgQmFja2JvbmUuanMgMS40LjBcblxuLy8gICAgIChjKSAyMDEwLTIwMTkgSmVyZW15IEFzaGtlbmFzIGFuZCBEb2N1bWVudENsb3VkXG4vLyAgICAgQmFja2JvbmUgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4vLyAgICAgRm9yIGFsbCBkZXRhaWxzIGFuZCBkb2N1bWVudGF0aW9uOlxuLy8gICAgIGh0dHA6Ly9iYWNrYm9uZWpzLm9yZ1xuXG4oZnVuY3Rpb24oZmFjdG9yeSkge1xuXG4gIC8vIEVzdGFibGlzaCB0aGUgcm9vdCBvYmplY3QsIGB3aW5kb3dgIChgc2VsZmApIGluIHRoZSBicm93c2VyLCBvciBgZ2xvYmFsYCBvbiB0aGUgc2VydmVyLlxuICAvLyBXZSB1c2UgYHNlbGZgIGluc3RlYWQgb2YgYHdpbmRvd2AgZm9yIGBXZWJXb3JrZXJgIHN1cHBvcnQuXG4gIHZhciByb290ID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZi5zZWxmID09PSBzZWxmICYmIHNlbGYgfHxcbiAgICAgICAgICAgIHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsLmdsb2JhbCA9PT0gZ2xvYmFsICYmIGdsb2JhbDtcblxuICAvLyBTZXQgdXAgQmFja2JvbmUgYXBwcm9wcmlhdGVseSBmb3IgdGhlIGVudmlyb25tZW50LiBTdGFydCB3aXRoIEFNRC5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbJ3VuZGVyc2NvcmUnLCAnanF1ZXJ5JywgJ2V4cG9ydHMnXSwgZnVuY3Rpb24oXywgJCwgZXhwb3J0cykge1xuICAgICAgLy8gRXhwb3J0IGdsb2JhbCBldmVuIGluIEFNRCBjYXNlIGluIGNhc2UgdGhpcyBzY3JpcHQgaXMgbG9hZGVkIHdpdGhcbiAgICAgIC8vIG90aGVycyB0aGF0IG1heSBzdGlsbCBleHBlY3QgYSBnbG9iYWwgQmFja2JvbmUuXG4gICAgICByb290LkJhY2tib25lID0gZmFjdG9yeShyb290LCBleHBvcnRzLCBfLCAkKTtcbiAgICB9KTtcblxuICAvLyBOZXh0IGZvciBOb2RlLmpzIG9yIENvbW1vbkpTLiBqUXVlcnkgbWF5IG5vdCBiZSBuZWVkZWQgYXMgYSBtb2R1bGUuXG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyksICQ7XG4gICAgdHJ5IHsgJCA9IHJlcXVpcmUoJ2pxdWVyeScpOyB9IGNhdGNoIChlKSB7fVxuICAgIGZhY3Rvcnkocm9vdCwgZXhwb3J0cywgXywgJCk7XG5cbiAgLy8gRmluYWxseSwgYXMgYSBicm93c2VyIGdsb2JhbC5cbiAgfSBlbHNlIHtcbiAgICByb290LkJhY2tib25lID0gZmFjdG9yeShyb290LCB7fSwgcm9vdC5fLCByb290LmpRdWVyeSB8fCByb290LlplcHRvIHx8IHJvb3QuZW5kZXIgfHwgcm9vdC4kKTtcbiAgfVxuXG59KShmdW5jdGlvbihyb290LCBCYWNrYm9uZSwgXywgJCkge1xuXG4gIC8vIEluaXRpYWwgU2V0dXBcbiAgLy8gLS0tLS0tLS0tLS0tLVxuXG4gIC8vIFNhdmUgdGhlIHByZXZpb3VzIHZhbHVlIG9mIHRoZSBgQmFja2JvbmVgIHZhcmlhYmxlLCBzbyB0aGF0IGl0IGNhbiBiZVxuICAvLyByZXN0b3JlZCBsYXRlciBvbiwgaWYgYG5vQ29uZmxpY3RgIGlzIHVzZWQuXG4gIHZhciBwcmV2aW91c0JhY2tib25lID0gcm9vdC5CYWNrYm9uZTtcblxuICAvLyBDcmVhdGUgYSBsb2NhbCByZWZlcmVuY2UgdG8gYSBjb21tb24gYXJyYXkgbWV0aG9kIHdlJ2xsIHdhbnQgdG8gdXNlIGxhdGVyLlxuICB2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbiAgLy8gQ3VycmVudCB2ZXJzaW9uIG9mIHRoZSBsaWJyYXJ5LiBLZWVwIGluIHN5bmMgd2l0aCBgcGFja2FnZS5qc29uYC5cbiAgQmFja2JvbmUuVkVSU0lPTiA9ICcxLjQuMCc7XG5cbiAgLy8gRm9yIEJhY2tib25lJ3MgcHVycG9zZXMsIGpRdWVyeSwgWmVwdG8sIEVuZGVyLCBvciBNeSBMaWJyYXJ5IChraWRkaW5nKSBvd25zXG4gIC8vIHRoZSBgJGAgdmFyaWFibGUuXG4gIEJhY2tib25lLiQgPSAkO1xuXG4gIC8vIFJ1bnMgQmFja2JvbmUuanMgaW4gKm5vQ29uZmxpY3QqIG1vZGUsIHJldHVybmluZyB0aGUgYEJhY2tib25lYCB2YXJpYWJsZVxuICAvLyB0byBpdHMgcHJldmlvdXMgb3duZXIuIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhpcyBCYWNrYm9uZSBvYmplY3QuXG4gIEJhY2tib25lLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcbiAgICByb290LkJhY2tib25lID0gcHJldmlvdXNCYWNrYm9uZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvLyBUdXJuIG9uIGBlbXVsYXRlSFRUUGAgdG8gc3VwcG9ydCBsZWdhY3kgSFRUUCBzZXJ2ZXJzLiBTZXR0aW5nIHRoaXMgb3B0aW9uXG4gIC8vIHdpbGwgZmFrZSBgXCJQQVRDSFwiYCwgYFwiUFVUXCJgIGFuZCBgXCJERUxFVEVcImAgcmVxdWVzdHMgdmlhIHRoZSBgX21ldGhvZGAgcGFyYW1ldGVyIGFuZFxuICAvLyBzZXQgYSBgWC1IdHRwLU1ldGhvZC1PdmVycmlkZWAgaGVhZGVyLlxuICBCYWNrYm9uZS5lbXVsYXRlSFRUUCA9IGZhbHNlO1xuXG4gIC8vIFR1cm4gb24gYGVtdWxhdGVKU09OYCB0byBzdXBwb3J0IGxlZ2FjeSBzZXJ2ZXJzIHRoYXQgY2FuJ3QgZGVhbCB3aXRoIGRpcmVjdFxuICAvLyBgYXBwbGljYXRpb24vanNvbmAgcmVxdWVzdHMgLi4uIHRoaXMgd2lsbCBlbmNvZGUgdGhlIGJvZHkgYXNcbiAgLy8gYGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZGAgaW5zdGVhZCBhbmQgd2lsbCBzZW5kIHRoZSBtb2RlbCBpbiBhXG4gIC8vIGZvcm0gcGFyYW0gbmFtZWQgYG1vZGVsYC5cbiAgQmFja2JvbmUuZW11bGF0ZUpTT04gPSBmYWxzZTtcblxuICAvLyBCYWNrYm9uZS5FdmVudHNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gQSBtb2R1bGUgdGhhdCBjYW4gYmUgbWl4ZWQgaW4gdG8gKmFueSBvYmplY3QqIGluIG9yZGVyIHRvIHByb3ZpZGUgaXQgd2l0aFxuICAvLyBhIGN1c3RvbSBldmVudCBjaGFubmVsLiBZb3UgbWF5IGJpbmQgYSBjYWxsYmFjayB0byBhbiBldmVudCB3aXRoIGBvbmAgb3JcbiAgLy8gcmVtb3ZlIHdpdGggYG9mZmA7IGB0cmlnZ2VyYC1pbmcgYW4gZXZlbnQgZmlyZXMgYWxsIGNhbGxiYWNrcyBpblxuICAvLyBzdWNjZXNzaW9uLlxuICAvL1xuICAvLyAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAvLyAgICAgXy5leHRlbmQob2JqZWN0LCBCYWNrYm9uZS5FdmVudHMpO1xuICAvLyAgICAgb2JqZWN0Lm9uKCdleHBhbmQnLCBmdW5jdGlvbigpeyBhbGVydCgnZXhwYW5kZWQnKTsgfSk7XG4gIC8vICAgICBvYmplY3QudHJpZ2dlcignZXhwYW5kJyk7XG4gIC8vXG4gIHZhciBFdmVudHMgPSBCYWNrYm9uZS5FdmVudHMgPSB7fTtcblxuICAvLyBSZWd1bGFyIGV4cHJlc3Npb24gdXNlZCB0byBzcGxpdCBldmVudCBzdHJpbmdzLlxuICB2YXIgZXZlbnRTcGxpdHRlciA9IC9cXHMrLztcblxuICAvLyBBIHByaXZhdGUgZ2xvYmFsIHZhcmlhYmxlIHRvIHNoYXJlIGJldHdlZW4gbGlzdGVuZXJzIGFuZCBsaXN0ZW5lZXMuXG4gIHZhciBfbGlzdGVuaW5nO1xuXG4gIC8vIEl0ZXJhdGVzIG92ZXIgdGhlIHN0YW5kYXJkIGBldmVudCwgY2FsbGJhY2tgIChhcyB3ZWxsIGFzIHRoZSBmYW5jeSBtdWx0aXBsZVxuICAvLyBzcGFjZS1zZXBhcmF0ZWQgZXZlbnRzIGBcImNoYW5nZSBibHVyXCIsIGNhbGxiYWNrYCBhbmQgalF1ZXJ5LXN0eWxlIGV2ZW50XG4gIC8vIG1hcHMgYHtldmVudDogY2FsbGJhY2t9YCkuXG4gIHZhciBldmVudHNBcGkgPSBmdW5jdGlvbihpdGVyYXRlZSwgZXZlbnRzLCBuYW1lLCBjYWxsYmFjaywgb3B0cykge1xuICAgIHZhciBpID0gMCwgbmFtZXM7XG4gICAgaWYgKG5hbWUgJiYgdHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAvLyBIYW5kbGUgZXZlbnQgbWFwcy5cbiAgICAgIGlmIChjYWxsYmFjayAhPT0gdm9pZCAwICYmICdjb250ZXh0JyBpbiBvcHRzICYmIG9wdHMuY29udGV4dCA9PT0gdm9pZCAwKSBvcHRzLmNvbnRleHQgPSBjYWxsYmFjaztcbiAgICAgIGZvciAobmFtZXMgPSBfLmtleXMobmFtZSk7IGkgPCBuYW1lcy5sZW5ndGggOyBpKyspIHtcbiAgICAgICAgZXZlbnRzID0gZXZlbnRzQXBpKGl0ZXJhdGVlLCBldmVudHMsIG5hbWVzW2ldLCBuYW1lW25hbWVzW2ldXSwgb3B0cyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChuYW1lICYmIGV2ZW50U3BsaXR0ZXIudGVzdChuYW1lKSkge1xuICAgICAgLy8gSGFuZGxlIHNwYWNlLXNlcGFyYXRlZCBldmVudCBuYW1lcyBieSBkZWxlZ2F0aW5nIHRoZW0gaW5kaXZpZHVhbGx5LlxuICAgICAgZm9yIChuYW1lcyA9IG5hbWUuc3BsaXQoZXZlbnRTcGxpdHRlcik7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBldmVudHMgPSBpdGVyYXRlZShldmVudHMsIG5hbWVzW2ldLCBjYWxsYmFjaywgb3B0cyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZpbmFsbHksIHN0YW5kYXJkIGV2ZW50cy5cbiAgICAgIGV2ZW50cyA9IGl0ZXJhdGVlKGV2ZW50cywgbmFtZSwgY2FsbGJhY2ssIG9wdHMpO1xuICAgIH1cbiAgICByZXR1cm4gZXZlbnRzO1xuICB9O1xuXG4gIC8vIEJpbmQgYW4gZXZlbnQgdG8gYSBgY2FsbGJhY2tgIGZ1bmN0aW9uLiBQYXNzaW5nIGBcImFsbFwiYCB3aWxsIGJpbmRcbiAgLy8gdGhlIGNhbGxiYWNrIHRvIGFsbCBldmVudHMgZmlyZWQuXG4gIEV2ZW50cy5vbiA9IGZ1bmN0aW9uKG5hbWUsIGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgdGhpcy5fZXZlbnRzID0gZXZlbnRzQXBpKG9uQXBpLCB0aGlzLl9ldmVudHMgfHwge30sIG5hbWUsIGNhbGxiYWNrLCB7XG4gICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgY3R4OiB0aGlzLFxuICAgICAgbGlzdGVuaW5nOiBfbGlzdGVuaW5nXG4gICAgfSk7XG5cbiAgICBpZiAoX2xpc3RlbmluZykge1xuICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycyB8fCAodGhpcy5fbGlzdGVuZXJzID0ge30pO1xuICAgICAgbGlzdGVuZXJzW19saXN0ZW5pbmcuaWRdID0gX2xpc3RlbmluZztcbiAgICAgIC8vIEFsbG93IHRoZSBsaXN0ZW5pbmcgdG8gdXNlIGEgY291bnRlciwgaW5zdGVhZCBvZiB0cmFja2luZ1xuICAgICAgLy8gY2FsbGJhY2tzIGZvciBsaWJyYXJ5IGludGVyb3BcbiAgICAgIF9saXN0ZW5pbmcuaW50ZXJvcCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIEludmVyc2lvbi1vZi1jb250cm9sIHZlcnNpb25zIG9mIGBvbmAuIFRlbGwgKnRoaXMqIG9iamVjdCB0byBsaXN0ZW4gdG9cbiAgLy8gYW4gZXZlbnQgaW4gYW5vdGhlciBvYmplY3QuLi4ga2VlcGluZyB0cmFjayBvZiB3aGF0IGl0J3MgbGlzdGVuaW5nIHRvXG4gIC8vIGZvciBlYXNpZXIgdW5iaW5kaW5nIGxhdGVyLlxuICBFdmVudHMubGlzdGVuVG8gPSBmdW5jdGlvbihvYmosIG5hbWUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKCFvYmopIHJldHVybiB0aGlzO1xuICAgIHZhciBpZCA9IG9iai5fbGlzdGVuSWQgfHwgKG9iai5fbGlzdGVuSWQgPSBfLnVuaXF1ZUlkKCdsJykpO1xuICAgIHZhciBsaXN0ZW5pbmdUbyA9IHRoaXMuX2xpc3RlbmluZ1RvIHx8ICh0aGlzLl9saXN0ZW5pbmdUbyA9IHt9KTtcbiAgICB2YXIgbGlzdGVuaW5nID0gX2xpc3RlbmluZyA9IGxpc3RlbmluZ1RvW2lkXTtcblxuICAgIC8vIFRoaXMgb2JqZWN0IGlzIG5vdCBsaXN0ZW5pbmcgdG8gYW55IG90aGVyIGV2ZW50cyBvbiBgb2JqYCB5ZXQuXG4gICAgLy8gU2V0dXAgdGhlIG5lY2Vzc2FyeSByZWZlcmVuY2VzIHRvIHRyYWNrIHRoZSBsaXN0ZW5pbmcgY2FsbGJhY2tzLlxuICAgIGlmICghbGlzdGVuaW5nKSB7XG4gICAgICB0aGlzLl9saXN0ZW5JZCB8fCAodGhpcy5fbGlzdGVuSWQgPSBfLnVuaXF1ZUlkKCdsJykpO1xuICAgICAgbGlzdGVuaW5nID0gX2xpc3RlbmluZyA9IGxpc3RlbmluZ1RvW2lkXSA9IG5ldyBMaXN0ZW5pbmcodGhpcywgb2JqKTtcbiAgICB9XG5cbiAgICAvLyBCaW5kIGNhbGxiYWNrcyBvbiBvYmouXG4gICAgdmFyIGVycm9yID0gdHJ5Q2F0Y2hPbihvYmosIG5hbWUsIGNhbGxiYWNrLCB0aGlzKTtcbiAgICBfbGlzdGVuaW5nID0gdm9pZCAwO1xuXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICAvLyBJZiB0aGUgdGFyZ2V0IG9iaiBpcyBub3QgQmFja2JvbmUuRXZlbnRzLCB0cmFjayBldmVudHMgbWFudWFsbHkuXG4gICAgaWYgKGxpc3RlbmluZy5pbnRlcm9wKSBsaXN0ZW5pbmcub24obmFtZSwgY2FsbGJhY2spO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gVGhlIHJlZHVjaW5nIEFQSSB0aGF0IGFkZHMgYSBjYWxsYmFjayB0byB0aGUgYGV2ZW50c2Agb2JqZWN0LlxuICB2YXIgb25BcGkgPSBmdW5jdGlvbihldmVudHMsIG5hbWUsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgaGFuZGxlcnMgPSBldmVudHNbbmFtZV0gfHwgKGV2ZW50c1tuYW1lXSA9IFtdKTtcbiAgICAgIHZhciBjb250ZXh0ID0gb3B0aW9ucy5jb250ZXh0LCBjdHggPSBvcHRpb25zLmN0eCwgbGlzdGVuaW5nID0gb3B0aW9ucy5saXN0ZW5pbmc7XG4gICAgICBpZiAobGlzdGVuaW5nKSBsaXN0ZW5pbmcuY291bnQrKztcblxuICAgICAgaGFuZGxlcnMucHVzaCh7Y2FsbGJhY2s6IGNhbGxiYWNrLCBjb250ZXh0OiBjb250ZXh0LCBjdHg6IGNvbnRleHQgfHwgY3R4LCBsaXN0ZW5pbmc6IGxpc3RlbmluZ30pO1xuICAgIH1cbiAgICByZXR1cm4gZXZlbnRzO1xuICB9O1xuXG4gIC8vIEFuIHRyeS1jYXRjaCBndWFyZGVkICNvbiBmdW5jdGlvbiwgdG8gcHJldmVudCBwb2lzb25pbmcgdGhlIGdsb2JhbFxuICAvLyBgX2xpc3RlbmluZ2AgdmFyaWFibGUuXG4gIHZhciB0cnlDYXRjaE9uID0gZnVuY3Rpb24ob2JqLCBuYW1lLCBjYWxsYmFjaywgY29udGV4dCkge1xuICAgIHRyeSB7XG4gICAgICBvYmoub24obmFtZSwgY2FsbGJhY2ssIGNvbnRleHQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBlO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZW1vdmUgb25lIG9yIG1hbnkgY2FsbGJhY2tzLiBJZiBgY29udGV4dGAgaXMgbnVsbCwgcmVtb3ZlcyBhbGxcbiAgLy8gY2FsbGJhY2tzIHdpdGggdGhhdCBmdW5jdGlvbi4gSWYgYGNhbGxiYWNrYCBpcyBudWxsLCByZW1vdmVzIGFsbFxuICAvLyBjYWxsYmFja3MgZm9yIHRoZSBldmVudC4gSWYgYG5hbWVgIGlzIG51bGwsIHJlbW92ZXMgYWxsIGJvdW5kXG4gIC8vIGNhbGxiYWNrcyBmb3IgYWxsIGV2ZW50cy5cbiAgRXZlbnRzLm9mZiA9IGZ1bmN0aW9uKG5hbWUsIGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMpIHJldHVybiB0aGlzO1xuICAgIHRoaXMuX2V2ZW50cyA9IGV2ZW50c0FwaShvZmZBcGksIHRoaXMuX2V2ZW50cywgbmFtZSwgY2FsbGJhY2ssIHtcbiAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICBsaXN0ZW5lcnM6IHRoaXMuX2xpc3RlbmVyc1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gVGVsbCB0aGlzIG9iamVjdCB0byBzdG9wIGxpc3RlbmluZyB0byBlaXRoZXIgc3BlY2lmaWMgZXZlbnRzIC4uLiBvclxuICAvLyB0byBldmVyeSBvYmplY3QgaXQncyBjdXJyZW50bHkgbGlzdGVuaW5nIHRvLlxuICBFdmVudHMuc3RvcExpc3RlbmluZyA9IGZ1bmN0aW9uKG9iaiwgbmFtZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgbGlzdGVuaW5nVG8gPSB0aGlzLl9saXN0ZW5pbmdUbztcbiAgICBpZiAoIWxpc3RlbmluZ1RvKSByZXR1cm4gdGhpcztcblxuICAgIHZhciBpZHMgPSBvYmogPyBbb2JqLl9saXN0ZW5JZF0gOiBfLmtleXMobGlzdGVuaW5nVG8pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbGlzdGVuaW5nID0gbGlzdGVuaW5nVG9baWRzW2ldXTtcblxuICAgICAgLy8gSWYgbGlzdGVuaW5nIGRvZXNuJ3QgZXhpc3QsIHRoaXMgb2JqZWN0IGlzIG5vdCBjdXJyZW50bHlcbiAgICAgIC8vIGxpc3RlbmluZyB0byBvYmouIEJyZWFrIG91dCBlYXJseS5cbiAgICAgIGlmICghbGlzdGVuaW5nKSBicmVhaztcblxuICAgICAgbGlzdGVuaW5nLm9iai5vZmYobmFtZSwgY2FsbGJhY2ssIHRoaXMpO1xuICAgICAgaWYgKGxpc3RlbmluZy5pbnRlcm9wKSBsaXN0ZW5pbmcub2ZmKG5hbWUsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgaWYgKF8uaXNFbXB0eShsaXN0ZW5pbmdUbykpIHRoaXMuX2xpc3RlbmluZ1RvID0gdm9pZCAwO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gVGhlIHJlZHVjaW5nIEFQSSB0aGF0IHJlbW92ZXMgYSBjYWxsYmFjayBmcm9tIHRoZSBgZXZlbnRzYCBvYmplY3QuXG4gIHZhciBvZmZBcGkgPSBmdW5jdGlvbihldmVudHMsIG5hbWUsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgaWYgKCFldmVudHMpIHJldHVybjtcblxuICAgIHZhciBjb250ZXh0ID0gb3B0aW9ucy5jb250ZXh0LCBsaXN0ZW5lcnMgPSBvcHRpb25zLmxpc3RlbmVycztcbiAgICB2YXIgaSA9IDAsIG5hbWVzO1xuXG4gICAgLy8gRGVsZXRlIGFsbCBldmVudCBsaXN0ZW5lcnMgYW5kIFwiZHJvcFwiIGV2ZW50cy5cbiAgICBpZiAoIW5hbWUgJiYgIWNvbnRleHQgJiYgIWNhbGxiYWNrKSB7XG4gICAgICBmb3IgKG5hbWVzID0gXy5rZXlzKGxpc3RlbmVycyk7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsaXN0ZW5lcnNbbmFtZXNbaV1dLmNsZWFudXAoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBuYW1lcyA9IG5hbWUgPyBbbmFtZV0gOiBfLmtleXMoZXZlbnRzKTtcbiAgICBmb3IgKDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBuYW1lID0gbmFtZXNbaV07XG4gICAgICB2YXIgaGFuZGxlcnMgPSBldmVudHNbbmFtZV07XG5cbiAgICAgIC8vIEJhaWwgb3V0IGlmIHRoZXJlIGFyZSBubyBldmVudHMgc3RvcmVkLlxuICAgICAgaWYgKCFoYW5kbGVycykgYnJlYWs7XG5cbiAgICAgIC8vIEZpbmQgYW55IHJlbWFpbmluZyBldmVudHMuXG4gICAgICB2YXIgcmVtYWluaW5nID0gW107XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGhhbmRsZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBoYW5kbGVyID0gaGFuZGxlcnNbal07XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayAhPT0gaGFuZGxlci5jYWxsYmFjayAmJlxuICAgICAgICAgICAgY2FsbGJhY2sgIT09IGhhbmRsZXIuY2FsbGJhY2suX2NhbGxiYWNrIHx8XG4gICAgICAgICAgICAgIGNvbnRleHQgJiYgY29udGV4dCAhPT0gaGFuZGxlci5jb250ZXh0XG4gICAgICAgICkge1xuICAgICAgICAgIHJlbWFpbmluZy5wdXNoKGhhbmRsZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBsaXN0ZW5pbmcgPSBoYW5kbGVyLmxpc3RlbmluZztcbiAgICAgICAgICBpZiAobGlzdGVuaW5nKSBsaXN0ZW5pbmcub2ZmKG5hbWUsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBSZXBsYWNlIGV2ZW50cyBpZiB0aGVyZSBhcmUgYW55IHJlbWFpbmluZy4gIE90aGVyd2lzZSwgY2xlYW4gdXAuXG4gICAgICBpZiAocmVtYWluaW5nLmxlbmd0aCkge1xuICAgICAgICBldmVudHNbbmFtZV0gPSByZW1haW5pbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGUgZXZlbnRzW25hbWVdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBldmVudHM7XG4gIH07XG5cbiAgLy8gQmluZCBhbiBldmVudCB0byBvbmx5IGJlIHRyaWdnZXJlZCBhIHNpbmdsZSB0aW1lLiBBZnRlciB0aGUgZmlyc3QgdGltZVxuICAvLyB0aGUgY2FsbGJhY2sgaXMgaW52b2tlZCwgaXRzIGxpc3RlbmVyIHdpbGwgYmUgcmVtb3ZlZC4gSWYgbXVsdGlwbGUgZXZlbnRzXG4gIC8vIGFyZSBwYXNzZWQgaW4gdXNpbmcgdGhlIHNwYWNlLXNlcGFyYXRlZCBzeW50YXgsIHRoZSBoYW5kbGVyIHdpbGwgZmlyZVxuICAvLyBvbmNlIGZvciBlYWNoIGV2ZW50LCBub3Qgb25jZSBmb3IgYSBjb21iaW5hdGlvbiBvZiBhbGwgZXZlbnRzLlxuICBFdmVudHMub25jZSA9IGZ1bmN0aW9uKG5hbWUsIGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgLy8gTWFwIHRoZSBldmVudCBpbnRvIGEgYHtldmVudDogb25jZX1gIG9iamVjdC5cbiAgICB2YXIgZXZlbnRzID0gZXZlbnRzQXBpKG9uY2VNYXAsIHt9LCBuYW1lLCBjYWxsYmFjaywgdGhpcy5vZmYuYmluZCh0aGlzKSk7XG4gICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyAmJiBjb250ZXh0ID09IG51bGwpIGNhbGxiYWNrID0gdm9pZCAwO1xuICAgIHJldHVybiB0aGlzLm9uKGV2ZW50cywgY2FsbGJhY2ssIGNvbnRleHQpO1xuICB9O1xuXG4gIC8vIEludmVyc2lvbi1vZi1jb250cm9sIHZlcnNpb25zIG9mIGBvbmNlYC5cbiAgRXZlbnRzLmxpc3RlblRvT25jZSA9IGZ1bmN0aW9uKG9iaiwgbmFtZSwgY2FsbGJhY2spIHtcbiAgICAvLyBNYXAgdGhlIGV2ZW50IGludG8gYSBge2V2ZW50OiBvbmNlfWAgb2JqZWN0LlxuICAgIHZhciBldmVudHMgPSBldmVudHNBcGkob25jZU1hcCwge30sIG5hbWUsIGNhbGxiYWNrLCB0aGlzLnN0b3BMaXN0ZW5pbmcuYmluZCh0aGlzLCBvYmopKTtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5UbyhvYmosIGV2ZW50cyk7XG4gIH07XG5cbiAgLy8gUmVkdWNlcyB0aGUgZXZlbnQgY2FsbGJhY2tzIGludG8gYSBtYXAgb2YgYHtldmVudDogb25jZVdyYXBwZXJ9YC5cbiAgLy8gYG9mZmVyYCB1bmJpbmRzIHRoZSBgb25jZVdyYXBwZXJgIGFmdGVyIGl0IGhhcyBiZWVuIGNhbGxlZC5cbiAgdmFyIG9uY2VNYXAgPSBmdW5jdGlvbihtYXAsIG5hbWUsIGNhbGxiYWNrLCBvZmZlcikge1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgdmFyIG9uY2UgPSBtYXBbbmFtZV0gPSBfLm9uY2UoZnVuY3Rpb24oKSB7XG4gICAgICAgIG9mZmVyKG5hbWUsIG9uY2UpO1xuICAgICAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfSk7XG4gICAgICBvbmNlLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICByZXR1cm4gbWFwO1xuICB9O1xuXG4gIC8vIFRyaWdnZXIgb25lIG9yIG1hbnkgZXZlbnRzLCBmaXJpbmcgYWxsIGJvdW5kIGNhbGxiYWNrcy4gQ2FsbGJhY2tzIGFyZVxuICAvLyBwYXNzZWQgdGhlIHNhbWUgYXJndW1lbnRzIGFzIGB0cmlnZ2VyYCBpcywgYXBhcnQgZnJvbSB0aGUgZXZlbnQgbmFtZVxuICAvLyAodW5sZXNzIHlvdSdyZSBsaXN0ZW5pbmcgb24gYFwiYWxsXCJgLCB3aGljaCB3aWxsIGNhdXNlIHlvdXIgY2FsbGJhY2sgdG9cbiAgLy8gcmVjZWl2ZSB0aGUgdHJ1ZSBuYW1lIG9mIHRoZSBldmVudCBhcyB0aGUgZmlyc3QgYXJndW1lbnQpLlxuICBFdmVudHMudHJpZ2dlciA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBpZiAoIXRoaXMuX2V2ZW50cykgcmV0dXJuIHRoaXM7XG5cbiAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoMCwgYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIHZhciBhcmdzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAxXTtcblxuICAgIGV2ZW50c0FwaSh0cmlnZ2VyQXBpLCB0aGlzLl9ldmVudHMsIG5hbWUsIHZvaWQgMCwgYXJncyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gSGFuZGxlcyB0cmlnZ2VyaW5nIHRoZSBhcHByb3ByaWF0ZSBldmVudCBjYWxsYmFja3MuXG4gIHZhciB0cmlnZ2VyQXBpID0gZnVuY3Rpb24ob2JqRXZlbnRzLCBuYW1lLCBjYWxsYmFjaywgYXJncykge1xuICAgIGlmIChvYmpFdmVudHMpIHtcbiAgICAgIHZhciBldmVudHMgPSBvYmpFdmVudHNbbmFtZV07XG4gICAgICB2YXIgYWxsRXZlbnRzID0gb2JqRXZlbnRzLmFsbDtcbiAgICAgIGlmIChldmVudHMgJiYgYWxsRXZlbnRzKSBhbGxFdmVudHMgPSBhbGxFdmVudHMuc2xpY2UoKTtcbiAgICAgIGlmIChldmVudHMpIHRyaWdnZXJFdmVudHMoZXZlbnRzLCBhcmdzKTtcbiAgICAgIGlmIChhbGxFdmVudHMpIHRyaWdnZXJFdmVudHMoYWxsRXZlbnRzLCBbbmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iakV2ZW50cztcbiAgfTtcblxuICAvLyBBIGRpZmZpY3VsdC10by1iZWxpZXZlLCBidXQgb3B0aW1pemVkIGludGVybmFsIGRpc3BhdGNoIGZ1bmN0aW9uIGZvclxuICAvLyB0cmlnZ2VyaW5nIGV2ZW50cy4gVHJpZXMgdG8ga2VlcCB0aGUgdXN1YWwgY2FzZXMgc3BlZWR5IChtb3N0IGludGVybmFsXG4gIC8vIEJhY2tib25lIGV2ZW50cyBoYXZlIDMgYXJndW1lbnRzKS5cbiAgdmFyIHRyaWdnZXJFdmVudHMgPSBmdW5jdGlvbihldmVudHMsIGFyZ3MpIHtcbiAgICB2YXIgZXYsIGkgPSAtMSwgbCA9IGV2ZW50cy5sZW5ndGgsIGExID0gYXJnc1swXSwgYTIgPSBhcmdzWzFdLCBhMyA9IGFyZ3NbMl07XG4gICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOiB3aGlsZSAoKytpIDwgbCkgKGV2ID0gZXZlbnRzW2ldKS5jYWxsYmFjay5jYWxsKGV2LmN0eCk7IHJldHVybjtcbiAgICAgIGNhc2UgMTogd2hpbGUgKCsraSA8IGwpIChldiA9IGV2ZW50c1tpXSkuY2FsbGJhY2suY2FsbChldi5jdHgsIGExKTsgcmV0dXJuO1xuICAgICAgY2FzZSAyOiB3aGlsZSAoKytpIDwgbCkgKGV2ID0gZXZlbnRzW2ldKS5jYWxsYmFjay5jYWxsKGV2LmN0eCwgYTEsIGEyKTsgcmV0dXJuO1xuICAgICAgY2FzZSAzOiB3aGlsZSAoKytpIDwgbCkgKGV2ID0gZXZlbnRzW2ldKS5jYWxsYmFjay5jYWxsKGV2LmN0eCwgYTEsIGEyLCBhMyk7IHJldHVybjtcbiAgICAgIGRlZmF1bHQ6IHdoaWxlICgrK2kgPCBsKSAoZXYgPSBldmVudHNbaV0pLmNhbGxiYWNrLmFwcGx5KGV2LmN0eCwgYXJncyk7IHJldHVybjtcbiAgICB9XG4gIH07XG5cbiAgLy8gQSBsaXN0ZW5pbmcgY2xhc3MgdGhhdCB0cmFja3MgYW5kIGNsZWFucyB1cCBtZW1vcnkgYmluZGluZ3NcbiAgLy8gd2hlbiBhbGwgY2FsbGJhY2tzIGhhdmUgYmVlbiBvZmZlZC5cbiAgdmFyIExpc3RlbmluZyA9IGZ1bmN0aW9uKGxpc3RlbmVyLCBvYmopIHtcbiAgICB0aGlzLmlkID0gbGlzdGVuZXIuX2xpc3RlbklkO1xuICAgIHRoaXMubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICB0aGlzLm9iaiA9IG9iajtcbiAgICB0aGlzLmludGVyb3AgPSB0cnVlO1xuICAgIHRoaXMuY291bnQgPSAwO1xuICAgIHRoaXMuX2V2ZW50cyA9IHZvaWQgMDtcbiAgfTtcblxuICBMaXN0ZW5pbmcucHJvdG90eXBlLm9uID0gRXZlbnRzLm9uO1xuXG4gIC8vIE9mZnMgYSBjYWxsYmFjayAob3Igc2V2ZXJhbCkuXG4gIC8vIFVzZXMgYW4gb3B0aW1pemVkIGNvdW50ZXIgaWYgdGhlIGxpc3RlbmVlIHVzZXMgQmFja2JvbmUuRXZlbnRzLlxuICAvLyBPdGhlcndpc2UsIGZhbGxzIGJhY2sgdG8gbWFudWFsIHRyYWNraW5nIHRvIHN1cHBvcnQgZXZlbnRzXG4gIC8vIGxpYnJhcnkgaW50ZXJvcC5cbiAgTGlzdGVuaW5nLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbihuYW1lLCBjYWxsYmFjaykge1xuICAgIHZhciBjbGVhbnVwO1xuICAgIGlmICh0aGlzLmludGVyb3ApIHtcbiAgICAgIHRoaXMuX2V2ZW50cyA9IGV2ZW50c0FwaShvZmZBcGksIHRoaXMuX2V2ZW50cywgbmFtZSwgY2FsbGJhY2ssIHtcbiAgICAgICAgY29udGV4dDogdm9pZCAwLFxuICAgICAgICBsaXN0ZW5lcnM6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBjbGVhbnVwID0gIXRoaXMuX2V2ZW50cztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jb3VudC0tO1xuICAgICAgY2xlYW51cCA9IHRoaXMuY291bnQgPT09IDA7XG4gICAgfVxuICAgIGlmIChjbGVhbnVwKSB0aGlzLmNsZWFudXAoKTtcbiAgfTtcblxuICAvLyBDbGVhbnMgdXAgbWVtb3J5IGJpbmRpbmdzIGJldHdlZW4gdGhlIGxpc3RlbmVyIGFuZCB0aGUgbGlzdGVuZWUuXG4gIExpc3RlbmluZy5wcm90b3R5cGUuY2xlYW51cCA9IGZ1bmN0aW9uKCkge1xuICAgIGRlbGV0ZSB0aGlzLmxpc3RlbmVyLl9saXN0ZW5pbmdUb1t0aGlzLm9iai5fbGlzdGVuSWRdO1xuICAgIGlmICghdGhpcy5pbnRlcm9wKSBkZWxldGUgdGhpcy5vYmouX2xpc3RlbmVyc1t0aGlzLmlkXTtcbiAgfTtcblxuICAvLyBBbGlhc2VzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbiAgRXZlbnRzLmJpbmQgICA9IEV2ZW50cy5vbjtcbiAgRXZlbnRzLnVuYmluZCA9IEV2ZW50cy5vZmY7XG5cbiAgLy8gQWxsb3cgdGhlIGBCYWNrYm9uZWAgb2JqZWN0IHRvIHNlcnZlIGFzIGEgZ2xvYmFsIGV2ZW50IGJ1cywgZm9yIGZvbGtzIHdob1xuICAvLyB3YW50IGdsb2JhbCBcInB1YnN1YlwiIGluIGEgY29udmVuaWVudCBwbGFjZS5cbiAgXy5leHRlbmQoQmFja2JvbmUsIEV2ZW50cyk7XG5cbiAgLy8gQmFja2JvbmUuTW9kZWxcbiAgLy8gLS0tLS0tLS0tLS0tLS1cblxuICAvLyBCYWNrYm9uZSAqKk1vZGVscyoqIGFyZSB0aGUgYmFzaWMgZGF0YSBvYmplY3QgaW4gdGhlIGZyYW1ld29yayAtLVxuICAvLyBmcmVxdWVudGx5IHJlcHJlc2VudGluZyBhIHJvdyBpbiBhIHRhYmxlIGluIGEgZGF0YWJhc2Ugb24geW91ciBzZXJ2ZXIuXG4gIC8vIEEgZGlzY3JldGUgY2h1bmsgb2YgZGF0YSBhbmQgYSBidW5jaCBvZiB1c2VmdWwsIHJlbGF0ZWQgbWV0aG9kcyBmb3JcbiAgLy8gcGVyZm9ybWluZyBjb21wdXRhdGlvbnMgYW5kIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGF0IGRhdGEuXG5cbiAgLy8gQ3JlYXRlIGEgbmV3IG1vZGVsIHdpdGggdGhlIHNwZWNpZmllZCBhdHRyaWJ1dGVzLiBBIGNsaWVudCBpZCAoYGNpZGApXG4gIC8vIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGFuZCBhc3NpZ25lZCBmb3IgeW91LlxuICB2YXIgTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbCA9IGZ1bmN0aW9uKGF0dHJpYnV0ZXMsIG9wdGlvbnMpIHtcbiAgICB2YXIgYXR0cnMgPSBhdHRyaWJ1dGVzIHx8IHt9O1xuICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gICAgdGhpcy5wcmVpbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgdGhpcy5jaWQgPSBfLnVuaXF1ZUlkKHRoaXMuY2lkUHJlZml4KTtcbiAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7fTtcbiAgICBpZiAob3B0aW9ucy5jb2xsZWN0aW9uKSB0aGlzLmNvbGxlY3Rpb24gPSBvcHRpb25zLmNvbGxlY3Rpb247XG4gICAgaWYgKG9wdGlvbnMucGFyc2UpIGF0dHJzID0gdGhpcy5wYXJzZShhdHRycywgb3B0aW9ucykgfHwge307XG4gICAgdmFyIGRlZmF1bHRzID0gXy5yZXN1bHQodGhpcywgJ2RlZmF1bHRzJyk7XG4gICAgYXR0cnMgPSBfLmRlZmF1bHRzKF8uZXh0ZW5kKHt9LCBkZWZhdWx0cywgYXR0cnMpLCBkZWZhdWx0cyk7XG4gICAgdGhpcy5zZXQoYXR0cnMsIG9wdGlvbnMpO1xuICAgIHRoaXMuY2hhbmdlZCA9IHt9O1xuICAgIHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xuXG4gIC8vIEF0dGFjaCBhbGwgaW5oZXJpdGFibGUgbWV0aG9kcyB0byB0aGUgTW9kZWwgcHJvdG90eXBlLlxuICBfLmV4dGVuZChNb2RlbC5wcm90b3R5cGUsIEV2ZW50cywge1xuXG4gICAgLy8gQSBoYXNoIG9mIGF0dHJpYnV0ZXMgd2hvc2UgY3VycmVudCBhbmQgcHJldmlvdXMgdmFsdWUgZGlmZmVyLlxuICAgIGNoYW5nZWQ6IG51bGwsXG5cbiAgICAvLyBUaGUgdmFsdWUgcmV0dXJuZWQgZHVyaW5nIHRoZSBsYXN0IGZhaWxlZCB2YWxpZGF0aW9uLlxuICAgIHZhbGlkYXRpb25FcnJvcjogbnVsbCxcblxuICAgIC8vIFRoZSBkZWZhdWx0IG5hbWUgZm9yIHRoZSBKU09OIGBpZGAgYXR0cmlidXRlIGlzIGBcImlkXCJgLiBNb25nb0RCIGFuZFxuICAgIC8vIENvdWNoREIgdXNlcnMgbWF5IHdhbnQgdG8gc2V0IHRoaXMgdG8gYFwiX2lkXCJgLlxuICAgIGlkQXR0cmlidXRlOiAnaWQnLFxuXG4gICAgLy8gVGhlIHByZWZpeCBpcyB1c2VkIHRvIGNyZWF0ZSB0aGUgY2xpZW50IGlkIHdoaWNoIGlzIHVzZWQgdG8gaWRlbnRpZnkgbW9kZWxzIGxvY2FsbHkuXG4gICAgLy8gWW91IG1heSB3YW50IHRvIG92ZXJyaWRlIHRoaXMgaWYgeW91J3JlIGV4cGVyaWVuY2luZyBuYW1lIGNsYXNoZXMgd2l0aCBtb2RlbCBpZHMuXG4gICAgY2lkUHJlZml4OiAnYycsXG5cbiAgICAvLyBwcmVpbml0aWFsaXplIGlzIGFuIGVtcHR5IGZ1bmN0aW9uIGJ5IGRlZmF1bHQuIFlvdSBjYW4gb3ZlcnJpZGUgaXQgd2l0aCBhIGZ1bmN0aW9uXG4gICAgLy8gb3Igb2JqZWN0LiAgcHJlaW5pdGlhbGl6ZSB3aWxsIHJ1biBiZWZvcmUgYW55IGluc3RhbnRpYXRpb24gbG9naWMgaXMgcnVuIGluIHRoZSBNb2RlbC5cbiAgICBwcmVpbml0aWFsaXplOiBmdW5jdGlvbigpe30sXG5cbiAgICAvLyBJbml0aWFsaXplIGlzIGFuIGVtcHR5IGZ1bmN0aW9uIGJ5IGRlZmF1bHQuIE92ZXJyaWRlIGl0IHdpdGggeW91ciBvd25cbiAgICAvLyBpbml0aWFsaXphdGlvbiBsb2dpYy5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpe30sXG5cbiAgICAvLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSBtb2RlbCdzIGBhdHRyaWJ1dGVzYCBvYmplY3QuXG4gICAgdG9KU09OOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gXy5jbG9uZSh0aGlzLmF0dHJpYnV0ZXMpO1xuICAgIH0sXG5cbiAgICAvLyBQcm94eSBgQmFja2JvbmUuc3luY2AgYnkgZGVmYXVsdCAtLSBidXQgb3ZlcnJpZGUgdGhpcyBpZiB5b3UgbmVlZFxuICAgIC8vIGN1c3RvbSBzeW5jaW5nIHNlbWFudGljcyBmb3IgKnRoaXMqIHBhcnRpY3VsYXIgbW9kZWwuXG4gICAgc3luYzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQmFja2JvbmUuc3luYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH0sXG5cbiAgICAvLyBHZXQgdGhlIHZhbHVlIG9mIGFuIGF0dHJpYnV0ZS5cbiAgICBnZXQ6IGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZXNbYXR0cl07XG4gICAgfSxcblxuICAgIC8vIEdldCB0aGUgSFRNTC1lc2NhcGVkIHZhbHVlIG9mIGFuIGF0dHJpYnV0ZS5cbiAgICBlc2NhcGU6IGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgIHJldHVybiBfLmVzY2FwZSh0aGlzLmdldChhdHRyKSk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSBhdHRyaWJ1dGUgY29udGFpbnMgYSB2YWx1ZSB0aGF0IGlzIG5vdCBudWxsXG4gICAgLy8gb3IgdW5kZWZpbmVkLlxuICAgIGhhczogZnVuY3Rpb24oYXR0cikge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KGF0dHIpICE9IG51bGw7XG4gICAgfSxcblxuICAgIC8vIFNwZWNpYWwtY2FzZWQgcHJveHkgdG8gdW5kZXJzY29yZSdzIGBfLm1hdGNoZXNgIG1ldGhvZC5cbiAgICBtYXRjaGVzOiBmdW5jdGlvbihhdHRycykge1xuICAgICAgcmV0dXJuICEhXy5pdGVyYXRlZShhdHRycywgdGhpcykodGhpcy5hdHRyaWJ1dGVzKTtcbiAgICB9LFxuXG4gICAgLy8gU2V0IGEgaGFzaCBvZiBtb2RlbCBhdHRyaWJ1dGVzIG9uIHRoZSBvYmplY3QsIGZpcmluZyBgXCJjaGFuZ2VcImAuIFRoaXMgaXNcbiAgICAvLyB0aGUgY29yZSBwcmltaXRpdmUgb3BlcmF0aW9uIG9mIGEgbW9kZWwsIHVwZGF0aW5nIHRoZSBkYXRhIGFuZCBub3RpZnlpbmdcbiAgICAvLyBhbnlvbmUgd2hvIG5lZWRzIHRvIGtub3cgYWJvdXQgdGhlIGNoYW5nZSBpbiBzdGF0ZS4gVGhlIGhlYXJ0IG9mIHRoZSBiZWFzdC5cbiAgICBzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsLCBvcHRpb25zKSB7XG4gICAgICBpZiAoa2V5ID09IG51bGwpIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBIYW5kbGUgYm90aCBgXCJrZXlcIiwgdmFsdWVgIGFuZCBge2tleTogdmFsdWV9YCAtc3R5bGUgYXJndW1lbnRzLlxuICAgICAgdmFyIGF0dHJzO1xuICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGF0dHJzID0ga2V5O1xuICAgICAgICBvcHRpb25zID0gdmFsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKGF0dHJzID0ge30pW2tleV0gPSB2YWw7XG4gICAgICB9XG5cbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG5cbiAgICAgIC8vIFJ1biB2YWxpZGF0aW9uLlxuICAgICAgaWYgKCF0aGlzLl92YWxpZGF0ZShhdHRycywgb3B0aW9ucykpIHJldHVybiBmYWxzZTtcblxuICAgICAgLy8gRXh0cmFjdCBhdHRyaWJ1dGVzIGFuZCBvcHRpb25zLlxuICAgICAgdmFyIHVuc2V0ICAgICAgPSBvcHRpb25zLnVuc2V0O1xuICAgICAgdmFyIHNpbGVudCAgICAgPSBvcHRpb25zLnNpbGVudDtcbiAgICAgIHZhciBjaGFuZ2VzICAgID0gW107XG4gICAgICB2YXIgY2hhbmdpbmcgICA9IHRoaXMuX2NoYW5naW5nO1xuICAgICAgdGhpcy5fY2hhbmdpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAoIWNoYW5naW5nKSB7XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzQXR0cmlidXRlcyA9IF8uY2xvbmUodGhpcy5hdHRyaWJ1dGVzKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkID0ge307XG4gICAgICB9XG5cbiAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5hdHRyaWJ1dGVzO1xuICAgICAgdmFyIGNoYW5nZWQgPSB0aGlzLmNoYW5nZWQ7XG4gICAgICB2YXIgcHJldiAgICA9IHRoaXMuX3ByZXZpb3VzQXR0cmlidXRlcztcblxuICAgICAgLy8gRm9yIGVhY2ggYHNldGAgYXR0cmlidXRlLCB1cGRhdGUgb3IgZGVsZXRlIHRoZSBjdXJyZW50IHZhbHVlLlxuICAgICAgZm9yICh2YXIgYXR0ciBpbiBhdHRycykge1xuICAgICAgICB2YWwgPSBhdHRyc1thdHRyXTtcbiAgICAgICAgaWYgKCFfLmlzRXF1YWwoY3VycmVudFthdHRyXSwgdmFsKSkgY2hhbmdlcy5wdXNoKGF0dHIpO1xuICAgICAgICBpZiAoIV8uaXNFcXVhbChwcmV2W2F0dHJdLCB2YWwpKSB7XG4gICAgICAgICAgY2hhbmdlZFthdHRyXSA9IHZhbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgY2hhbmdlZFthdHRyXTtcbiAgICAgICAgfVxuICAgICAgICB1bnNldCA/IGRlbGV0ZSBjdXJyZW50W2F0dHJdIDogY3VycmVudFthdHRyXSA9IHZhbDtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIHRoZSBgaWRgLlxuICAgICAgaWYgKHRoaXMuaWRBdHRyaWJ1dGUgaW4gYXR0cnMpIHRoaXMuaWQgPSB0aGlzLmdldCh0aGlzLmlkQXR0cmlidXRlKTtcblxuICAgICAgLy8gVHJpZ2dlciBhbGwgcmVsZXZhbnQgYXR0cmlidXRlIGNoYW5nZXMuXG4gICAgICBpZiAoIXNpbGVudCkge1xuICAgICAgICBpZiAoY2hhbmdlcy5sZW5ndGgpIHRoaXMuX3BlbmRpbmcgPSBvcHRpb25zO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2NoYW5nZTonICsgY2hhbmdlc1tpXSwgdGhpcywgY3VycmVudFtjaGFuZ2VzW2ldXSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gWW91IG1pZ2h0IGJlIHdvbmRlcmluZyB3aHkgdGhlcmUncyBhIGB3aGlsZWAgbG9vcCBoZXJlLiBDaGFuZ2VzIGNhblxuICAgICAgLy8gYmUgcmVjdXJzaXZlbHkgbmVzdGVkIHdpdGhpbiBgXCJjaGFuZ2VcImAgZXZlbnRzLlxuICAgICAgaWYgKGNoYW5naW5nKSByZXR1cm4gdGhpcztcbiAgICAgIGlmICghc2lsZW50KSB7XG4gICAgICAgIHdoaWxlICh0aGlzLl9wZW5kaW5nKSB7XG4gICAgICAgICAgb3B0aW9ucyA9IHRoaXMuX3BlbmRpbmc7XG4gICAgICAgICAgdGhpcy5fcGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMudHJpZ2dlcignY2hhbmdlJywgdGhpcywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuX3BlbmRpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2NoYW5naW5nID0gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLy8gUmVtb3ZlIGFuIGF0dHJpYnV0ZSBmcm9tIHRoZSBtb2RlbCwgZmlyaW5nIGBcImNoYW5nZVwiYC4gYHVuc2V0YCBpcyBhIG5vb3BcbiAgICAvLyBpZiB0aGUgYXR0cmlidXRlIGRvZXNuJ3QgZXhpc3QuXG4gICAgdW5zZXQ6IGZ1bmN0aW9uKGF0dHIsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldChhdHRyLCB2b2lkIDAsIF8uZXh0ZW5kKHt9LCBvcHRpb25zLCB7dW5zZXQ6IHRydWV9KSk7XG4gICAgfSxcblxuICAgIC8vIENsZWFyIGFsbCBhdHRyaWJ1dGVzIG9uIHRoZSBtb2RlbCwgZmlyaW5nIGBcImNoYW5nZVwiYC5cbiAgICBjbGVhcjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIGF0dHJzID0ge307XG4gICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5hdHRyaWJ1dGVzKSBhdHRyc1trZXldID0gdm9pZCAwO1xuICAgICAgcmV0dXJuIHRoaXMuc2V0KGF0dHJzLCBfLmV4dGVuZCh7fSwgb3B0aW9ucywge3Vuc2V0OiB0cnVlfSkpO1xuICAgIH0sXG5cbiAgICAvLyBEZXRlcm1pbmUgaWYgdGhlIG1vZGVsIGhhcyBjaGFuZ2VkIHNpbmNlIHRoZSBsYXN0IGBcImNoYW5nZVwiYCBldmVudC5cbiAgICAvLyBJZiB5b3Ugc3BlY2lmeSBhbiBhdHRyaWJ1dGUgbmFtZSwgZGV0ZXJtaW5lIGlmIHRoYXQgYXR0cmlidXRlIGhhcyBjaGFuZ2VkLlxuICAgIGhhc0NoYW5nZWQ6IGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgIGlmIChhdHRyID09IG51bGwpIHJldHVybiAhXy5pc0VtcHR5KHRoaXMuY2hhbmdlZCk7XG4gICAgICByZXR1cm4gXy5oYXModGhpcy5jaGFuZ2VkLCBhdHRyKTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJuIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgYXR0cmlidXRlcyB0aGF0IGhhdmUgY2hhbmdlZCwgb3JcbiAgICAvLyBmYWxzZSBpZiB0aGVyZSBhcmUgbm8gY2hhbmdlZCBhdHRyaWJ1dGVzLiBVc2VmdWwgZm9yIGRldGVybWluaW5nIHdoYXRcbiAgICAvLyBwYXJ0cyBvZiBhIHZpZXcgbmVlZCB0byBiZSB1cGRhdGVkIGFuZC9vciB3aGF0IGF0dHJpYnV0ZXMgbmVlZCB0byBiZVxuICAgIC8vIHBlcnNpc3RlZCB0byB0aGUgc2VydmVyLiBVbnNldCBhdHRyaWJ1dGVzIHdpbGwgYmUgc2V0IHRvIHVuZGVmaW5lZC5cbiAgICAvLyBZb3UgY2FuIGFsc28gcGFzcyBhbiBhdHRyaWJ1dGVzIG9iamVjdCB0byBkaWZmIGFnYWluc3QgdGhlIG1vZGVsLFxuICAgIC8vIGRldGVybWluaW5nIGlmIHRoZXJlICp3b3VsZCBiZSogYSBjaGFuZ2UuXG4gICAgY2hhbmdlZEF0dHJpYnV0ZXM6IGZ1bmN0aW9uKGRpZmYpIHtcbiAgICAgIGlmICghZGlmZikgcmV0dXJuIHRoaXMuaGFzQ2hhbmdlZCgpID8gXy5jbG9uZSh0aGlzLmNoYW5nZWQpIDogZmFsc2U7XG4gICAgICB2YXIgb2xkID0gdGhpcy5fY2hhbmdpbmcgPyB0aGlzLl9wcmV2aW91c0F0dHJpYnV0ZXMgOiB0aGlzLmF0dHJpYnV0ZXM7XG4gICAgICB2YXIgY2hhbmdlZCA9IHt9O1xuICAgICAgdmFyIGhhc0NoYW5nZWQ7XG4gICAgICBmb3IgKHZhciBhdHRyIGluIGRpZmYpIHtcbiAgICAgICAgdmFyIHZhbCA9IGRpZmZbYXR0cl07XG4gICAgICAgIGlmIChfLmlzRXF1YWwob2xkW2F0dHJdLCB2YWwpKSBjb250aW51ZTtcbiAgICAgICAgY2hhbmdlZFthdHRyXSA9IHZhbDtcbiAgICAgICAgaGFzQ2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzQ2hhbmdlZCA/IGNoYW5nZWQgOiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLy8gR2V0IHRoZSBwcmV2aW91cyB2YWx1ZSBvZiBhbiBhdHRyaWJ1dGUsIHJlY29yZGVkIGF0IHRoZSB0aW1lIHRoZSBsYXN0XG4gICAgLy8gYFwiY2hhbmdlXCJgIGV2ZW50IHdhcyBmaXJlZC5cbiAgICBwcmV2aW91czogZnVuY3Rpb24oYXR0cikge1xuICAgICAgaWYgKGF0dHIgPT0gbnVsbCB8fCAhdGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzKSByZXR1cm4gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzLl9wcmV2aW91c0F0dHJpYnV0ZXNbYXR0cl07XG4gICAgfSxcblxuICAgIC8vIEdldCBhbGwgb2YgdGhlIGF0dHJpYnV0ZXMgb2YgdGhlIG1vZGVsIGF0IHRoZSB0aW1lIG9mIHRoZSBwcmV2aW91c1xuICAgIC8vIGBcImNoYW5nZVwiYCBldmVudC5cbiAgICBwcmV2aW91c0F0dHJpYnV0ZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF8uY2xvbmUodGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzKTtcbiAgICB9LFxuXG4gICAgLy8gRmV0Y2ggdGhlIG1vZGVsIGZyb20gdGhlIHNlcnZlciwgbWVyZ2luZyB0aGUgcmVzcG9uc2Ugd2l0aCB0aGUgbW9kZWwnc1xuICAgIC8vIGxvY2FsIGF0dHJpYnV0ZXMuIEFueSBjaGFuZ2VkIGF0dHJpYnV0ZXMgd2lsbCB0cmlnZ2VyIGEgXCJjaGFuZ2VcIiBldmVudC5cbiAgICBmZXRjaDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IF8uZXh0ZW5kKHtwYXJzZTogdHJ1ZX0sIG9wdGlvbnMpO1xuICAgICAgdmFyIG1vZGVsID0gdGhpcztcbiAgICAgIHZhciBzdWNjZXNzID0gb3B0aW9ucy5zdWNjZXNzO1xuICAgICAgb3B0aW9ucy5zdWNjZXNzID0gZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICB2YXIgc2VydmVyQXR0cnMgPSBvcHRpb25zLnBhcnNlID8gbW9kZWwucGFyc2UocmVzcCwgb3B0aW9ucykgOiByZXNwO1xuICAgICAgICBpZiAoIW1vZGVsLnNldChzZXJ2ZXJBdHRycywgb3B0aW9ucykpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHN1Y2Nlc3MpIHN1Y2Nlc3MuY2FsbChvcHRpb25zLmNvbnRleHQsIG1vZGVsLCByZXNwLCBvcHRpb25zKTtcbiAgICAgICAgbW9kZWwudHJpZ2dlcignc3luYycsIG1vZGVsLCByZXNwLCBvcHRpb25zKTtcbiAgICAgIH07XG4gICAgICB3cmFwRXJyb3IodGhpcywgb3B0aW9ucyk7XG4gICAgICByZXR1cm4gdGhpcy5zeW5jKCdyZWFkJywgdGhpcywgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8vIFNldCBhIGhhc2ggb2YgbW9kZWwgYXR0cmlidXRlcywgYW5kIHN5bmMgdGhlIG1vZGVsIHRvIHRoZSBzZXJ2ZXIuXG4gICAgLy8gSWYgdGhlIHNlcnZlciByZXR1cm5zIGFuIGF0dHJpYnV0ZXMgaGFzaCB0aGF0IGRpZmZlcnMsIHRoZSBtb2RlbCdzXG4gICAgLy8gc3RhdGUgd2lsbCBiZSBgc2V0YCBhZ2Fpbi5cbiAgICBzYXZlOiBmdW5jdGlvbihrZXksIHZhbCwgb3B0aW9ucykge1xuICAgICAgLy8gSGFuZGxlIGJvdGggYFwia2V5XCIsIHZhbHVlYCBhbmQgYHtrZXk6IHZhbHVlfWAgLXN0eWxlIGFyZ3VtZW50cy5cbiAgICAgIHZhciBhdHRycztcbiAgICAgIGlmIChrZXkgPT0gbnVsbCB8fCB0eXBlb2Yga2V5ID09PSAnb2JqZWN0Jykge1xuICAgICAgICBhdHRycyA9IGtleTtcbiAgICAgICAgb3B0aW9ucyA9IHZhbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIChhdHRycyA9IHt9KVtrZXldID0gdmFsO1xuICAgICAgfVxuXG4gICAgICBvcHRpb25zID0gXy5leHRlbmQoe3ZhbGlkYXRlOiB0cnVlLCBwYXJzZTogdHJ1ZX0sIG9wdGlvbnMpO1xuICAgICAgdmFyIHdhaXQgPSBvcHRpb25zLndhaXQ7XG5cbiAgICAgIC8vIElmIHdlJ3JlIG5vdCB3YWl0aW5nIGFuZCBhdHRyaWJ1dGVzIGV4aXN0LCBzYXZlIGFjdHMgYXNcbiAgICAgIC8vIGBzZXQoYXR0cikuc2F2ZShudWxsLCBvcHRzKWAgd2l0aCB2YWxpZGF0aW9uLiBPdGhlcndpc2UsIGNoZWNrIGlmXG4gICAgICAvLyB0aGUgbW9kZWwgd2lsbCBiZSB2YWxpZCB3aGVuIHRoZSBhdHRyaWJ1dGVzLCBpZiBhbnksIGFyZSBzZXQuXG4gICAgICBpZiAoYXR0cnMgJiYgIXdhaXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNldChhdHRycywgb3B0aW9ucykpIHJldHVybiBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX3ZhbGlkYXRlKGF0dHJzLCBvcHRpb25zKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIEFmdGVyIGEgc3VjY2Vzc2Z1bCBzZXJ2ZXItc2lkZSBzYXZlLCB0aGUgY2xpZW50IGlzIChvcHRpb25hbGx5KVxuICAgICAgLy8gdXBkYXRlZCB3aXRoIHRoZSBzZXJ2ZXItc2lkZSBzdGF0ZS5cbiAgICAgIHZhciBtb2RlbCA9IHRoaXM7XG4gICAgICB2YXIgc3VjY2VzcyA9IG9wdGlvbnMuc3VjY2VzcztcbiAgICAgIHZhciBhdHRyaWJ1dGVzID0gdGhpcy5hdHRyaWJ1dGVzO1xuICAgICAgb3B0aW9ucy5zdWNjZXNzID0gZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAvLyBFbnN1cmUgYXR0cmlidXRlcyBhcmUgcmVzdG9yZWQgZHVyaW5nIHN5bmNocm9ub3VzIHNhdmVzLlxuICAgICAgICBtb2RlbC5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcbiAgICAgICAgdmFyIHNlcnZlckF0dHJzID0gb3B0aW9ucy5wYXJzZSA/IG1vZGVsLnBhcnNlKHJlc3AsIG9wdGlvbnMpIDogcmVzcDtcbiAgICAgICAgaWYgKHdhaXQpIHNlcnZlckF0dHJzID0gXy5leHRlbmQoe30sIGF0dHJzLCBzZXJ2ZXJBdHRycyk7XG4gICAgICAgIGlmIChzZXJ2ZXJBdHRycyAmJiAhbW9kZWwuc2V0KHNlcnZlckF0dHJzLCBvcHRpb25zKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoc3VjY2Vzcykgc3VjY2Vzcy5jYWxsKG9wdGlvbnMuY29udGV4dCwgbW9kZWwsIHJlc3AsIG9wdGlvbnMpO1xuICAgICAgICBtb2RlbC50cmlnZ2VyKCdzeW5jJywgbW9kZWwsIHJlc3AsIG9wdGlvbnMpO1xuICAgICAgfTtcbiAgICAgIHdyYXBFcnJvcih0aGlzLCBvcHRpb25zKTtcblxuICAgICAgLy8gU2V0IHRlbXBvcmFyeSBhdHRyaWJ1dGVzIGlmIGB7d2FpdDogdHJ1ZX1gIHRvIHByb3Blcmx5IGZpbmQgbmV3IGlkcy5cbiAgICAgIGlmIChhdHRycyAmJiB3YWl0KSB0aGlzLmF0dHJpYnV0ZXMgPSBfLmV4dGVuZCh7fSwgYXR0cmlidXRlcywgYXR0cnMpO1xuXG4gICAgICB2YXIgbWV0aG9kID0gdGhpcy5pc05ldygpID8gJ2NyZWF0ZScgOiBvcHRpb25zLnBhdGNoID8gJ3BhdGNoJyA6ICd1cGRhdGUnO1xuICAgICAgaWYgKG1ldGhvZCA9PT0gJ3BhdGNoJyAmJiAhb3B0aW9ucy5hdHRycykgb3B0aW9ucy5hdHRycyA9IGF0dHJzO1xuICAgICAgdmFyIHhociA9IHRoaXMuc3luYyhtZXRob2QsIHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAvLyBSZXN0b3JlIGF0dHJpYnV0ZXMuXG4gICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuXG4gICAgICByZXR1cm4geGhyO1xuICAgIH0sXG5cbiAgICAvLyBEZXN0cm95IHRoaXMgbW9kZWwgb24gdGhlIHNlcnZlciBpZiBpdCB3YXMgYWxyZWFkeSBwZXJzaXN0ZWQuXG4gICAgLy8gT3B0aW1pc3RpY2FsbHkgcmVtb3ZlcyB0aGUgbW9kZWwgZnJvbSBpdHMgY29sbGVjdGlvbiwgaWYgaXQgaGFzIG9uZS5cbiAgICAvLyBJZiBgd2FpdDogdHJ1ZWAgaXMgcGFzc2VkLCB3YWl0cyBmb3IgdGhlIHNlcnZlciB0byByZXNwb25kIGJlZm9yZSByZW1vdmFsLlxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zID8gXy5jbG9uZShvcHRpb25zKSA6IHt9O1xuICAgICAgdmFyIG1vZGVsID0gdGhpcztcbiAgICAgIHZhciBzdWNjZXNzID0gb3B0aW9ucy5zdWNjZXNzO1xuICAgICAgdmFyIHdhaXQgPSBvcHRpb25zLndhaXQ7XG5cbiAgICAgIHZhciBkZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIG1vZGVsLnN0b3BMaXN0ZW5pbmcoKTtcbiAgICAgICAgbW9kZWwudHJpZ2dlcignZGVzdHJveScsIG1vZGVsLCBtb2RlbC5jb2xsZWN0aW9uLCBvcHRpb25zKTtcbiAgICAgIH07XG5cbiAgICAgIG9wdGlvbnMuc3VjY2VzcyA9IGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgaWYgKHdhaXQpIGRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHN1Y2Nlc3MpIHN1Y2Nlc3MuY2FsbChvcHRpb25zLmNvbnRleHQsIG1vZGVsLCByZXNwLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKCFtb2RlbC5pc05ldygpKSBtb2RlbC50cmlnZ2VyKCdzeW5jJywgbW9kZWwsIHJlc3AsIG9wdGlvbnMpO1xuICAgICAgfTtcblxuICAgICAgdmFyIHhociA9IGZhbHNlO1xuICAgICAgaWYgKHRoaXMuaXNOZXcoKSkge1xuICAgICAgICBfLmRlZmVyKG9wdGlvbnMuc3VjY2Vzcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3cmFwRXJyb3IodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHhociA9IHRoaXMuc3luYygnZGVsZXRlJywgdGhpcywgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBpZiAoIXdhaXQpIGRlc3Ryb3koKTtcbiAgICAgIHJldHVybiB4aHI7XG4gICAgfSxcblxuICAgIC8vIERlZmF1bHQgVVJMIGZvciB0aGUgbW9kZWwncyByZXByZXNlbnRhdGlvbiBvbiB0aGUgc2VydmVyIC0tIGlmIHlvdSdyZVxuICAgIC8vIHVzaW5nIEJhY2tib25lJ3MgcmVzdGZ1bCBtZXRob2RzLCBvdmVycmlkZSB0aGlzIHRvIGNoYW5nZSB0aGUgZW5kcG9pbnRcbiAgICAvLyB0aGF0IHdpbGwgYmUgY2FsbGVkLlxuICAgIHVybDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYmFzZSA9XG4gICAgICAgIF8ucmVzdWx0KHRoaXMsICd1cmxSb290JykgfHxcbiAgICAgICAgXy5yZXN1bHQodGhpcy5jb2xsZWN0aW9uLCAndXJsJykgfHxcbiAgICAgICAgdXJsRXJyb3IoKTtcbiAgICAgIGlmICh0aGlzLmlzTmV3KCkpIHJldHVybiBiYXNlO1xuICAgICAgdmFyIGlkID0gdGhpcy5nZXQodGhpcy5pZEF0dHJpYnV0ZSk7XG4gICAgICByZXR1cm4gYmFzZS5yZXBsYWNlKC9bXlxcL10kLywgJyQmLycpICsgZW5jb2RlVVJJQ29tcG9uZW50KGlkKTtcbiAgICB9LFxuXG4gICAgLy8gKipwYXJzZSoqIGNvbnZlcnRzIGEgcmVzcG9uc2UgaW50byB0aGUgaGFzaCBvZiBhdHRyaWJ1dGVzIHRvIGJlIGBzZXRgIG9uXG4gICAgLy8gdGhlIG1vZGVsLiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBpcyBqdXN0IHRvIHBhc3MgdGhlIHJlc3BvbnNlIGFsb25nLlxuICAgIHBhcnNlOiBmdW5jdGlvbihyZXNwLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gcmVzcDtcbiAgICB9LFxuXG4gICAgLy8gQ3JlYXRlIGEgbmV3IG1vZGVsIHdpdGggaWRlbnRpY2FsIGF0dHJpYnV0ZXMgdG8gdGhpcyBvbmUuXG4gICAgY2xvbmU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuYXR0cmlidXRlcyk7XG4gICAgfSxcblxuICAgIC8vIEEgbW9kZWwgaXMgbmV3IGlmIGl0IGhhcyBuZXZlciBiZWVuIHNhdmVkIHRvIHRoZSBzZXJ2ZXIsIGFuZCBsYWNrcyBhbiBpZC5cbiAgICBpc05ldzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gIXRoaXMuaGFzKHRoaXMuaWRBdHRyaWJ1dGUpO1xuICAgIH0sXG5cbiAgICAvLyBDaGVjayBpZiB0aGUgbW9kZWwgaXMgY3VycmVudGx5IGluIGEgdmFsaWQgc3RhdGUuXG4gICAgaXNWYWxpZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZhbGlkYXRlKHt9LCBfLmV4dGVuZCh7fSwgb3B0aW9ucywge3ZhbGlkYXRlOiB0cnVlfSkpO1xuICAgIH0sXG5cbiAgICAvLyBSdW4gdmFsaWRhdGlvbiBhZ2FpbnN0IHRoZSBuZXh0IGNvbXBsZXRlIHNldCBvZiBtb2RlbCBhdHRyaWJ1dGVzLFxuICAgIC8vIHJldHVybmluZyBgdHJ1ZWAgaWYgYWxsIGlzIHdlbGwuIE90aGVyd2lzZSwgZmlyZSBhbiBgXCJpbnZhbGlkXCJgIGV2ZW50LlxuICAgIF92YWxpZGF0ZTogZnVuY3Rpb24oYXR0cnMsIG9wdGlvbnMpIHtcbiAgICAgIGlmICghb3B0aW9ucy52YWxpZGF0ZSB8fCAhdGhpcy52YWxpZGF0ZSkgcmV0dXJuIHRydWU7XG4gICAgICBhdHRycyA9IF8uZXh0ZW5kKHt9LCB0aGlzLmF0dHJpYnV0ZXMsIGF0dHJzKTtcbiAgICAgIHZhciBlcnJvciA9IHRoaXMudmFsaWRhdGlvbkVycm9yID0gdGhpcy52YWxpZGF0ZShhdHRycywgb3B0aW9ucykgfHwgbnVsbDtcbiAgICAgIGlmICghZXJyb3IpIHJldHVybiB0cnVlO1xuICAgICAgdGhpcy50cmlnZ2VyKCdpbnZhbGlkJywgdGhpcywgZXJyb3IsIF8uZXh0ZW5kKG9wdGlvbnMsIHt2YWxpZGF0aW9uRXJyb3I6IGVycm9yfSkpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICB9KTtcblxuICAvLyBCYWNrYm9uZS5Db2xsZWN0aW9uXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBJZiBtb2RlbHMgdGVuZCB0byByZXByZXNlbnQgYSBzaW5nbGUgcm93IG9mIGRhdGEsIGEgQmFja2JvbmUgQ29sbGVjdGlvbiBpc1xuICAvLyBtb3JlIGFuYWxvZ291cyB0byBhIHRhYmxlIGZ1bGwgb2YgZGF0YSAuLi4gb3IgYSBzbWFsbCBzbGljZSBvciBwYWdlIG9mIHRoYXRcbiAgLy8gdGFibGUsIG9yIGEgY29sbGVjdGlvbiBvZiByb3dzIHRoYXQgYmVsb25nIHRvZ2V0aGVyIGZvciBhIHBhcnRpY3VsYXIgcmVhc29uXG4gIC8vIC0tIGFsbCBvZiB0aGUgbWVzc2FnZXMgaW4gdGhpcyBwYXJ0aWN1bGFyIGZvbGRlciwgYWxsIG9mIHRoZSBkb2N1bWVudHNcbiAgLy8gYmVsb25naW5nIHRvIHRoaXMgcGFydGljdWxhciBhdXRob3IsIGFuZCBzbyBvbi4gQ29sbGVjdGlvbnMgbWFpbnRhaW5cbiAgLy8gaW5kZXhlcyBvZiB0aGVpciBtb2RlbHMsIGJvdGggaW4gb3JkZXIsIGFuZCBmb3IgbG9va3VwIGJ5IGBpZGAuXG5cbiAgLy8gQ3JlYXRlIGEgbmV3ICoqQ29sbGVjdGlvbioqLCBwZXJoYXBzIHRvIGNvbnRhaW4gYSBzcGVjaWZpYyB0eXBlIG9mIGBtb2RlbGAuXG4gIC8vIElmIGEgYGNvbXBhcmF0b3JgIGlzIHNwZWNpZmllZCwgdGhlIENvbGxlY3Rpb24gd2lsbCBtYWludGFpblxuICAvLyBpdHMgbW9kZWxzIGluIHNvcnQgb3JkZXIsIGFzIHRoZXkncmUgYWRkZWQgYW5kIHJlbW92ZWQuXG4gIHZhciBDb2xsZWN0aW9uID0gQmFja2JvbmUuQ29sbGVjdGlvbiA9IGZ1bmN0aW9uKG1vZGVscywgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gICAgdGhpcy5wcmVpbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKG9wdGlvbnMubW9kZWwpIHRoaXMubW9kZWwgPSBvcHRpb25zLm1vZGVsO1xuICAgIGlmIChvcHRpb25zLmNvbXBhcmF0b3IgIT09IHZvaWQgMCkgdGhpcy5jb21wYXJhdG9yID0gb3B0aW9ucy5jb21wYXJhdG9yO1xuICAgIHRoaXMuX3Jlc2V0KCk7XG4gICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKG1vZGVscykgdGhpcy5yZXNldChtb2RlbHMsIF8uZXh0ZW5kKHtzaWxlbnQ6IHRydWV9LCBvcHRpb25zKSk7XG4gIH07XG5cbiAgLy8gRGVmYXVsdCBvcHRpb25zIGZvciBgQ29sbGVjdGlvbiNzZXRgLlxuICB2YXIgc2V0T3B0aW9ucyA9IHthZGQ6IHRydWUsIHJlbW92ZTogdHJ1ZSwgbWVyZ2U6IHRydWV9O1xuICB2YXIgYWRkT3B0aW9ucyA9IHthZGQ6IHRydWUsIHJlbW92ZTogZmFsc2V9O1xuXG4gIC8vIFNwbGljZXMgYGluc2VydGAgaW50byBgYXJyYXlgIGF0IGluZGV4IGBhdGAuXG4gIHZhciBzcGxpY2UgPSBmdW5jdGlvbihhcnJheSwgaW5zZXJ0LCBhdCkge1xuICAgIGF0ID0gTWF0aC5taW4oTWF0aC5tYXgoYXQsIDApLCBhcnJheS5sZW5ndGgpO1xuICAgIHZhciB0YWlsID0gQXJyYXkoYXJyYXkubGVuZ3RoIC0gYXQpO1xuICAgIHZhciBsZW5ndGggPSBpbnNlcnQubGVuZ3RoO1xuICAgIHZhciBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCB0YWlsLmxlbmd0aDsgaSsrKSB0YWlsW2ldID0gYXJyYXlbaSArIGF0XTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIGFycmF5W2kgKyBhdF0gPSBpbnNlcnRbaV07XG4gICAgZm9yIChpID0gMDsgaSA8IHRhaWwubGVuZ3RoOyBpKyspIGFycmF5W2kgKyBsZW5ndGggKyBhdF0gPSB0YWlsW2ldO1xuICB9O1xuXG4gIC8vIERlZmluZSB0aGUgQ29sbGVjdGlvbidzIGluaGVyaXRhYmxlIG1ldGhvZHMuXG4gIF8uZXh0ZW5kKENvbGxlY3Rpb24ucHJvdG90eXBlLCBFdmVudHMsIHtcblxuICAgIC8vIFRoZSBkZWZhdWx0IG1vZGVsIGZvciBhIGNvbGxlY3Rpb24gaXMganVzdCBhICoqQmFja2JvbmUuTW9kZWwqKi5cbiAgICAvLyBUaGlzIHNob3VsZCBiZSBvdmVycmlkZGVuIGluIG1vc3QgY2FzZXMuXG4gICAgbW9kZWw6IE1vZGVsLFxuXG5cbiAgICAvLyBwcmVpbml0aWFsaXplIGlzIGFuIGVtcHR5IGZ1bmN0aW9uIGJ5IGRlZmF1bHQuIFlvdSBjYW4gb3ZlcnJpZGUgaXQgd2l0aCBhIGZ1bmN0aW9uXG4gICAgLy8gb3Igb2JqZWN0LiAgcHJlaW5pdGlhbGl6ZSB3aWxsIHJ1biBiZWZvcmUgYW55IGluc3RhbnRpYXRpb24gbG9naWMgaXMgcnVuIGluIHRoZSBDb2xsZWN0aW9uLlxuICAgIHByZWluaXRpYWxpemU6IGZ1bmN0aW9uKCl7fSxcblxuICAgIC8vIEluaXRpYWxpemUgaXMgYW4gZW1wdHkgZnVuY3Rpb24gYnkgZGVmYXVsdC4gT3ZlcnJpZGUgaXQgd2l0aCB5b3VyIG93blxuICAgIC8vIGluaXRpYWxpemF0aW9uIGxvZ2ljLlxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCl7fSxcblxuICAgIC8vIFRoZSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGEgQ29sbGVjdGlvbiBpcyBhbiBhcnJheSBvZiB0aGVcbiAgICAvLyBtb2RlbHMnIGF0dHJpYnV0ZXMuXG4gICAgdG9KU09OOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24obW9kZWwpIHsgcmV0dXJuIG1vZGVsLnRvSlNPTihvcHRpb25zKTsgfSk7XG4gICAgfSxcblxuICAgIC8vIFByb3h5IGBCYWNrYm9uZS5zeW5jYCBieSBkZWZhdWx0LlxuICAgIHN5bmM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIEJhY2tib25lLnN5bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9LFxuXG4gICAgLy8gQWRkIGEgbW9kZWwsIG9yIGxpc3Qgb2YgbW9kZWxzIHRvIHRoZSBzZXQuIGBtb2RlbHNgIG1heSBiZSBCYWNrYm9uZVxuICAgIC8vIE1vZGVscyBvciByYXcgSmF2YVNjcmlwdCBvYmplY3RzIHRvIGJlIGNvbnZlcnRlZCB0byBNb2RlbHMsIG9yIGFueVxuICAgIC8vIGNvbWJpbmF0aW9uIG9mIHRoZSB0d28uXG4gICAgYWRkOiBmdW5jdGlvbihtb2RlbHMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldChtb2RlbHMsIF8uZXh0ZW5kKHttZXJnZTogZmFsc2V9LCBvcHRpb25zLCBhZGRPcHRpb25zKSk7XG4gICAgfSxcblxuICAgIC8vIFJlbW92ZSBhIG1vZGVsLCBvciBhIGxpc3Qgb2YgbW9kZWxzIGZyb20gdGhlIHNldC5cbiAgICByZW1vdmU6IGZ1bmN0aW9uKG1vZGVscywgb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IF8uZXh0ZW5kKHt9LCBvcHRpb25zKTtcbiAgICAgIHZhciBzaW5ndWxhciA9ICFfLmlzQXJyYXkobW9kZWxzKTtcbiAgICAgIG1vZGVscyA9IHNpbmd1bGFyID8gW21vZGVsc10gOiBtb2RlbHMuc2xpY2UoKTtcbiAgICAgIHZhciByZW1vdmVkID0gdGhpcy5fcmVtb3ZlTW9kZWxzKG1vZGVscywgb3B0aW9ucyk7XG4gICAgICBpZiAoIW9wdGlvbnMuc2lsZW50ICYmIHJlbW92ZWQubGVuZ3RoKSB7XG4gICAgICAgIG9wdGlvbnMuY2hhbmdlcyA9IHthZGRlZDogW10sIG1lcmdlZDogW10sIHJlbW92ZWQ6IHJlbW92ZWR9O1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ3VwZGF0ZScsIHRoaXMsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNpbmd1bGFyID8gcmVtb3ZlZFswXSA6IHJlbW92ZWQ7XG4gICAgfSxcblxuICAgIC8vIFVwZGF0ZSBhIGNvbGxlY3Rpb24gYnkgYHNldGAtaW5nIGEgbmV3IGxpc3Qgb2YgbW9kZWxzLCBhZGRpbmcgbmV3IG9uZXMsXG4gICAgLy8gcmVtb3ZpbmcgbW9kZWxzIHRoYXQgYXJlIG5vIGxvbmdlciBwcmVzZW50LCBhbmQgbWVyZ2luZyBtb2RlbHMgdGhhdFxuICAgIC8vIGFscmVhZHkgZXhpc3QgaW4gdGhlIGNvbGxlY3Rpb24sIGFzIG5lY2Vzc2FyeS4gU2ltaWxhciB0byAqKk1vZGVsI3NldCoqLFxuICAgIC8vIHRoZSBjb3JlIG9wZXJhdGlvbiBmb3IgdXBkYXRpbmcgdGhlIGRhdGEgY29udGFpbmVkIGJ5IHRoZSBjb2xsZWN0aW9uLlxuICAgIHNldDogZnVuY3Rpb24obW9kZWxzLCBvcHRpb25zKSB7XG4gICAgICBpZiAobW9kZWxzID09IG51bGwpIHJldHVybjtcblxuICAgICAgb3B0aW9ucyA9IF8uZXh0ZW5kKHt9LCBzZXRPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgIGlmIChvcHRpb25zLnBhcnNlICYmICF0aGlzLl9pc01vZGVsKG1vZGVscykpIHtcbiAgICAgICAgbW9kZWxzID0gdGhpcy5wYXJzZShtb2RlbHMsIG9wdGlvbnMpIHx8IFtdO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2luZ3VsYXIgPSAhXy5pc0FycmF5KG1vZGVscyk7XG4gICAgICBtb2RlbHMgPSBzaW5ndWxhciA/IFttb2RlbHNdIDogbW9kZWxzLnNsaWNlKCk7XG5cbiAgICAgIHZhciBhdCA9IG9wdGlvbnMuYXQ7XG4gICAgICBpZiAoYXQgIT0gbnVsbCkgYXQgPSArYXQ7XG4gICAgICBpZiAoYXQgPiB0aGlzLmxlbmd0aCkgYXQgPSB0aGlzLmxlbmd0aDtcbiAgICAgIGlmIChhdCA8IDApIGF0ICs9IHRoaXMubGVuZ3RoICsgMTtcblxuICAgICAgdmFyIHNldCA9IFtdO1xuICAgICAgdmFyIHRvQWRkID0gW107XG4gICAgICB2YXIgdG9NZXJnZSA9IFtdO1xuICAgICAgdmFyIHRvUmVtb3ZlID0gW107XG4gICAgICB2YXIgbW9kZWxNYXAgPSB7fTtcblxuICAgICAgdmFyIGFkZCA9IG9wdGlvbnMuYWRkO1xuICAgICAgdmFyIG1lcmdlID0gb3B0aW9ucy5tZXJnZTtcbiAgICAgIHZhciByZW1vdmUgPSBvcHRpb25zLnJlbW92ZTtcblxuICAgICAgdmFyIHNvcnQgPSBmYWxzZTtcbiAgICAgIHZhciBzb3J0YWJsZSA9IHRoaXMuY29tcGFyYXRvciAmJiBhdCA9PSBudWxsICYmIG9wdGlvbnMuc29ydCAhPT0gZmFsc2U7XG4gICAgICB2YXIgc29ydEF0dHIgPSBfLmlzU3RyaW5nKHRoaXMuY29tcGFyYXRvcikgPyB0aGlzLmNvbXBhcmF0b3IgOiBudWxsO1xuXG4gICAgICAvLyBUdXJuIGJhcmUgb2JqZWN0cyBpbnRvIG1vZGVsIHJlZmVyZW5jZXMsIGFuZCBwcmV2ZW50IGludmFsaWQgbW9kZWxzXG4gICAgICAvLyBmcm9tIGJlaW5nIGFkZGVkLlxuICAgICAgdmFyIG1vZGVsLCBpO1xuICAgICAgZm9yIChpID0gMDsgaSA8IG1vZGVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBtb2RlbCA9IG1vZGVsc1tpXTtcblxuICAgICAgICAvLyBJZiBhIGR1cGxpY2F0ZSBpcyBmb3VuZCwgcHJldmVudCBpdCBmcm9tIGJlaW5nIGFkZGVkIGFuZFxuICAgICAgICAvLyBvcHRpb25hbGx5IG1lcmdlIGl0IGludG8gdGhlIGV4aXN0aW5nIG1vZGVsLlxuICAgICAgICB2YXIgZXhpc3RpbmcgPSB0aGlzLmdldChtb2RlbCk7XG4gICAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICAgIGlmIChtZXJnZSAmJiBtb2RlbCAhPT0gZXhpc3RpbmcpIHtcbiAgICAgICAgICAgIHZhciBhdHRycyA9IHRoaXMuX2lzTW9kZWwobW9kZWwpID8gbW9kZWwuYXR0cmlidXRlcyA6IG1vZGVsO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMucGFyc2UpIGF0dHJzID0gZXhpc3RpbmcucGFyc2UoYXR0cnMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgZXhpc3Rpbmcuc2V0KGF0dHJzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRvTWVyZ2UucHVzaChleGlzdGluZyk7XG4gICAgICAgICAgICBpZiAoc29ydGFibGUgJiYgIXNvcnQpIHNvcnQgPSBleGlzdGluZy5oYXNDaGFuZ2VkKHNvcnRBdHRyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFtb2RlbE1hcFtleGlzdGluZy5jaWRdKSB7XG4gICAgICAgICAgICBtb2RlbE1hcFtleGlzdGluZy5jaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgIHNldC5wdXNoKGV4aXN0aW5nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbW9kZWxzW2ldID0gZXhpc3Rpbmc7XG5cbiAgICAgICAgLy8gSWYgdGhpcyBpcyBhIG5ldywgdmFsaWQgbW9kZWwsIHB1c2ggaXQgdG8gdGhlIGB0b0FkZGAgbGlzdC5cbiAgICAgICAgfSBlbHNlIGlmIChhZGQpIHtcbiAgICAgICAgICBtb2RlbCA9IG1vZGVsc1tpXSA9IHRoaXMuX3ByZXBhcmVNb2RlbChtb2RlbCwgb3B0aW9ucyk7XG4gICAgICAgICAgaWYgKG1vZGVsKSB7XG4gICAgICAgICAgICB0b0FkZC5wdXNoKG1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMuX2FkZFJlZmVyZW5jZShtb2RlbCwgb3B0aW9ucyk7XG4gICAgICAgICAgICBtb2RlbE1hcFttb2RlbC5jaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgIHNldC5wdXNoKG1vZGVsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIHN0YWxlIG1vZGVscy5cbiAgICAgIGlmIChyZW1vdmUpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBtb2RlbCA9IHRoaXMubW9kZWxzW2ldO1xuICAgICAgICAgIGlmICghbW9kZWxNYXBbbW9kZWwuY2lkXSkgdG9SZW1vdmUucHVzaChtb2RlbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRvUmVtb3ZlLmxlbmd0aCkgdGhpcy5fcmVtb3ZlTW9kZWxzKHRvUmVtb3ZlLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2VlIGlmIHNvcnRpbmcgaXMgbmVlZGVkLCB1cGRhdGUgYGxlbmd0aGAgYW5kIHNwbGljZSBpbiBuZXcgbW9kZWxzLlxuICAgICAgdmFyIG9yZGVyQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgdmFyIHJlcGxhY2UgPSAhc29ydGFibGUgJiYgYWRkICYmIHJlbW92ZTtcbiAgICAgIGlmIChzZXQubGVuZ3RoICYmIHJlcGxhY2UpIHtcbiAgICAgICAgb3JkZXJDaGFuZ2VkID0gdGhpcy5sZW5ndGggIT09IHNldC5sZW5ndGggfHwgXy5zb21lKHRoaXMubW9kZWxzLCBmdW5jdGlvbihtLCBpbmRleCkge1xuICAgICAgICAgIHJldHVybiBtICE9PSBzZXRbaW5kZXhdO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tb2RlbHMubGVuZ3RoID0gMDtcbiAgICAgICAgc3BsaWNlKHRoaXMubW9kZWxzLCBzZXQsIDApO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMubW9kZWxzLmxlbmd0aDtcbiAgICAgIH0gZWxzZSBpZiAodG9BZGQubGVuZ3RoKSB7XG4gICAgICAgIGlmIChzb3J0YWJsZSkgc29ydCA9IHRydWU7XG4gICAgICAgIHNwbGljZSh0aGlzLm1vZGVscywgdG9BZGQsIGF0ID09IG51bGwgPyB0aGlzLmxlbmd0aCA6IGF0KTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSB0aGlzLm1vZGVscy5sZW5ndGg7XG4gICAgICB9XG5cbiAgICAgIC8vIFNpbGVudGx5IHNvcnQgdGhlIGNvbGxlY3Rpb24gaWYgYXBwcm9wcmlhdGUuXG4gICAgICBpZiAoc29ydCkgdGhpcy5zb3J0KHtzaWxlbnQ6IHRydWV9KTtcblxuICAgICAgLy8gVW5sZXNzIHNpbGVuY2VkLCBpdCdzIHRpbWUgdG8gZmlyZSBhbGwgYXBwcm9wcmlhdGUgYWRkL3NvcnQvdXBkYXRlIGV2ZW50cy5cbiAgICAgIGlmICghb3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRvQWRkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGF0ICE9IG51bGwpIG9wdGlvbnMuaW5kZXggPSBhdCArIGk7XG4gICAgICAgICAgbW9kZWwgPSB0b0FkZFtpXTtcbiAgICAgICAgICBtb2RlbC50cmlnZ2VyKCdhZGQnLCBtb2RlbCwgdGhpcywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNvcnQgfHwgb3JkZXJDaGFuZ2VkKSB0aGlzLnRyaWdnZXIoJ3NvcnQnLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKHRvQWRkLmxlbmd0aCB8fCB0b1JlbW92ZS5sZW5ndGggfHwgdG9NZXJnZS5sZW5ndGgpIHtcbiAgICAgICAgICBvcHRpb25zLmNoYW5nZXMgPSB7XG4gICAgICAgICAgICBhZGRlZDogdG9BZGQsXG4gICAgICAgICAgICByZW1vdmVkOiB0b1JlbW92ZSxcbiAgICAgICAgICAgIG1lcmdlZDogdG9NZXJnZVxuICAgICAgICAgIH07XG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCd1cGRhdGUnLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBSZXR1cm4gdGhlIGFkZGVkIChvciBtZXJnZWQpIG1vZGVsIChvciBtb2RlbHMpLlxuICAgICAgcmV0dXJuIHNpbmd1bGFyID8gbW9kZWxzWzBdIDogbW9kZWxzO1xuICAgIH0sXG5cbiAgICAvLyBXaGVuIHlvdSBoYXZlIG1vcmUgaXRlbXMgdGhhbiB5b3Ugd2FudCB0byBhZGQgb3IgcmVtb3ZlIGluZGl2aWR1YWxseSxcbiAgICAvLyB5b3UgY2FuIHJlc2V0IHRoZSBlbnRpcmUgc2V0IHdpdGggYSBuZXcgbGlzdCBvZiBtb2RlbHMsIHdpdGhvdXQgZmlyaW5nXG4gICAgLy8gYW55IGdyYW51bGFyIGBhZGRgIG9yIGByZW1vdmVgIGV2ZW50cy4gRmlyZXMgYHJlc2V0YCB3aGVuIGZpbmlzaGVkLlxuICAgIC8vIFVzZWZ1bCBmb3IgYnVsayBvcGVyYXRpb25zIGFuZCBvcHRpbWl6YXRpb25zLlxuICAgIHJlc2V0OiBmdW5jdGlvbihtb2RlbHMsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zID8gXy5jbG9uZShvcHRpb25zKSA6IHt9O1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1vZGVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLl9yZW1vdmVSZWZlcmVuY2UodGhpcy5tb2RlbHNbaV0sIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgb3B0aW9ucy5wcmV2aW91c01vZGVscyA9IHRoaXMubW9kZWxzO1xuICAgICAgdGhpcy5fcmVzZXQoKTtcbiAgICAgIG1vZGVscyA9IHRoaXMuYWRkKG1vZGVscywgXy5leHRlbmQoe3NpbGVudDogdHJ1ZX0sIG9wdGlvbnMpKTtcbiAgICAgIGlmICghb3B0aW9ucy5zaWxlbnQpIHRoaXMudHJpZ2dlcigncmVzZXQnLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiBtb2RlbHM7XG4gICAgfSxcblxuICAgIC8vIEFkZCBhIG1vZGVsIHRvIHRoZSBlbmQgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAgcHVzaDogZnVuY3Rpb24obW9kZWwsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLmFkZChtb2RlbCwgXy5leHRlbmQoe2F0OiB0aGlzLmxlbmd0aH0sIG9wdGlvbnMpKTtcbiAgICB9LFxuXG4gICAgLy8gUmVtb3ZlIGEgbW9kZWwgZnJvbSB0aGUgZW5kIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgIHBvcDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIG1vZGVsID0gdGhpcy5hdCh0aGlzLmxlbmd0aCAtIDEpO1xuICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlKG1vZGVsLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLy8gQWRkIGEgbW9kZWwgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGUgY29sbGVjdGlvbi5cbiAgICB1bnNoaWZ0OiBmdW5jdGlvbihtb2RlbCwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuYWRkKG1vZGVsLCBfLmV4dGVuZCh7YXQ6IDB9LCBvcHRpb25zKSk7XG4gICAgfSxcblxuICAgIC8vIFJlbW92ZSBhIG1vZGVsIGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgY29sbGVjdGlvbi5cbiAgICBzaGlmdDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIG1vZGVsID0gdGhpcy5hdCgwKTtcbiAgICAgIHJldHVybiB0aGlzLnJlbW92ZShtb2RlbCwgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8vIFNsaWNlIG91dCBhIHN1Yi1hcnJheSBvZiBtb2RlbHMgZnJvbSB0aGUgY29sbGVjdGlvbi5cbiAgICBzbGljZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gc2xpY2UuYXBwbHkodGhpcy5tb2RlbHMsIGFyZ3VtZW50cyk7XG4gICAgfSxcblxuICAgIC8vIEdldCBhIG1vZGVsIGZyb20gdGhlIHNldCBieSBpZCwgY2lkLCBtb2RlbCBvYmplY3Qgd2l0aCBpZCBvciBjaWRcbiAgICAvLyBwcm9wZXJ0aWVzLCBvciBhbiBhdHRyaWJ1dGVzIG9iamVjdCB0aGF0IGlzIHRyYW5zZm9ybWVkIHRocm91Z2ggbW9kZWxJZC5cbiAgICBnZXQ6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgICAgcmV0dXJuIHRoaXMuX2J5SWRbb2JqXSB8fFxuICAgICAgICB0aGlzLl9ieUlkW3RoaXMubW9kZWxJZCh0aGlzLl9pc01vZGVsKG9iaikgPyBvYmouYXR0cmlidXRlcyA6IG9iaildIHx8XG4gICAgICAgIG9iai5jaWQgJiYgdGhpcy5fYnlJZFtvYmouY2lkXTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG1vZGVsIGlzIGluIHRoZSBjb2xsZWN0aW9uLlxuICAgIGhhczogZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQob2JqKSAhPSBudWxsO1xuICAgIH0sXG5cbiAgICAvLyBHZXQgdGhlIG1vZGVsIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICBhdDogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgIGlmIChpbmRleCA8IDApIGluZGV4ICs9IHRoaXMubGVuZ3RoO1xuICAgICAgcmV0dXJuIHRoaXMubW9kZWxzW2luZGV4XTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJuIG1vZGVscyB3aXRoIG1hdGNoaW5nIGF0dHJpYnV0ZXMuIFVzZWZ1bCBmb3Igc2ltcGxlIGNhc2VzIG9mXG4gICAgLy8gYGZpbHRlcmAuXG4gICAgd2hlcmU6IGZ1bmN0aW9uKGF0dHJzLCBmaXJzdCkge1xuICAgICAgcmV0dXJuIHRoaXNbZmlyc3QgPyAnZmluZCcgOiAnZmlsdGVyJ10oYXR0cnMpO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm4gdGhlIGZpcnN0IG1vZGVsIHdpdGggbWF0Y2hpbmcgYXR0cmlidXRlcy4gVXNlZnVsIGZvciBzaW1wbGUgY2FzZXNcbiAgICAvLyBvZiBgZmluZGAuXG4gICAgZmluZFdoZXJlOiBmdW5jdGlvbihhdHRycykge1xuICAgICAgcmV0dXJuIHRoaXMud2hlcmUoYXR0cnMsIHRydWUpO1xuICAgIH0sXG5cbiAgICAvLyBGb3JjZSB0aGUgY29sbGVjdGlvbiB0byByZS1zb3J0IGl0c2VsZi4gWW91IGRvbid0IG5lZWQgdG8gY2FsbCB0aGlzIHVuZGVyXG4gICAgLy8gbm9ybWFsIGNpcmN1bXN0YW5jZXMsIGFzIHRoZSBzZXQgd2lsbCBtYWludGFpbiBzb3J0IG9yZGVyIGFzIGVhY2ggaXRlbVxuICAgIC8vIGlzIGFkZGVkLlxuICAgIHNvcnQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gdGhpcy5jb21wYXJhdG9yO1xuICAgICAgaWYgKCFjb21wYXJhdG9yKSB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBzb3J0IGEgc2V0IHdpdGhvdXQgYSBjb21wYXJhdG9yJyk7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xuXG4gICAgICB2YXIgbGVuZ3RoID0gY29tcGFyYXRvci5sZW5ndGg7XG4gICAgICBpZiAoXy5pc0Z1bmN0aW9uKGNvbXBhcmF0b3IpKSBjb21wYXJhdG9yID0gY29tcGFyYXRvci5iaW5kKHRoaXMpO1xuXG4gICAgICAvLyBSdW4gc29ydCBiYXNlZCBvbiB0eXBlIG9mIGBjb21wYXJhdG9yYC5cbiAgICAgIGlmIChsZW5ndGggPT09IDEgfHwgXy5pc1N0cmluZyhjb21wYXJhdG9yKSkge1xuICAgICAgICB0aGlzLm1vZGVscyA9IHRoaXMuc29ydEJ5KGNvbXBhcmF0b3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5tb2RlbHMuc29ydChjb21wYXJhdG9yKTtcbiAgICAgIH1cbiAgICAgIGlmICghb3B0aW9ucy5zaWxlbnQpIHRoaXMudHJpZ2dlcignc29ydCcsIHRoaXMsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8vIFBsdWNrIGFuIGF0dHJpYnV0ZSBmcm9tIGVhY2ggbW9kZWwgaW4gdGhlIGNvbGxlY3Rpb24uXG4gICAgcGx1Y2s6IGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcChhdHRyICsgJycpO1xuICAgIH0sXG5cbiAgICAvLyBGZXRjaCB0aGUgZGVmYXVsdCBzZXQgb2YgbW9kZWxzIGZvciB0aGlzIGNvbGxlY3Rpb24sIHJlc2V0dGluZyB0aGVcbiAgICAvLyBjb2xsZWN0aW9uIHdoZW4gdGhleSBhcnJpdmUuIElmIGByZXNldDogdHJ1ZWAgaXMgcGFzc2VkLCB0aGUgcmVzcG9uc2VcbiAgICAvLyBkYXRhIHdpbGwgYmUgcGFzc2VkIHRocm91Z2ggdGhlIGByZXNldGAgbWV0aG9kIGluc3RlYWQgb2YgYHNldGAuXG4gICAgZmV0Y2g6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBfLmV4dGVuZCh7cGFyc2U6IHRydWV9LCBvcHRpb25zKTtcbiAgICAgIHZhciBzdWNjZXNzID0gb3B0aW9ucy5zdWNjZXNzO1xuICAgICAgdmFyIGNvbGxlY3Rpb24gPSB0aGlzO1xuICAgICAgb3B0aW9ucy5zdWNjZXNzID0gZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICB2YXIgbWV0aG9kID0gb3B0aW9ucy5yZXNldCA/ICdyZXNldCcgOiAnc2V0JztcbiAgICAgICAgY29sbGVjdGlvblttZXRob2RdKHJlc3AsIG9wdGlvbnMpO1xuICAgICAgICBpZiAoc3VjY2Vzcykgc3VjY2Vzcy5jYWxsKG9wdGlvbnMuY29udGV4dCwgY29sbGVjdGlvbiwgcmVzcCwgb3B0aW9ucyk7XG4gICAgICAgIGNvbGxlY3Rpb24udHJpZ2dlcignc3luYycsIGNvbGxlY3Rpb24sIHJlc3AsIG9wdGlvbnMpO1xuICAgICAgfTtcbiAgICAgIHdyYXBFcnJvcih0aGlzLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiB0aGlzLnN5bmMoJ3JlYWQnLCB0aGlzLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLy8gQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIGEgbW9kZWwgaW4gdGhpcyBjb2xsZWN0aW9uLiBBZGQgdGhlIG1vZGVsIHRvIHRoZVxuICAgIC8vIGNvbGxlY3Rpb24gaW1tZWRpYXRlbHksIHVubGVzcyBgd2FpdDogdHJ1ZWAgaXMgcGFzc2VkLCBpbiB3aGljaCBjYXNlIHdlXG4gICAgLy8gd2FpdCBmb3IgdGhlIHNlcnZlciB0byBhZ3JlZS5cbiAgICBjcmVhdGU6IGZ1bmN0aW9uKG1vZGVsLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyA/IF8uY2xvbmUob3B0aW9ucykgOiB7fTtcbiAgICAgIHZhciB3YWl0ID0gb3B0aW9ucy53YWl0O1xuICAgICAgbW9kZWwgPSB0aGlzLl9wcmVwYXJlTW9kZWwobW9kZWwsIG9wdGlvbnMpO1xuICAgICAgaWYgKCFtb2RlbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKCF3YWl0KSB0aGlzLmFkZChtb2RlbCwgb3B0aW9ucyk7XG4gICAgICB2YXIgY29sbGVjdGlvbiA9IHRoaXM7XG4gICAgICB2YXIgc3VjY2VzcyA9IG9wdGlvbnMuc3VjY2VzcztcbiAgICAgIG9wdGlvbnMuc3VjY2VzcyA9IGZ1bmN0aW9uKG0sIHJlc3AsIGNhbGxiYWNrT3B0cykge1xuICAgICAgICBpZiAod2FpdCkgY29sbGVjdGlvbi5hZGQobSwgY2FsbGJhY2tPcHRzKTtcbiAgICAgICAgaWYgKHN1Y2Nlc3MpIHN1Y2Nlc3MuY2FsbChjYWxsYmFja09wdHMuY29udGV4dCwgbSwgcmVzcCwgY2FsbGJhY2tPcHRzKTtcbiAgICAgIH07XG4gICAgICBtb2RlbC5zYXZlKG51bGwsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIG1vZGVsO1xuICAgIH0sXG5cbiAgICAvLyAqKnBhcnNlKiogY29udmVydHMgYSByZXNwb25zZSBpbnRvIGEgbGlzdCBvZiBtb2RlbHMgdG8gYmUgYWRkZWQgdG8gdGhlXG4gICAgLy8gY29sbGVjdGlvbi4gVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gaXMganVzdCB0byBwYXNzIGl0IHRocm91Z2guXG4gICAgcGFyc2U6IGZ1bmN0aW9uKHJlc3AsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiByZXNwO1xuICAgIH0sXG5cbiAgICAvLyBDcmVhdGUgYSBuZXcgY29sbGVjdGlvbiB3aXRoIGFuIGlkZW50aWNhbCBsaXN0IG9mIG1vZGVscyBhcyB0aGlzIG9uZS5cbiAgICBjbG9uZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5tb2RlbHMsIHtcbiAgICAgICAgbW9kZWw6IHRoaXMubW9kZWwsXG4gICAgICAgIGNvbXBhcmF0b3I6IHRoaXMuY29tcGFyYXRvclxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIERlZmluZSBob3cgdG8gdW5pcXVlbHkgaWRlbnRpZnkgbW9kZWxzIGluIHRoZSBjb2xsZWN0aW9uLlxuICAgIG1vZGVsSWQ6IGZ1bmN0aW9uKGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnNbdGhpcy5tb2RlbC5wcm90b3R5cGUuaWRBdHRyaWJ1dGUgfHwgJ2lkJ107XG4gICAgfSxcblxuICAgIC8vIEdldCBhbiBpdGVyYXRvciBvZiBhbGwgbW9kZWxzIGluIHRoaXMgY29sbGVjdGlvbi5cbiAgICB2YWx1ZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBDb2xsZWN0aW9uSXRlcmF0b3IodGhpcywgSVRFUkFUT1JfVkFMVUVTKTtcbiAgICB9LFxuXG4gICAgLy8gR2V0IGFuIGl0ZXJhdG9yIG9mIGFsbCBtb2RlbCBJRHMgaW4gdGhpcyBjb2xsZWN0aW9uLlxuICAgIGtleXM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBDb2xsZWN0aW9uSXRlcmF0b3IodGhpcywgSVRFUkFUT1JfS0VZUyk7XG4gICAgfSxcblxuICAgIC8vIEdldCBhbiBpdGVyYXRvciBvZiBhbGwgW0lELCBtb2RlbF0gdHVwbGVzIGluIHRoaXMgY29sbGVjdGlvbi5cbiAgICBlbnRyaWVzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgQ29sbGVjdGlvbkl0ZXJhdG9yKHRoaXMsIElURVJBVE9SX0tFWVNWQUxVRVMpO1xuICAgIH0sXG5cbiAgICAvLyBQcml2YXRlIG1ldGhvZCB0byByZXNldCBhbGwgaW50ZXJuYWwgc3RhdGUuIENhbGxlZCB3aGVuIHRoZSBjb2xsZWN0aW9uXG4gICAgLy8gaXMgZmlyc3QgaW5pdGlhbGl6ZWQgb3IgcmVzZXQuXG4gICAgX3Jlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICAgIHRoaXMubW9kZWxzID0gW107XG4gICAgICB0aGlzLl9ieUlkICA9IHt9O1xuICAgIH0sXG5cbiAgICAvLyBQcmVwYXJlIGEgaGFzaCBvZiBhdHRyaWJ1dGVzIChvciBvdGhlciBtb2RlbCkgdG8gYmUgYWRkZWQgdG8gdGhpc1xuICAgIC8vIGNvbGxlY3Rpb24uXG4gICAgX3ByZXBhcmVNb2RlbDogZnVuY3Rpb24oYXR0cnMsIG9wdGlvbnMpIHtcbiAgICAgIGlmICh0aGlzLl9pc01vZGVsKGF0dHJzKSkge1xuICAgICAgICBpZiAoIWF0dHJzLmNvbGxlY3Rpb24pIGF0dHJzLmNvbGxlY3Rpb24gPSB0aGlzO1xuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgICB9XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyA/IF8uY2xvbmUob3B0aW9ucykgOiB7fTtcbiAgICAgIG9wdGlvbnMuY29sbGVjdGlvbiA9IHRoaXM7XG4gICAgICB2YXIgbW9kZWwgPSBuZXcgdGhpcy5tb2RlbChhdHRycywgb3B0aW9ucyk7XG4gICAgICBpZiAoIW1vZGVsLnZhbGlkYXRpb25FcnJvcikgcmV0dXJuIG1vZGVsO1xuICAgICAgdGhpcy50cmlnZ2VyKCdpbnZhbGlkJywgdGhpcywgbW9kZWwudmFsaWRhdGlvbkVycm9yLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLy8gSW50ZXJuYWwgbWV0aG9kIGNhbGxlZCBieSBib3RoIHJlbW92ZSBhbmQgc2V0LlxuICAgIF9yZW1vdmVNb2RlbHM6IGZ1bmN0aW9uKG1vZGVscywgb3B0aW9ucykge1xuICAgICAgdmFyIHJlbW92ZWQgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbW9kZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBtb2RlbCA9IHRoaXMuZ2V0KG1vZGVsc1tpXSk7XG4gICAgICAgIGlmICghbW9kZWwpIGNvbnRpbnVlO1xuXG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXhPZihtb2RlbCk7XG4gICAgICAgIHRoaXMubW9kZWxzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHRoaXMubGVuZ3RoLS07XG5cbiAgICAgICAgLy8gUmVtb3ZlIHJlZmVyZW5jZXMgYmVmb3JlIHRyaWdnZXJpbmcgJ3JlbW92ZScgZXZlbnQgdG8gcHJldmVudCBhblxuICAgICAgICAvLyBpbmZpbml0ZSBsb29wLiAjMzY5M1xuICAgICAgICBkZWxldGUgdGhpcy5fYnlJZFttb2RlbC5jaWRdO1xuICAgICAgICB2YXIgaWQgPSB0aGlzLm1vZGVsSWQobW9kZWwuYXR0cmlidXRlcyk7XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSBkZWxldGUgdGhpcy5fYnlJZFtpZF07XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLnNpbGVudCkge1xuICAgICAgICAgIG9wdGlvbnMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgICBtb2RlbC50cmlnZ2VyKCdyZW1vdmUnLCBtb2RlbCwgdGhpcywgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICByZW1vdmVkLnB1c2gobW9kZWwpO1xuICAgICAgICB0aGlzLl9yZW1vdmVSZWZlcmVuY2UobW9kZWwsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlbW92ZWQ7XG4gICAgfSxcblxuICAgIC8vIE1ldGhvZCBmb3IgY2hlY2tpbmcgd2hldGhlciBhbiBvYmplY3Qgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYSBtb2RlbCBmb3JcbiAgICAvLyB0aGUgcHVycG9zZXMgb2YgYWRkaW5nIHRvIHRoZSBjb2xsZWN0aW9uLlxuICAgIF9pc01vZGVsOiBmdW5jdGlvbihtb2RlbCkge1xuICAgICAgcmV0dXJuIG1vZGVsIGluc3RhbmNlb2YgTW9kZWw7XG4gICAgfSxcblxuICAgIC8vIEludGVybmFsIG1ldGhvZCB0byBjcmVhdGUgYSBtb2RlbCdzIHRpZXMgdG8gYSBjb2xsZWN0aW9uLlxuICAgIF9hZGRSZWZlcmVuY2U6IGZ1bmN0aW9uKG1vZGVsLCBvcHRpb25zKSB7XG4gICAgICB0aGlzLl9ieUlkW21vZGVsLmNpZF0gPSBtb2RlbDtcbiAgICAgIHZhciBpZCA9IHRoaXMubW9kZWxJZChtb2RlbC5hdHRyaWJ1dGVzKTtcbiAgICAgIGlmIChpZCAhPSBudWxsKSB0aGlzLl9ieUlkW2lkXSA9IG1vZGVsO1xuICAgICAgbW9kZWwub24oJ2FsbCcsIHRoaXMuX29uTW9kZWxFdmVudCwgdGhpcyk7XG4gICAgfSxcblxuICAgIC8vIEludGVybmFsIG1ldGhvZCB0byBzZXZlciBhIG1vZGVsJ3MgdGllcyB0byBhIGNvbGxlY3Rpb24uXG4gICAgX3JlbW92ZVJlZmVyZW5jZTogZnVuY3Rpb24obW9kZWwsIG9wdGlvbnMpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLl9ieUlkW21vZGVsLmNpZF07XG4gICAgICB2YXIgaWQgPSB0aGlzLm1vZGVsSWQobW9kZWwuYXR0cmlidXRlcyk7XG4gICAgICBpZiAoaWQgIT0gbnVsbCkgZGVsZXRlIHRoaXMuX2J5SWRbaWRdO1xuICAgICAgaWYgKHRoaXMgPT09IG1vZGVsLmNvbGxlY3Rpb24pIGRlbGV0ZSBtb2RlbC5jb2xsZWN0aW9uO1xuICAgICAgbW9kZWwub2ZmKCdhbGwnLCB0aGlzLl9vbk1vZGVsRXZlbnQsIHRoaXMpO1xuICAgIH0sXG5cbiAgICAvLyBJbnRlcm5hbCBtZXRob2QgY2FsbGVkIGV2ZXJ5IHRpbWUgYSBtb2RlbCBpbiB0aGUgc2V0IGZpcmVzIGFuIGV2ZW50LlxuICAgIC8vIFNldHMgbmVlZCB0byB1cGRhdGUgdGhlaXIgaW5kZXhlcyB3aGVuIG1vZGVscyBjaGFuZ2UgaWRzLiBBbGwgb3RoZXJcbiAgICAvLyBldmVudHMgc2ltcGx5IHByb3h5IHRocm91Z2guIFwiYWRkXCIgYW5kIFwicmVtb3ZlXCIgZXZlbnRzIHRoYXQgb3JpZ2luYXRlXG4gICAgLy8gaW4gb3RoZXIgY29sbGVjdGlvbnMgYXJlIGlnbm9yZWQuXG4gICAgX29uTW9kZWxFdmVudDogZnVuY3Rpb24oZXZlbnQsIG1vZGVsLCBjb2xsZWN0aW9uLCBvcHRpb25zKSB7XG4gICAgICBpZiAobW9kZWwpIHtcbiAgICAgICAgaWYgKChldmVudCA9PT0gJ2FkZCcgfHwgZXZlbnQgPT09ICdyZW1vdmUnKSAmJiBjb2xsZWN0aW9uICE9PSB0aGlzKSByZXR1cm47XG4gICAgICAgIGlmIChldmVudCA9PT0gJ2Rlc3Ryb3knKSB0aGlzLnJlbW92ZShtb2RlbCwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChldmVudCA9PT0gJ2NoYW5nZScpIHtcbiAgICAgICAgICB2YXIgcHJldklkID0gdGhpcy5tb2RlbElkKG1vZGVsLnByZXZpb3VzQXR0cmlidXRlcygpKTtcbiAgICAgICAgICB2YXIgaWQgPSB0aGlzLm1vZGVsSWQobW9kZWwuYXR0cmlidXRlcyk7XG4gICAgICAgICAgaWYgKHByZXZJZCAhPT0gaWQpIHtcbiAgICAgICAgICAgIGlmIChwcmV2SWQgIT0gbnVsbCkgZGVsZXRlIHRoaXMuX2J5SWRbcHJldklkXTtcbiAgICAgICAgICAgIGlmIChpZCAhPSBudWxsKSB0aGlzLl9ieUlkW2lkXSA9IG1vZGVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy50cmlnZ2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gIH0pO1xuXG4gIC8vIERlZmluaW5nIGFuIEBAaXRlcmF0b3IgbWV0aG9kIGltcGxlbWVudHMgSmF2YVNjcmlwdCdzIEl0ZXJhYmxlIHByb3RvY29sLlxuICAvLyBJbiBtb2Rlcm4gRVMyMDE1IGJyb3dzZXJzLCB0aGlzIHZhbHVlIGlzIGZvdW5kIGF0IFN5bWJvbC5pdGVyYXRvci5cbiAgLyogZ2xvYmFsIFN5bWJvbCAqL1xuICB2YXIgJCRpdGVyYXRvciA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yO1xuICBpZiAoJCRpdGVyYXRvcikge1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlWyQkaXRlcmF0b3JdID0gQ29sbGVjdGlvbi5wcm90b3R5cGUudmFsdWVzO1xuICB9XG5cbiAgLy8gQ29sbGVjdGlvbkl0ZXJhdG9yXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIEEgQ29sbGVjdGlvbkl0ZXJhdG9yIGltcGxlbWVudHMgSmF2YVNjcmlwdCdzIEl0ZXJhdG9yIHByb3RvY29sLCBhbGxvd2luZyB0aGVcbiAgLy8gdXNlIG9mIGBmb3Igb2ZgIGxvb3BzIGluIG1vZGVybiBicm93c2VycyBhbmQgaW50ZXJvcGVyYXRpb24gYmV0d2VlblxuICAvLyBCYWNrYm9uZS5Db2xsZWN0aW9uIGFuZCBvdGhlciBKYXZhU2NyaXB0IGZ1bmN0aW9ucyBhbmQgdGhpcmQtcGFydHkgbGlicmFyaWVzXG4gIC8vIHdoaWNoIGNhbiBvcGVyYXRlIG9uIEl0ZXJhYmxlcy5cbiAgdmFyIENvbGxlY3Rpb25JdGVyYXRvciA9IGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGtpbmQpIHtcbiAgICB0aGlzLl9jb2xsZWN0aW9uID0gY29sbGVjdGlvbjtcbiAgICB0aGlzLl9raW5kID0ga2luZDtcbiAgICB0aGlzLl9pbmRleCA9IDA7XG4gIH07XG5cbiAgLy8gVGhpcyBcImVudW1cIiBkZWZpbmVzIHRoZSB0aHJlZSBwb3NzaWJsZSBraW5kcyBvZiB2YWx1ZXMgd2hpY2ggY2FuIGJlIGVtaXR0ZWRcbiAgLy8gYnkgYSBDb2xsZWN0aW9uSXRlcmF0b3IgdGhhdCBjb3JyZXNwb25kIHRvIHRoZSB2YWx1ZXMoKSwga2V5cygpIGFuZCBlbnRyaWVzKClcbiAgLy8gbWV0aG9kcyBvbiBDb2xsZWN0aW9uLCByZXNwZWN0aXZlbHkuXG4gIHZhciBJVEVSQVRPUl9WQUxVRVMgPSAxO1xuICB2YXIgSVRFUkFUT1JfS0VZUyA9IDI7XG4gIHZhciBJVEVSQVRPUl9LRVlTVkFMVUVTID0gMztcblxuICAvLyBBbGwgSXRlcmF0b3JzIHNob3VsZCB0aGVtc2VsdmVzIGJlIEl0ZXJhYmxlLlxuICBpZiAoJCRpdGVyYXRvcikge1xuICAgIENvbGxlY3Rpb25JdGVyYXRvci5wcm90b3R5cGVbJCRpdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gIH1cblxuICBDb2xsZWN0aW9uSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5fY29sbGVjdGlvbikge1xuXG4gICAgICAvLyBPbmx5IGNvbnRpbnVlIGl0ZXJhdGluZyBpZiB0aGUgaXRlcmF0ZWQgY29sbGVjdGlvbiBpcyBsb25nIGVub3VnaC5cbiAgICAgIGlmICh0aGlzLl9pbmRleCA8IHRoaXMuX2NvbGxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgICAgIHZhciBtb2RlbCA9IHRoaXMuX2NvbGxlY3Rpb24uYXQodGhpcy5faW5kZXgpO1xuICAgICAgICB0aGlzLl9pbmRleCsrO1xuXG4gICAgICAgIC8vIENvbnN0cnVjdCBhIHZhbHVlIGRlcGVuZGluZyBvbiB3aGF0IGtpbmQgb2YgdmFsdWVzIHNob3VsZCBiZSBpdGVyYXRlZC5cbiAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5fa2luZCA9PT0gSVRFUkFUT1JfVkFMVUVTKSB7XG4gICAgICAgICAgdmFsdWUgPSBtb2RlbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaWQgPSB0aGlzLl9jb2xsZWN0aW9uLm1vZGVsSWQobW9kZWwuYXR0cmlidXRlcyk7XG4gICAgICAgICAgaWYgKHRoaXMuX2tpbmQgPT09IElURVJBVE9SX0tFWVMpIHtcbiAgICAgICAgICAgIHZhbHVlID0gaWQ7XG4gICAgICAgICAgfSBlbHNlIHsgLy8gSVRFUkFUT1JfS0VZU1ZBTFVFU1xuICAgICAgICAgICAgdmFsdWUgPSBbaWQsIG1vZGVsXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt2YWx1ZTogdmFsdWUsIGRvbmU6IGZhbHNlfTtcbiAgICAgIH1cblxuICAgICAgLy8gT25jZSBleGhhdXN0ZWQsIHJlbW92ZSB0aGUgcmVmZXJlbmNlIHRvIHRoZSBjb2xsZWN0aW9uIHNvIGZ1dHVyZVxuICAgICAgLy8gY2FsbHMgdG8gdGhlIG5leHQgbWV0aG9kIGFsd2F5cyByZXR1cm4gZG9uZS5cbiAgICAgIHRoaXMuX2NvbGxlY3Rpb24gPSB2b2lkIDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHt2YWx1ZTogdm9pZCAwLCBkb25lOiB0cnVlfTtcbiAgfTtcblxuICAvLyBCYWNrYm9uZS5WaWV3XG4gIC8vIC0tLS0tLS0tLS0tLS1cblxuICAvLyBCYWNrYm9uZSBWaWV3cyBhcmUgYWxtb3N0IG1vcmUgY29udmVudGlvbiB0aGFuIHRoZXkgYXJlIGFjdHVhbCBjb2RlLiBBIFZpZXdcbiAgLy8gaXMgc2ltcGx5IGEgSmF2YVNjcmlwdCBvYmplY3QgdGhhdCByZXByZXNlbnRzIGEgbG9naWNhbCBjaHVuayBvZiBVSSBpbiB0aGVcbiAgLy8gRE9NLiBUaGlzIG1pZ2h0IGJlIGEgc2luZ2xlIGl0ZW0sIGFuIGVudGlyZSBsaXN0LCBhIHNpZGViYXIgb3IgcGFuZWwsIG9yXG4gIC8vIGV2ZW4gdGhlIHN1cnJvdW5kaW5nIGZyYW1lIHdoaWNoIHdyYXBzIHlvdXIgd2hvbGUgYXBwLiBEZWZpbmluZyBhIGNodW5rIG9mXG4gIC8vIFVJIGFzIGEgKipWaWV3KiogYWxsb3dzIHlvdSB0byBkZWZpbmUgeW91ciBET00gZXZlbnRzIGRlY2xhcmF0aXZlbHksIHdpdGhvdXRcbiAgLy8gaGF2aW5nIHRvIHdvcnJ5IGFib3V0IHJlbmRlciBvcmRlciAuLi4gYW5kIG1ha2VzIGl0IGVhc3kgZm9yIHRoZSB2aWV3IHRvXG4gIC8vIHJlYWN0IHRvIHNwZWNpZmljIGNoYW5nZXMgaW4gdGhlIHN0YXRlIG9mIHlvdXIgbW9kZWxzLlxuXG4gIC8vIENyZWF0aW5nIGEgQmFja2JvbmUuVmlldyBjcmVhdGVzIGl0cyBpbml0aWFsIGVsZW1lbnQgb3V0c2lkZSBvZiB0aGUgRE9NLFxuICAvLyBpZiBhbiBleGlzdGluZyBlbGVtZW50IGlzIG5vdCBwcm92aWRlZC4uLlxuICB2YXIgVmlldyA9IEJhY2tib25lLlZpZXcgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdGhpcy5jaWQgPSBfLnVuaXF1ZUlkKCd2aWV3Jyk7XG4gICAgdGhpcy5wcmVpbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgXy5leHRlbmQodGhpcywgXy5waWNrKG9wdGlvbnMsIHZpZXdPcHRpb25zKSk7XG4gICAgdGhpcy5fZW5zdXJlRWxlbWVudCgpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xuXG4gIC8vIENhY2hlZCByZWdleCB0byBzcGxpdCBrZXlzIGZvciBgZGVsZWdhdGVgLlxuICB2YXIgZGVsZWdhdGVFdmVudFNwbGl0dGVyID0gL14oXFxTKylcXHMqKC4qKSQvO1xuXG4gIC8vIExpc3Qgb2YgdmlldyBvcHRpb25zIHRvIGJlIHNldCBhcyBwcm9wZXJ0aWVzLlxuICB2YXIgdmlld09wdGlvbnMgPSBbJ21vZGVsJywgJ2NvbGxlY3Rpb24nLCAnZWwnLCAnaWQnLCAnYXR0cmlidXRlcycsICdjbGFzc05hbWUnLCAndGFnTmFtZScsICdldmVudHMnXTtcblxuICAvLyBTZXQgdXAgYWxsIGluaGVyaXRhYmxlICoqQmFja2JvbmUuVmlldyoqIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMuXG4gIF8uZXh0ZW5kKFZpZXcucHJvdG90eXBlLCBFdmVudHMsIHtcblxuICAgIC8vIFRoZSBkZWZhdWx0IGB0YWdOYW1lYCBvZiBhIFZpZXcncyBlbGVtZW50IGlzIGBcImRpdlwiYC5cbiAgICB0YWdOYW1lOiAnZGl2JyxcblxuICAgIC8vIGpRdWVyeSBkZWxlZ2F0ZSBmb3IgZWxlbWVudCBsb29rdXAsIHNjb3BlZCB0byBET00gZWxlbWVudHMgd2l0aGluIHRoZVxuICAgIC8vIGN1cnJlbnQgdmlldy4gVGhpcyBzaG91bGQgYmUgcHJlZmVycmVkIHRvIGdsb2JhbCBsb29rdXBzIHdoZXJlIHBvc3NpYmxlLlxuICAgICQ6IGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICByZXR1cm4gdGhpcy4kZWwuZmluZChzZWxlY3Rvcik7XG4gICAgfSxcblxuICAgIC8vIHByZWluaXRpYWxpemUgaXMgYW4gZW1wdHkgZnVuY3Rpb24gYnkgZGVmYXVsdC4gWW91IGNhbiBvdmVycmlkZSBpdCB3aXRoIGEgZnVuY3Rpb25cbiAgICAvLyBvciBvYmplY3QuICBwcmVpbml0aWFsaXplIHdpbGwgcnVuIGJlZm9yZSBhbnkgaW5zdGFudGlhdGlvbiBsb2dpYyBpcyBydW4gaW4gdGhlIFZpZXdcbiAgICBwcmVpbml0aWFsaXplOiBmdW5jdGlvbigpe30sXG5cbiAgICAvLyBJbml0aWFsaXplIGlzIGFuIGVtcHR5IGZ1bmN0aW9uIGJ5IGRlZmF1bHQuIE92ZXJyaWRlIGl0IHdpdGggeW91ciBvd25cbiAgICAvLyBpbml0aWFsaXphdGlvbiBsb2dpYy5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpe30sXG5cbiAgICAvLyAqKnJlbmRlcioqIGlzIHRoZSBjb3JlIGZ1bmN0aW9uIHRoYXQgeW91ciB2aWV3IHNob3VsZCBvdmVycmlkZSwgaW4gb3JkZXJcbiAgICAvLyB0byBwb3B1bGF0ZSBpdHMgZWxlbWVudCAoYHRoaXMuZWxgKSwgd2l0aCB0aGUgYXBwcm9wcmlhdGUgSFRNTC4gVGhlXG4gICAgLy8gY29udmVudGlvbiBpcyBmb3IgKipyZW5kZXIqKiB0byBhbHdheXMgcmV0dXJuIGB0aGlzYC5cbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8vIFJlbW92ZSB0aGlzIHZpZXcgYnkgdGFraW5nIHRoZSBlbGVtZW50IG91dCBvZiB0aGUgRE9NLCBhbmQgcmVtb3ZpbmcgYW55XG4gICAgLy8gYXBwbGljYWJsZSBCYWNrYm9uZS5FdmVudHMgbGlzdGVuZXJzLlxuICAgIHJlbW92ZTogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9yZW1vdmVFbGVtZW50KCk7XG4gICAgICB0aGlzLnN0b3BMaXN0ZW5pbmcoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBSZW1vdmUgdGhpcyB2aWV3J3MgZWxlbWVudCBmcm9tIHRoZSBkb2N1bWVudCBhbmQgYWxsIGV2ZW50IGxpc3RlbmVyc1xuICAgIC8vIGF0dGFjaGVkIHRvIGl0LiBFeHBvc2VkIGZvciBzdWJjbGFzc2VzIHVzaW5nIGFuIGFsdGVybmF0aXZlIERPTVxuICAgIC8vIG1hbmlwdWxhdGlvbiBBUEkuXG4gICAgX3JlbW92ZUVsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy4kZWwucmVtb3ZlKCk7XG4gICAgfSxcblxuICAgIC8vIENoYW5nZSB0aGUgdmlldydzIGVsZW1lbnQgKGB0aGlzLmVsYCBwcm9wZXJ0eSkgYW5kIHJlLWRlbGVnYXRlIHRoZVxuICAgIC8vIHZpZXcncyBldmVudHMgb24gdGhlIG5ldyBlbGVtZW50LlxuICAgIHNldEVsZW1lbnQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHRoaXMudW5kZWxlZ2F0ZUV2ZW50cygpO1xuICAgICAgdGhpcy5fc2V0RWxlbWVudChlbGVtZW50KTtcbiAgICAgIHRoaXMuZGVsZWdhdGVFdmVudHMoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBDcmVhdGVzIHRoZSBgdGhpcy5lbGAgYW5kIGB0aGlzLiRlbGAgcmVmZXJlbmNlcyBmb3IgdGhpcyB2aWV3IHVzaW5nIHRoZVxuICAgIC8vIGdpdmVuIGBlbGAuIGBlbGAgY2FuIGJlIGEgQ1NTIHNlbGVjdG9yIG9yIGFuIEhUTUwgc3RyaW5nLCBhIGpRdWVyeVxuICAgIC8vIGNvbnRleHQgb3IgYW4gZWxlbWVudC4gU3ViY2xhc3NlcyBjYW4gb3ZlcnJpZGUgdGhpcyB0byB1dGlsaXplIGFuXG4gICAgLy8gYWx0ZXJuYXRpdmUgRE9NIG1hbmlwdWxhdGlvbiBBUEkgYW5kIGFyZSBvbmx5IHJlcXVpcmVkIHRvIHNldCB0aGVcbiAgICAvLyBgdGhpcy5lbGAgcHJvcGVydHkuXG4gICAgX3NldEVsZW1lbnQ6IGZ1bmN0aW9uKGVsKSB7XG4gICAgICB0aGlzLiRlbCA9IGVsIGluc3RhbmNlb2YgQmFja2JvbmUuJCA/IGVsIDogQmFja2JvbmUuJChlbCk7XG4gICAgICB0aGlzLmVsID0gdGhpcy4kZWxbMF07XG4gICAgfSxcblxuICAgIC8vIFNldCBjYWxsYmFja3MsIHdoZXJlIGB0aGlzLmV2ZW50c2AgaXMgYSBoYXNoIG9mXG4gICAgLy9cbiAgICAvLyAqe1wiZXZlbnQgc2VsZWN0b3JcIjogXCJjYWxsYmFja1wifSpcbiAgICAvL1xuICAgIC8vICAgICB7XG4gICAgLy8gICAgICAgJ21vdXNlZG93biAudGl0bGUnOiAgJ2VkaXQnLFxuICAgIC8vICAgICAgICdjbGljayAuYnV0dG9uJzogICAgICdzYXZlJyxcbiAgICAvLyAgICAgICAnY2xpY2sgLm9wZW4nOiAgICAgICBmdW5jdGlvbihlKSB7IC4uLiB9XG4gICAgLy8gICAgIH1cbiAgICAvL1xuICAgIC8vIHBhaXJzLiBDYWxsYmFja3Mgd2lsbCBiZSBib3VuZCB0byB0aGUgdmlldywgd2l0aCBgdGhpc2Agc2V0IHByb3Blcmx5LlxuICAgIC8vIFVzZXMgZXZlbnQgZGVsZWdhdGlvbiBmb3IgZWZmaWNpZW5jeS5cbiAgICAvLyBPbWl0dGluZyB0aGUgc2VsZWN0b3IgYmluZHMgdGhlIGV2ZW50IHRvIGB0aGlzLmVsYC5cbiAgICBkZWxlZ2F0ZUV2ZW50czogZnVuY3Rpb24oZXZlbnRzKSB7XG4gICAgICBldmVudHMgfHwgKGV2ZW50cyA9IF8ucmVzdWx0KHRoaXMsICdldmVudHMnKSk7XG4gICAgICBpZiAoIWV2ZW50cykgcmV0dXJuIHRoaXM7XG4gICAgICB0aGlzLnVuZGVsZWdhdGVFdmVudHMoKTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBldmVudHMpIHtcbiAgICAgICAgdmFyIG1ldGhvZCA9IGV2ZW50c1trZXldO1xuICAgICAgICBpZiAoIV8uaXNGdW5jdGlvbihtZXRob2QpKSBtZXRob2QgPSB0aGlzW21ldGhvZF07XG4gICAgICAgIGlmICghbWV0aG9kKSBjb250aW51ZTtcbiAgICAgICAgdmFyIG1hdGNoID0ga2V5Lm1hdGNoKGRlbGVnYXRlRXZlbnRTcGxpdHRlcik7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUobWF0Y2hbMV0sIG1hdGNoWzJdLCBtZXRob2QuYmluZCh0aGlzKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLy8gQWRkIGEgc2luZ2xlIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSB2aWV3J3MgZWxlbWVudCAob3IgYSBjaGlsZCBlbGVtZW50XG4gICAgLy8gdXNpbmcgYHNlbGVjdG9yYCkuIFRoaXMgb25seSB3b3JrcyBmb3IgZGVsZWdhdGUtYWJsZSBldmVudHM6IG5vdCBgZm9jdXNgLFxuICAgIC8vIGBibHVyYCwgYW5kIG5vdCBgY2hhbmdlYCwgYHN1Ym1pdGAsIGFuZCBgcmVzZXRgIGluIEludGVybmV0IEV4cGxvcmVyLlxuICAgIGRlbGVnYXRlOiBmdW5jdGlvbihldmVudE5hbWUsIHNlbGVjdG9yLCBsaXN0ZW5lcikge1xuICAgICAgdGhpcy4kZWwub24oZXZlbnROYW1lICsgJy5kZWxlZ2F0ZUV2ZW50cycgKyB0aGlzLmNpZCwgc2VsZWN0b3IsIGxpc3RlbmVyKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBDbGVhcnMgYWxsIGNhbGxiYWNrcyBwcmV2aW91c2x5IGJvdW5kIHRvIHRoZSB2aWV3IGJ5IGBkZWxlZ2F0ZUV2ZW50c2AuXG4gICAgLy8gWW91IHVzdWFsbHkgZG9uJ3QgbmVlZCB0byB1c2UgdGhpcywgYnV0IG1heSB3aXNoIHRvIGlmIHlvdSBoYXZlIG11bHRpcGxlXG4gICAgLy8gQmFja2JvbmUgdmlld3MgYXR0YWNoZWQgdG8gdGhlIHNhbWUgRE9NIGVsZW1lbnQuXG4gICAgdW5kZWxlZ2F0ZUV2ZW50czogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy4kZWwpIHRoaXMuJGVsLm9mZignLmRlbGVnYXRlRXZlbnRzJyArIHRoaXMuY2lkKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBBIGZpbmVyLWdyYWluZWQgYHVuZGVsZWdhdGVFdmVudHNgIGZvciByZW1vdmluZyBhIHNpbmdsZSBkZWxlZ2F0ZWQgZXZlbnQuXG4gICAgLy8gYHNlbGVjdG9yYCBhbmQgYGxpc3RlbmVyYCBhcmUgYm90aCBvcHRpb25hbC5cbiAgICB1bmRlbGVnYXRlOiBmdW5jdGlvbihldmVudE5hbWUsIHNlbGVjdG9yLCBsaXN0ZW5lcikge1xuICAgICAgdGhpcy4kZWwub2ZmKGV2ZW50TmFtZSArICcuZGVsZWdhdGVFdmVudHMnICsgdGhpcy5jaWQsIHNlbGVjdG9yLCBsaXN0ZW5lcik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLy8gUHJvZHVjZXMgYSBET00gZWxlbWVudCB0byBiZSBhc3NpZ25lZCB0byB5b3VyIHZpZXcuIEV4cG9zZWQgZm9yXG4gICAgLy8gc3ViY2xhc3NlcyB1c2luZyBhbiBhbHRlcm5hdGl2ZSBET00gbWFuaXB1bGF0aW9uIEFQSS5cbiAgICBfY3JlYXRlRWxlbWVudDogZnVuY3Rpb24odGFnTmFtZSkge1xuICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG4gICAgfSxcblxuICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBWaWV3IGhhcyBhIERPTSBlbGVtZW50IHRvIHJlbmRlciBpbnRvLlxuICAgIC8vIElmIGB0aGlzLmVsYCBpcyBhIHN0cmluZywgcGFzcyBpdCB0aHJvdWdoIGAkKClgLCB0YWtlIHRoZSBmaXJzdFxuICAgIC8vIG1hdGNoaW5nIGVsZW1lbnQsIGFuZCByZS1hc3NpZ24gaXQgdG8gYGVsYC4gT3RoZXJ3aXNlLCBjcmVhdGVcbiAgICAvLyBhbiBlbGVtZW50IGZyb20gdGhlIGBpZGAsIGBjbGFzc05hbWVgIGFuZCBgdGFnTmFtZWAgcHJvcGVydGllcy5cbiAgICBfZW5zdXJlRWxlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMuZWwpIHtcbiAgICAgICAgdmFyIGF0dHJzID0gXy5leHRlbmQoe30sIF8ucmVzdWx0KHRoaXMsICdhdHRyaWJ1dGVzJykpO1xuICAgICAgICBpZiAodGhpcy5pZCkgYXR0cnMuaWQgPSBfLnJlc3VsdCh0aGlzLCAnaWQnKTtcbiAgICAgICAgaWYgKHRoaXMuY2xhc3NOYW1lKSBhdHRyc1snY2xhc3MnXSA9IF8ucmVzdWx0KHRoaXMsICdjbGFzc05hbWUnKTtcbiAgICAgICAgdGhpcy5zZXRFbGVtZW50KHRoaXMuX2NyZWF0ZUVsZW1lbnQoXy5yZXN1bHQodGhpcywgJ3RhZ05hbWUnKSkpO1xuICAgICAgICB0aGlzLl9zZXRBdHRyaWJ1dGVzKGF0dHJzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0RWxlbWVudChfLnJlc3VsdCh0aGlzLCAnZWwnKSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIFNldCBhdHRyaWJ1dGVzIGZyb20gYSBoYXNoIG9uIHRoaXMgdmlldydzIGVsZW1lbnQuICBFeHBvc2VkIGZvclxuICAgIC8vIHN1YmNsYXNzZXMgdXNpbmcgYW4gYWx0ZXJuYXRpdmUgRE9NIG1hbmlwdWxhdGlvbiBBUEkuXG4gICAgX3NldEF0dHJpYnV0ZXM6IGZ1bmN0aW9uKGF0dHJpYnV0ZXMpIHtcbiAgICAgIHRoaXMuJGVsLmF0dHIoYXR0cmlidXRlcyk7XG4gICAgfVxuXG4gIH0pO1xuXG4gIC8vIFByb3h5IEJhY2tib25lIGNsYXNzIG1ldGhvZHMgdG8gVW5kZXJzY29yZSBmdW5jdGlvbnMsIHdyYXBwaW5nIHRoZSBtb2RlbCdzXG4gIC8vIGBhdHRyaWJ1dGVzYCBvYmplY3Qgb3IgY29sbGVjdGlvbidzIGBtb2RlbHNgIGFycmF5IGJlaGluZCB0aGUgc2NlbmVzLlxuICAvL1xuICAvLyBjb2xsZWN0aW9uLmZpbHRlcihmdW5jdGlvbihtb2RlbCkgeyByZXR1cm4gbW9kZWwuZ2V0KCdhZ2UnKSA+IDEwIH0pO1xuICAvLyBjb2xsZWN0aW9uLmVhY2godGhpcy5hZGRWaWV3KTtcbiAgLy9cbiAgLy8gYEZ1bmN0aW9uI2FwcGx5YCBjYW4gYmUgc2xvdyBzbyB3ZSB1c2UgdGhlIG1ldGhvZCdzIGFyZyBjb3VudCwgaWYgd2Uga25vdyBpdC5cbiAgdmFyIGFkZE1ldGhvZCA9IGZ1bmN0aW9uKGJhc2UsIGxlbmd0aCwgbWV0aG9kLCBhdHRyaWJ1dGUpIHtcbiAgICBzd2l0Y2ggKGxlbmd0aCkge1xuICAgICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBiYXNlW21ldGhvZF0odGhpc1thdHRyaWJ1dGVdKTtcbiAgICAgIH07XG4gICAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYmFzZVttZXRob2RdKHRoaXNbYXR0cmlidXRlXSwgdmFsdWUpO1xuICAgICAgfTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBiYXNlW21ldGhvZF0odGhpc1thdHRyaWJ1dGVdLCBjYihpdGVyYXRlZSwgdGhpcyksIGNvbnRleHQpO1xuICAgICAgfTtcbiAgICAgIGNhc2UgNDogcmV0dXJuIGZ1bmN0aW9uKGl0ZXJhdGVlLCBkZWZhdWx0VmFsLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBiYXNlW21ldGhvZF0odGhpc1thdHRyaWJ1dGVdLCBjYihpdGVyYXRlZSwgdGhpcyksIGRlZmF1bHRWYWwsIGNvbnRleHQpO1xuICAgICAgfTtcbiAgICAgIGRlZmF1bHQ6IHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgIGFyZ3MudW5zaGlmdCh0aGlzW2F0dHJpYnV0ZV0pO1xuICAgICAgICByZXR1cm4gYmFzZVttZXRob2RdLmFwcGx5KGJhc2UsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGFkZFVuZGVyc2NvcmVNZXRob2RzID0gZnVuY3Rpb24oQ2xhc3MsIGJhc2UsIG1ldGhvZHMsIGF0dHJpYnV0ZSkge1xuICAgIF8uZWFjaChtZXRob2RzLCBmdW5jdGlvbihsZW5ndGgsIG1ldGhvZCkge1xuICAgICAgaWYgKGJhc2VbbWV0aG9kXSkgQ2xhc3MucHJvdG90eXBlW21ldGhvZF0gPSBhZGRNZXRob2QoYmFzZSwgbGVuZ3RoLCBtZXRob2QsIGF0dHJpYnV0ZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gU3VwcG9ydCBgY29sbGVjdGlvbi5zb3J0QnkoJ2F0dHInKWAgYW5kIGBjb2xsZWN0aW9uLmZpbmRXaGVyZSh7aWQ6IDF9KWAuXG4gIHZhciBjYiA9IGZ1bmN0aW9uKGl0ZXJhdGVlLCBpbnN0YW5jZSkge1xuICAgIGlmIChfLmlzRnVuY3Rpb24oaXRlcmF0ZWUpKSByZXR1cm4gaXRlcmF0ZWU7XG4gICAgaWYgKF8uaXNPYmplY3QoaXRlcmF0ZWUpICYmICFpbnN0YW5jZS5faXNNb2RlbChpdGVyYXRlZSkpIHJldHVybiBtb2RlbE1hdGNoZXIoaXRlcmF0ZWUpO1xuICAgIGlmIChfLmlzU3RyaW5nKGl0ZXJhdGVlKSkgcmV0dXJuIGZ1bmN0aW9uKG1vZGVsKSB7IHJldHVybiBtb2RlbC5nZXQoaXRlcmF0ZWUpOyB9O1xuICAgIHJldHVybiBpdGVyYXRlZTtcbiAgfTtcbiAgdmFyIG1vZGVsTWF0Y2hlciA9IGZ1bmN0aW9uKGF0dHJzKSB7XG4gICAgdmFyIG1hdGNoZXIgPSBfLm1hdGNoZXMoYXR0cnMpO1xuICAgIHJldHVybiBmdW5jdGlvbihtb2RlbCkge1xuICAgICAgcmV0dXJuIG1hdGNoZXIobW9kZWwuYXR0cmlidXRlcyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBVbmRlcnNjb3JlIG1ldGhvZHMgdGhhdCB3ZSB3YW50IHRvIGltcGxlbWVudCBvbiB0aGUgQ29sbGVjdGlvbi5cbiAgLy8gOTAlIG9mIHRoZSBjb3JlIHVzZWZ1bG5lc3Mgb2YgQmFja2JvbmUgQ29sbGVjdGlvbnMgaXMgYWN0dWFsbHkgaW1wbGVtZW50ZWRcbiAgLy8gcmlnaHQgaGVyZTpcbiAgdmFyIGNvbGxlY3Rpb25NZXRob2RzID0ge2ZvckVhY2g6IDMsIGVhY2g6IDMsIG1hcDogMywgY29sbGVjdDogMywgcmVkdWNlOiAwLFxuICAgIGZvbGRsOiAwLCBpbmplY3Q6IDAsIHJlZHVjZVJpZ2h0OiAwLCBmb2xkcjogMCwgZmluZDogMywgZGV0ZWN0OiAzLCBmaWx0ZXI6IDMsXG4gICAgc2VsZWN0OiAzLCByZWplY3Q6IDMsIGV2ZXJ5OiAzLCBhbGw6IDMsIHNvbWU6IDMsIGFueTogMywgaW5jbHVkZTogMywgaW5jbHVkZXM6IDMsXG4gICAgY29udGFpbnM6IDMsIGludm9rZTogMCwgbWF4OiAzLCBtaW46IDMsIHRvQXJyYXk6IDEsIHNpemU6IDEsIGZpcnN0OiAzLFxuICAgIGhlYWQ6IDMsIHRha2U6IDMsIGluaXRpYWw6IDMsIHJlc3Q6IDMsIHRhaWw6IDMsIGRyb3A6IDMsIGxhc3Q6IDMsXG4gICAgd2l0aG91dDogMCwgZGlmZmVyZW5jZTogMCwgaW5kZXhPZjogMywgc2h1ZmZsZTogMSwgbGFzdEluZGV4T2Y6IDMsXG4gICAgaXNFbXB0eTogMSwgY2hhaW46IDEsIHNhbXBsZTogMywgcGFydGl0aW9uOiAzLCBncm91cEJ5OiAzLCBjb3VudEJ5OiAzLFxuICAgIHNvcnRCeTogMywgaW5kZXhCeTogMywgZmluZEluZGV4OiAzLCBmaW5kTGFzdEluZGV4OiAzfTtcblxuXG4gIC8vIFVuZGVyc2NvcmUgbWV0aG9kcyB0aGF0IHdlIHdhbnQgdG8gaW1wbGVtZW50IG9uIHRoZSBNb2RlbCwgbWFwcGVkIHRvIHRoZVxuICAvLyBudW1iZXIgb2YgYXJndW1lbnRzIHRoZXkgdGFrZS5cbiAgdmFyIG1vZGVsTWV0aG9kcyA9IHtrZXlzOiAxLCB2YWx1ZXM6IDEsIHBhaXJzOiAxLCBpbnZlcnQ6IDEsIHBpY2s6IDAsXG4gICAgb21pdDogMCwgY2hhaW46IDEsIGlzRW1wdHk6IDF9O1xuXG4gIC8vIE1peCBpbiBlYWNoIFVuZGVyc2NvcmUgbWV0aG9kIGFzIGEgcHJveHkgdG8gYENvbGxlY3Rpb24jbW9kZWxzYC5cblxuICBfLmVhY2goW1xuICAgIFtDb2xsZWN0aW9uLCBjb2xsZWN0aW9uTWV0aG9kcywgJ21vZGVscyddLFxuICAgIFtNb2RlbCwgbW9kZWxNZXRob2RzLCAnYXR0cmlidXRlcyddXG4gIF0sIGZ1bmN0aW9uKGNvbmZpZykge1xuICAgIHZhciBCYXNlID0gY29uZmlnWzBdLFxuICAgICAgICBtZXRob2RzID0gY29uZmlnWzFdLFxuICAgICAgICBhdHRyaWJ1dGUgPSBjb25maWdbMl07XG5cbiAgICBCYXNlLm1peGluID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICB2YXIgbWFwcGluZ3MgPSBfLnJlZHVjZShfLmZ1bmN0aW9ucyhvYmopLCBmdW5jdGlvbihtZW1vLCBuYW1lKSB7XG4gICAgICAgIG1lbW9bbmFtZV0gPSAwO1xuICAgICAgICByZXR1cm4gbWVtbztcbiAgICAgIH0sIHt9KTtcbiAgICAgIGFkZFVuZGVyc2NvcmVNZXRob2RzKEJhc2UsIG9iaiwgbWFwcGluZ3MsIGF0dHJpYnV0ZSk7XG4gICAgfTtcblxuICAgIGFkZFVuZGVyc2NvcmVNZXRob2RzKEJhc2UsIF8sIG1ldGhvZHMsIGF0dHJpYnV0ZSk7XG4gIH0pO1xuXG4gIC8vIEJhY2tib25lLnN5bmNcbiAgLy8gLS0tLS0tLS0tLS0tLVxuXG4gIC8vIE92ZXJyaWRlIHRoaXMgZnVuY3Rpb24gdG8gY2hhbmdlIHRoZSBtYW5uZXIgaW4gd2hpY2ggQmFja2JvbmUgcGVyc2lzdHNcbiAgLy8gbW9kZWxzIHRvIHRoZSBzZXJ2ZXIuIFlvdSB3aWxsIGJlIHBhc3NlZCB0aGUgdHlwZSBvZiByZXF1ZXN0LCBhbmQgdGhlXG4gIC8vIG1vZGVsIGluIHF1ZXN0aW9uLiBCeSBkZWZhdWx0LCBtYWtlcyBhIFJFU1RmdWwgQWpheCByZXF1ZXN0XG4gIC8vIHRvIHRoZSBtb2RlbCdzIGB1cmwoKWAuIFNvbWUgcG9zc2libGUgY3VzdG9taXphdGlvbnMgY291bGQgYmU6XG4gIC8vXG4gIC8vICogVXNlIGBzZXRUaW1lb3V0YCB0byBiYXRjaCByYXBpZC1maXJlIHVwZGF0ZXMgaW50byBhIHNpbmdsZSByZXF1ZXN0LlxuICAvLyAqIFNlbmQgdXAgdGhlIG1vZGVscyBhcyBYTUwgaW5zdGVhZCBvZiBKU09OLlxuICAvLyAqIFBlcnNpc3QgbW9kZWxzIHZpYSBXZWJTb2NrZXRzIGluc3RlYWQgb2YgQWpheC5cbiAgLy9cbiAgLy8gVHVybiBvbiBgQmFja2JvbmUuZW11bGF0ZUhUVFBgIGluIG9yZGVyIHRvIHNlbmQgYFBVVGAgYW5kIGBERUxFVEVgIHJlcXVlc3RzXG4gIC8vIGFzIGBQT1NUYCwgd2l0aCBhIGBfbWV0aG9kYCBwYXJhbWV0ZXIgY29udGFpbmluZyB0aGUgdHJ1ZSBIVFRQIG1ldGhvZCxcbiAgLy8gYXMgd2VsbCBhcyBhbGwgcmVxdWVzdHMgd2l0aCB0aGUgYm9keSBhcyBgYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkYFxuICAvLyBpbnN0ZWFkIG9mIGBhcHBsaWNhdGlvbi9qc29uYCB3aXRoIHRoZSBtb2RlbCBpbiBhIHBhcmFtIG5hbWVkIGBtb2RlbGAuXG4gIC8vIFVzZWZ1bCB3aGVuIGludGVyZmFjaW5nIHdpdGggc2VydmVyLXNpZGUgbGFuZ3VhZ2VzIGxpa2UgKipQSFAqKiB0aGF0IG1ha2VcbiAgLy8gaXQgZGlmZmljdWx0IHRvIHJlYWQgdGhlIGJvZHkgb2YgYFBVVGAgcmVxdWVzdHMuXG4gIEJhY2tib25lLnN5bmMgPSBmdW5jdGlvbihtZXRob2QsIG1vZGVsLCBvcHRpb25zKSB7XG4gICAgdmFyIHR5cGUgPSBtZXRob2RNYXBbbWV0aG9kXTtcblxuICAgIC8vIERlZmF1bHQgb3B0aW9ucywgdW5sZXNzIHNwZWNpZmllZC5cbiAgICBfLmRlZmF1bHRzKG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSksIHtcbiAgICAgIGVtdWxhdGVIVFRQOiBCYWNrYm9uZS5lbXVsYXRlSFRUUCxcbiAgICAgIGVtdWxhdGVKU09OOiBCYWNrYm9uZS5lbXVsYXRlSlNPTlxuICAgIH0pO1xuXG4gICAgLy8gRGVmYXVsdCBKU09OLXJlcXVlc3Qgb3B0aW9ucy5cbiAgICB2YXIgcGFyYW1zID0ge3R5cGU6IHR5cGUsIGRhdGFUeXBlOiAnanNvbid9O1xuXG4gICAgLy8gRW5zdXJlIHRoYXQgd2UgaGF2ZSBhIFVSTC5cbiAgICBpZiAoIW9wdGlvbnMudXJsKSB7XG4gICAgICBwYXJhbXMudXJsID0gXy5yZXN1bHQobW9kZWwsICd1cmwnKSB8fCB1cmxFcnJvcigpO1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSB0aGF0IHdlIGhhdmUgdGhlIGFwcHJvcHJpYXRlIHJlcXVlc3QgZGF0YS5cbiAgICBpZiAob3B0aW9ucy5kYXRhID09IG51bGwgJiYgbW9kZWwgJiYgKG1ldGhvZCA9PT0gJ2NyZWF0ZScgfHwgbWV0aG9kID09PSAndXBkYXRlJyB8fCBtZXRob2QgPT09ICdwYXRjaCcpKSB7XG4gICAgICBwYXJhbXMuY29udGVudFR5cGUgPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICBwYXJhbXMuZGF0YSA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuYXR0cnMgfHwgbW9kZWwudG9KU09OKG9wdGlvbnMpKTtcbiAgICB9XG5cbiAgICAvLyBGb3Igb2xkZXIgc2VydmVycywgZW11bGF0ZSBKU09OIGJ5IGVuY29kaW5nIHRoZSByZXF1ZXN0IGludG8gYW4gSFRNTC1mb3JtLlxuICAgIGlmIChvcHRpb25zLmVtdWxhdGVKU09OKSB7XG4gICAgICBwYXJhbXMuY29udGVudFR5cGUgPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJztcbiAgICAgIHBhcmFtcy5kYXRhID0gcGFyYW1zLmRhdGEgPyB7bW9kZWw6IHBhcmFtcy5kYXRhfSA6IHt9O1xuICAgIH1cblxuICAgIC8vIEZvciBvbGRlciBzZXJ2ZXJzLCBlbXVsYXRlIEhUVFAgYnkgbWltaWNraW5nIHRoZSBIVFRQIG1ldGhvZCB3aXRoIGBfbWV0aG9kYFxuICAgIC8vIEFuZCBhbiBgWC1IVFRQLU1ldGhvZC1PdmVycmlkZWAgaGVhZGVyLlxuICAgIGlmIChvcHRpb25zLmVtdWxhdGVIVFRQICYmICh0eXBlID09PSAnUFVUJyB8fCB0eXBlID09PSAnREVMRVRFJyB8fCB0eXBlID09PSAnUEFUQ0gnKSkge1xuICAgICAgcGFyYW1zLnR5cGUgPSAnUE9TVCc7XG4gICAgICBpZiAob3B0aW9ucy5lbXVsYXRlSlNPTikgcGFyYW1zLmRhdGEuX21ldGhvZCA9IHR5cGU7XG4gICAgICB2YXIgYmVmb3JlU2VuZCA9IG9wdGlvbnMuYmVmb3JlU2VuZDtcbiAgICAgIG9wdGlvbnMuYmVmb3JlU2VuZCA9IGZ1bmN0aW9uKHhocikge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignWC1IVFRQLU1ldGhvZC1PdmVycmlkZScsIHR5cGUpO1xuICAgICAgICBpZiAoYmVmb3JlU2VuZCkgcmV0dXJuIGJlZm9yZVNlbmQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gRG9uJ3QgcHJvY2VzcyBkYXRhIG9uIGEgbm9uLUdFVCByZXF1ZXN0LlxuICAgIGlmIChwYXJhbXMudHlwZSAhPT0gJ0dFVCcgJiYgIW9wdGlvbnMuZW11bGF0ZUpTT04pIHtcbiAgICAgIHBhcmFtcy5wcm9jZXNzRGF0YSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFBhc3MgYWxvbmcgYHRleHRTdGF0dXNgIGFuZCBgZXJyb3JUaHJvd25gIGZyb20galF1ZXJ5LlxuICAgIHZhciBlcnJvciA9IG9wdGlvbnMuZXJyb3I7XG4gICAgb3B0aW9ucy5lcnJvciA9IGZ1bmN0aW9uKHhociwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcbiAgICAgIG9wdGlvbnMudGV4dFN0YXR1cyA9IHRleHRTdGF0dXM7XG4gICAgICBvcHRpb25zLmVycm9yVGhyb3duID0gZXJyb3JUaHJvd247XG4gICAgICBpZiAoZXJyb3IpIGVycm9yLmNhbGwob3B0aW9ucy5jb250ZXh0LCB4aHIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKTtcbiAgICB9O1xuXG4gICAgLy8gTWFrZSB0aGUgcmVxdWVzdCwgYWxsb3dpbmcgdGhlIHVzZXIgdG8gb3ZlcnJpZGUgYW55IEFqYXggb3B0aW9ucy5cbiAgICB2YXIgeGhyID0gb3B0aW9ucy54aHIgPSBCYWNrYm9uZS5hamF4KF8uZXh0ZW5kKHBhcmFtcywgb3B0aW9ucykpO1xuICAgIG1vZGVsLnRyaWdnZXIoJ3JlcXVlc3QnLCBtb2RlbCwgeGhyLCBvcHRpb25zKTtcbiAgICByZXR1cm4geGhyO1xuICB9O1xuXG4gIC8vIE1hcCBmcm9tIENSVUQgdG8gSFRUUCBmb3Igb3VyIGRlZmF1bHQgYEJhY2tib25lLnN5bmNgIGltcGxlbWVudGF0aW9uLlxuICB2YXIgbWV0aG9kTWFwID0ge1xuICAgIGNyZWF0ZTogJ1BPU1QnLFxuICAgIHVwZGF0ZTogJ1BVVCcsXG4gICAgcGF0Y2g6ICdQQVRDSCcsXG4gICAgZGVsZXRlOiAnREVMRVRFJyxcbiAgICByZWFkOiAnR0VUJ1xuICB9O1xuXG4gIC8vIFNldCB0aGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiBgQmFja2JvbmUuYWpheGAgdG8gcHJveHkgdGhyb3VnaCB0byBgJGAuXG4gIC8vIE92ZXJyaWRlIHRoaXMgaWYgeW91J2QgbGlrZSB0byB1c2UgYSBkaWZmZXJlbnQgbGlicmFyeS5cbiAgQmFja2JvbmUuYWpheCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBCYWNrYm9uZS4kLmFqYXguYXBwbHkoQmFja2JvbmUuJCwgYXJndW1lbnRzKTtcbiAgfTtcblxuICAvLyBCYWNrYm9uZS5Sb3V0ZXJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gUm91dGVycyBtYXAgZmF1eC1VUkxzIHRvIGFjdGlvbnMsIGFuZCBmaXJlIGV2ZW50cyB3aGVuIHJvdXRlcyBhcmVcbiAgLy8gbWF0Y2hlZC4gQ3JlYXRpbmcgYSBuZXcgb25lIHNldHMgaXRzIGByb3V0ZXNgIGhhc2gsIGlmIG5vdCBzZXQgc3RhdGljYWxseS5cbiAgdmFyIFJvdXRlciA9IEJhY2tib25lLlJvdXRlciA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xuICAgIHRoaXMucHJlaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChvcHRpb25zLnJvdXRlcykgdGhpcy5yb3V0ZXMgPSBvcHRpb25zLnJvdXRlcztcbiAgICB0aGlzLl9iaW5kUm91dGVzKCk7XG4gICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgLy8gQ2FjaGVkIHJlZ3VsYXIgZXhwcmVzc2lvbnMgZm9yIG1hdGNoaW5nIG5hbWVkIHBhcmFtIHBhcnRzIGFuZCBzcGxhdHRlZFxuICAvLyBwYXJ0cyBvZiByb3V0ZSBzdHJpbmdzLlxuICB2YXIgb3B0aW9uYWxQYXJhbSA9IC9cXCgoLio/KVxcKS9nO1xuICB2YXIgbmFtZWRQYXJhbSAgICA9IC8oXFwoXFw/KT86XFx3Ky9nO1xuICB2YXIgc3BsYXRQYXJhbSAgICA9IC9cXCpcXHcrL2c7XG4gIHZhciBlc2NhcGVSZWdFeHAgID0gL1tcXC17fVxcW1xcXSs/LixcXFxcXFxeJHwjXFxzXS9nO1xuXG4gIC8vIFNldCB1cCBhbGwgaW5oZXJpdGFibGUgKipCYWNrYm9uZS5Sb3V0ZXIqKiBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzLlxuICBfLmV4dGVuZChSb3V0ZXIucHJvdG90eXBlLCBFdmVudHMsIHtcblxuICAgIC8vIHByZWluaXRpYWxpemUgaXMgYW4gZW1wdHkgZnVuY3Rpb24gYnkgZGVmYXVsdC4gWW91IGNhbiBvdmVycmlkZSBpdCB3aXRoIGEgZnVuY3Rpb25cbiAgICAvLyBvciBvYmplY3QuICBwcmVpbml0aWFsaXplIHdpbGwgcnVuIGJlZm9yZSBhbnkgaW5zdGFudGlhdGlvbiBsb2dpYyBpcyBydW4gaW4gdGhlIFJvdXRlci5cbiAgICBwcmVpbml0aWFsaXplOiBmdW5jdGlvbigpe30sXG5cbiAgICAvLyBJbml0aWFsaXplIGlzIGFuIGVtcHR5IGZ1bmN0aW9uIGJ5IGRlZmF1bHQuIE92ZXJyaWRlIGl0IHdpdGggeW91ciBvd25cbiAgICAvLyBpbml0aWFsaXphdGlvbiBsb2dpYy5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpe30sXG5cbiAgICAvLyBNYW51YWxseSBiaW5kIGEgc2luZ2xlIG5hbWVkIHJvdXRlIHRvIGEgY2FsbGJhY2suIEZvciBleGFtcGxlOlxuICAgIC8vXG4gICAgLy8gICAgIHRoaXMucm91dGUoJ3NlYXJjaC86cXVlcnkvcDpudW0nLCAnc2VhcmNoJywgZnVuY3Rpb24ocXVlcnksIG51bSkge1xuICAgIC8vICAgICAgIC4uLlxuICAgIC8vICAgICB9KTtcbiAgICAvL1xuICAgIHJvdXRlOiBmdW5jdGlvbihyb3V0ZSwgbmFtZSwgY2FsbGJhY2spIHtcbiAgICAgIGlmICghXy5pc1JlZ0V4cChyb3V0ZSkpIHJvdXRlID0gdGhpcy5fcm91dGVUb1JlZ0V4cChyb3V0ZSk7XG4gICAgICBpZiAoXy5pc0Z1bmN0aW9uKG5hbWUpKSB7XG4gICAgICAgIGNhbGxiYWNrID0gbmFtZTtcbiAgICAgICAgbmFtZSA9ICcnO1xuICAgICAgfVxuICAgICAgaWYgKCFjYWxsYmFjaykgY2FsbGJhY2sgPSB0aGlzW25hbWVdO1xuICAgICAgdmFyIHJvdXRlciA9IHRoaXM7XG4gICAgICBCYWNrYm9uZS5oaXN0b3J5LnJvdXRlKHJvdXRlLCBmdW5jdGlvbihmcmFnbWVudCkge1xuICAgICAgICB2YXIgYXJncyA9IHJvdXRlci5fZXh0cmFjdFBhcmFtZXRlcnMocm91dGUsIGZyYWdtZW50KTtcbiAgICAgICAgaWYgKHJvdXRlci5leGVjdXRlKGNhbGxiYWNrLCBhcmdzLCBuYW1lKSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICByb3V0ZXIudHJpZ2dlci5hcHBseShyb3V0ZXIsIFsncm91dGU6JyArIG5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgICAgcm91dGVyLnRyaWdnZXIoJ3JvdXRlJywgbmFtZSwgYXJncyk7XG4gICAgICAgICAgQmFja2JvbmUuaGlzdG9yeS50cmlnZ2VyKCdyb3V0ZScsIHJvdXRlciwgbmFtZSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8vIEV4ZWN1dGUgYSByb3V0ZSBoYW5kbGVyIHdpdGggdGhlIHByb3ZpZGVkIHBhcmFtZXRlcnMuICBUaGlzIGlzIGFuXG4gICAgLy8gZXhjZWxsZW50IHBsYWNlIHRvIGRvIHByZS1yb3V0ZSBzZXR1cCBvciBwb3N0LXJvdXRlIGNsZWFudXAuXG4gICAgZXhlY3V0ZTogZnVuY3Rpb24oY2FsbGJhY2ssIGFyZ3MsIG5hbWUpIHtcbiAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2suYXBwbHkodGhpcywgYXJncyk7XG4gICAgfSxcblxuICAgIC8vIFNpbXBsZSBwcm94eSB0byBgQmFja2JvbmUuaGlzdG9yeWAgdG8gc2F2ZSBhIGZyYWdtZW50IGludG8gdGhlIGhpc3RvcnkuXG4gICAgbmF2aWdhdGU6IGZ1bmN0aW9uKGZyYWdtZW50LCBvcHRpb25zKSB7XG4gICAgICBCYWNrYm9uZS5oaXN0b3J5Lm5hdmlnYXRlKGZyYWdtZW50LCBvcHRpb25zKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBCaW5kIGFsbCBkZWZpbmVkIHJvdXRlcyB0byBgQmFja2JvbmUuaGlzdG9yeWAuIFdlIGhhdmUgdG8gcmV2ZXJzZSB0aGVcbiAgICAvLyBvcmRlciBvZiB0aGUgcm91dGVzIGhlcmUgdG8gc3VwcG9ydCBiZWhhdmlvciB3aGVyZSB0aGUgbW9zdCBnZW5lcmFsXG4gICAgLy8gcm91dGVzIGNhbiBiZSBkZWZpbmVkIGF0IHRoZSBib3R0b20gb2YgdGhlIHJvdXRlIG1hcC5cbiAgICBfYmluZFJvdXRlczogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMucm91dGVzKSByZXR1cm47XG4gICAgICB0aGlzLnJvdXRlcyA9IF8ucmVzdWx0KHRoaXMsICdyb3V0ZXMnKTtcbiAgICAgIHZhciByb3V0ZSwgcm91dGVzID0gXy5rZXlzKHRoaXMucm91dGVzKTtcbiAgICAgIHdoaWxlICgocm91dGUgPSByb3V0ZXMucG9wKCkpICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5yb3V0ZShyb3V0ZSwgdGhpcy5yb3V0ZXNbcm91dGVdKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gQ29udmVydCBhIHJvdXRlIHN0cmluZyBpbnRvIGEgcmVndWxhciBleHByZXNzaW9uLCBzdWl0YWJsZSBmb3IgbWF0Y2hpbmdcbiAgICAvLyBhZ2FpbnN0IHRoZSBjdXJyZW50IGxvY2F0aW9uIGhhc2guXG4gICAgX3JvdXRlVG9SZWdFeHA6IGZ1bmN0aW9uKHJvdXRlKSB7XG4gICAgICByb3V0ZSA9IHJvdXRlLnJlcGxhY2UoZXNjYXBlUmVnRXhwLCAnXFxcXCQmJylcbiAgICAgICAgLnJlcGxhY2Uob3B0aW9uYWxQYXJhbSwgJyg/OiQxKT8nKVxuICAgICAgICAucmVwbGFjZShuYW1lZFBhcmFtLCBmdW5jdGlvbihtYXRjaCwgb3B0aW9uYWwpIHtcbiAgICAgICAgICByZXR1cm4gb3B0aW9uYWwgPyBtYXRjaCA6ICcoW14vP10rKSc7XG4gICAgICAgIH0pXG4gICAgICAgIC5yZXBsYWNlKHNwbGF0UGFyYW0sICcoW14/XSo/KScpO1xuICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJ14nICsgcm91dGUgKyAnKD86XFxcXD8oW1xcXFxzXFxcXFNdKikpPyQnKTtcbiAgICB9LFxuXG4gICAgLy8gR2l2ZW4gYSByb3V0ZSwgYW5kIGEgVVJMIGZyYWdtZW50IHRoYXQgaXQgbWF0Y2hlcywgcmV0dXJuIHRoZSBhcnJheSBvZlxuICAgIC8vIGV4dHJhY3RlZCBkZWNvZGVkIHBhcmFtZXRlcnMuIEVtcHR5IG9yIHVubWF0Y2hlZCBwYXJhbWV0ZXJzIHdpbGwgYmVcbiAgICAvLyB0cmVhdGVkIGFzIGBudWxsYCB0byBub3JtYWxpemUgY3Jvc3MtYnJvd3NlciBiZWhhdmlvci5cbiAgICBfZXh0cmFjdFBhcmFtZXRlcnM6IGZ1bmN0aW9uKHJvdXRlLCBmcmFnbWVudCkge1xuICAgICAgdmFyIHBhcmFtcyA9IHJvdXRlLmV4ZWMoZnJhZ21lbnQpLnNsaWNlKDEpO1xuICAgICAgcmV0dXJuIF8ubWFwKHBhcmFtcywgZnVuY3Rpb24ocGFyYW0sIGkpIHtcbiAgICAgICAgLy8gRG9uJ3QgZGVjb2RlIHRoZSBzZWFyY2ggcGFyYW1zLlxuICAgICAgICBpZiAoaSA9PT0gcGFyYW1zLmxlbmd0aCAtIDEpIHJldHVybiBwYXJhbSB8fCBudWxsO1xuICAgICAgICByZXR1cm4gcGFyYW0gPyBkZWNvZGVVUklDb21wb25lbnQocGFyYW0pIDogbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICB9KTtcblxuICAvLyBCYWNrYm9uZS5IaXN0b3J5XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBIYW5kbGVzIGNyb3NzLWJyb3dzZXIgaGlzdG9yeSBtYW5hZ2VtZW50LCBiYXNlZCBvbiBlaXRoZXJcbiAgLy8gW3B1c2hTdGF0ZV0oaHR0cDovL2RpdmVpbnRvaHRtbDUuaW5mby9oaXN0b3J5Lmh0bWwpIGFuZCByZWFsIFVSTHMsIG9yXG4gIC8vIFtvbmhhc2hjaGFuZ2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvRE9NL3dpbmRvdy5vbmhhc2hjaGFuZ2UpXG4gIC8vIGFuZCBVUkwgZnJhZ21lbnRzLiBJZiB0aGUgYnJvd3NlciBzdXBwb3J0cyBuZWl0aGVyIChvbGQgSUUsIG5hdGNoKSxcbiAgLy8gZmFsbHMgYmFjayB0byBwb2xsaW5nLlxuICB2YXIgSGlzdG9yeSA9IEJhY2tib25lLkhpc3RvcnkgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmhhbmRsZXJzID0gW107XG4gICAgdGhpcy5jaGVja1VybCA9IHRoaXMuY2hlY2tVcmwuYmluZCh0aGlzKTtcblxuICAgIC8vIEVuc3VyZSB0aGF0IGBIaXN0b3J5YCBjYW4gYmUgdXNlZCBvdXRzaWRlIG9mIHRoZSBicm93c2VyLlxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5sb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbjtcbiAgICAgIHRoaXMuaGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5O1xuICAgIH1cbiAgfTtcblxuICAvLyBDYWNoZWQgcmVnZXggZm9yIHN0cmlwcGluZyBhIGxlYWRpbmcgaGFzaC9zbGFzaCBhbmQgdHJhaWxpbmcgc3BhY2UuXG4gIHZhciByb3V0ZVN0cmlwcGVyID0gL15bI1xcL118XFxzKyQvZztcblxuICAvLyBDYWNoZWQgcmVnZXggZm9yIHN0cmlwcGluZyBsZWFkaW5nIGFuZCB0cmFpbGluZyBzbGFzaGVzLlxuICB2YXIgcm9vdFN0cmlwcGVyID0gL15cXC8rfFxcLyskL2c7XG5cbiAgLy8gQ2FjaGVkIHJlZ2V4IGZvciBzdHJpcHBpbmcgdXJscyBvZiBoYXNoLlxuICB2YXIgcGF0aFN0cmlwcGVyID0gLyMuKiQvO1xuXG4gIC8vIEhhcyB0aGUgaGlzdG9yeSBoYW5kbGluZyBhbHJlYWR5IGJlZW4gc3RhcnRlZD9cbiAgSGlzdG9yeS5zdGFydGVkID0gZmFsc2U7XG5cbiAgLy8gU2V0IHVwIGFsbCBpbmhlcml0YWJsZSAqKkJhY2tib25lLkhpc3RvcnkqKiBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzLlxuICBfLmV4dGVuZChIaXN0b3J5LnByb3RvdHlwZSwgRXZlbnRzLCB7XG5cbiAgICAvLyBUaGUgZGVmYXVsdCBpbnRlcnZhbCB0byBwb2xsIGZvciBoYXNoIGNoYW5nZXMsIGlmIG5lY2Vzc2FyeSwgaXNcbiAgICAvLyB0d2VudHkgdGltZXMgYSBzZWNvbmQuXG4gICAgaW50ZXJ2YWw6IDUwLFxuXG4gICAgLy8gQXJlIHdlIGF0IHRoZSBhcHAgcm9vdD9cbiAgICBhdFJvb3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhdGggPSB0aGlzLmxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1teXFwvXSQvLCAnJCYvJyk7XG4gICAgICByZXR1cm4gcGF0aCA9PT0gdGhpcy5yb290ICYmICF0aGlzLmdldFNlYXJjaCgpO1xuICAgIH0sXG5cbiAgICAvLyBEb2VzIHRoZSBwYXRobmFtZSBtYXRjaCB0aGUgcm9vdD9cbiAgICBtYXRjaFJvb3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhdGggPSB0aGlzLmRlY29kZUZyYWdtZW50KHRoaXMubG9jYXRpb24ucGF0aG5hbWUpO1xuICAgICAgdmFyIHJvb3RQYXRoID0gcGF0aC5zbGljZSgwLCB0aGlzLnJvb3QubGVuZ3RoIC0gMSkgKyAnLyc7XG4gICAgICByZXR1cm4gcm9vdFBhdGggPT09IHRoaXMucm9vdDtcbiAgICB9LFxuXG4gICAgLy8gVW5pY29kZSBjaGFyYWN0ZXJzIGluIGBsb2NhdGlvbi5wYXRobmFtZWAgYXJlIHBlcmNlbnQgZW5jb2RlZCBzbyB0aGV5J3JlXG4gICAgLy8gZGVjb2RlZCBmb3IgY29tcGFyaXNvbi4gYCUyNWAgc2hvdWxkIG5vdCBiZSBkZWNvZGVkIHNpbmNlIGl0IG1heSBiZSBwYXJ0XG4gICAgLy8gb2YgYW4gZW5jb2RlZCBwYXJhbWV0ZXIuXG4gICAgZGVjb2RlRnJhZ21lbnQ6IGZ1bmN0aW9uKGZyYWdtZW50KSB7XG4gICAgICByZXR1cm4gZGVjb2RlVVJJKGZyYWdtZW50LnJlcGxhY2UoLyUyNS9nLCAnJTI1MjUnKSk7XG4gICAgfSxcblxuICAgIC8vIEluIElFNiwgdGhlIGhhc2ggZnJhZ21lbnQgYW5kIHNlYXJjaCBwYXJhbXMgYXJlIGluY29ycmVjdCBpZiB0aGVcbiAgICAvLyBmcmFnbWVudCBjb250YWlucyBgP2AuXG4gICAgZ2V0U2VhcmNoOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBtYXRjaCA9IHRoaXMubG9jYXRpb24uaHJlZi5yZXBsYWNlKC8jLiovLCAnJykubWF0Y2goL1xcPy4rLyk7XG4gICAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFswXSA6ICcnO1xuICAgIH0sXG5cbiAgICAvLyBHZXRzIHRoZSB0cnVlIGhhc2ggdmFsdWUuIENhbm5vdCB1c2UgbG9jYXRpb24uaGFzaCBkaXJlY3RseSBkdWUgdG8gYnVnXG4gICAgLy8gaW4gRmlyZWZveCB3aGVyZSBsb2NhdGlvbi5oYXNoIHdpbGwgYWx3YXlzIGJlIGRlY29kZWQuXG4gICAgZ2V0SGFzaDogZnVuY3Rpb24od2luZG93KSB7XG4gICAgICB2YXIgbWF0Y2ggPSAod2luZG93IHx8IHRoaXMpLmxvY2F0aW9uLmhyZWYubWF0Y2goLyMoLiopJC8pO1xuICAgICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0gOiAnJztcbiAgICB9LFxuXG4gICAgLy8gR2V0IHRoZSBwYXRobmFtZSBhbmQgc2VhcmNoIHBhcmFtcywgd2l0aG91dCB0aGUgcm9vdC5cbiAgICBnZXRQYXRoOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwYXRoID0gdGhpcy5kZWNvZGVGcmFnbWVudChcbiAgICAgICAgdGhpcy5sb2NhdGlvbi5wYXRobmFtZSArIHRoaXMuZ2V0U2VhcmNoKClcbiAgICAgICkuc2xpY2UodGhpcy5yb290Lmxlbmd0aCAtIDEpO1xuICAgICAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLycgPyBwYXRoLnNsaWNlKDEpIDogcGF0aDtcbiAgICB9LFxuXG4gICAgLy8gR2V0IHRoZSBjcm9zcy1icm93c2VyIG5vcm1hbGl6ZWQgVVJMIGZyYWdtZW50IGZyb20gdGhlIHBhdGggb3IgaGFzaC5cbiAgICBnZXRGcmFnbWVudDogZnVuY3Rpb24oZnJhZ21lbnQpIHtcbiAgICAgIGlmIChmcmFnbWVudCA9PSBudWxsKSB7XG4gICAgICAgIGlmICh0aGlzLl91c2VQdXNoU3RhdGUgfHwgIXRoaXMuX3dhbnRzSGFzaENoYW5nZSkge1xuICAgICAgICAgIGZyYWdtZW50ID0gdGhpcy5nZXRQYXRoKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZnJhZ21lbnQgPSB0aGlzLmdldEhhc2goKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZyYWdtZW50LnJlcGxhY2Uocm91dGVTdHJpcHBlciwgJycpO1xuICAgIH0sXG5cbiAgICAvLyBTdGFydCB0aGUgaGFzaCBjaGFuZ2UgaGFuZGxpbmcsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlIGN1cnJlbnQgVVJMIG1hdGNoZXNcbiAgICAvLyBhbiBleGlzdGluZyByb3V0ZSwgYW5kIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICAgIHN0YXJ0OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBpZiAoSGlzdG9yeS5zdGFydGVkKSB0aHJvdyBuZXcgRXJyb3IoJ0JhY2tib25lLmhpc3RvcnkgaGFzIGFscmVhZHkgYmVlbiBzdGFydGVkJyk7XG4gICAgICBIaXN0b3J5LnN0YXJ0ZWQgPSB0cnVlO1xuXG4gICAgICAvLyBGaWd1cmUgb3V0IHRoZSBpbml0aWFsIGNvbmZpZ3VyYXRpb24uIERvIHdlIG5lZWQgYW4gaWZyYW1lP1xuICAgICAgLy8gSXMgcHVzaFN0YXRlIGRlc2lyZWQgLi4uIGlzIGl0IGF2YWlsYWJsZT9cbiAgICAgIHRoaXMub3B0aW9ucyAgICAgICAgICA9IF8uZXh0ZW5kKHtyb290OiAnLyd9LCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgdGhpcy5yb290ICAgICAgICAgICAgID0gdGhpcy5vcHRpb25zLnJvb3Q7XG4gICAgICB0aGlzLl93YW50c0hhc2hDaGFuZ2UgPSB0aGlzLm9wdGlvbnMuaGFzaENoYW5nZSAhPT0gZmFsc2U7XG4gICAgICB0aGlzLl9oYXNIYXNoQ2hhbmdlICAgPSAnb25oYXNoY2hhbmdlJyBpbiB3aW5kb3cgJiYgKGRvY3VtZW50LmRvY3VtZW50TW9kZSA9PT0gdm9pZCAwIHx8IGRvY3VtZW50LmRvY3VtZW50TW9kZSA+IDcpO1xuICAgICAgdGhpcy5fdXNlSGFzaENoYW5nZSAgID0gdGhpcy5fd2FudHNIYXNoQ2hhbmdlICYmIHRoaXMuX2hhc0hhc2hDaGFuZ2U7XG4gICAgICB0aGlzLl93YW50c1B1c2hTdGF0ZSAgPSAhIXRoaXMub3B0aW9ucy5wdXNoU3RhdGU7XG4gICAgICB0aGlzLl9oYXNQdXNoU3RhdGUgICAgPSAhISh0aGlzLmhpc3RvcnkgJiYgdGhpcy5oaXN0b3J5LnB1c2hTdGF0ZSk7XG4gICAgICB0aGlzLl91c2VQdXNoU3RhdGUgICAgPSB0aGlzLl93YW50c1B1c2hTdGF0ZSAmJiB0aGlzLl9oYXNQdXNoU3RhdGU7XG4gICAgICB0aGlzLmZyYWdtZW50ICAgICAgICAgPSB0aGlzLmdldEZyYWdtZW50KCk7XG5cbiAgICAgIC8vIE5vcm1hbGl6ZSByb290IHRvIGFsd2F5cyBpbmNsdWRlIGEgbGVhZGluZyBhbmQgdHJhaWxpbmcgc2xhc2guXG4gICAgICB0aGlzLnJvb3QgPSAoJy8nICsgdGhpcy5yb290ICsgJy8nKS5yZXBsYWNlKHJvb3RTdHJpcHBlciwgJy8nKTtcblxuICAgICAgLy8gVHJhbnNpdGlvbiBmcm9tIGhhc2hDaGFuZ2UgdG8gcHVzaFN0YXRlIG9yIHZpY2UgdmVyc2EgaWYgYm90aCBhcmVcbiAgICAgIC8vIHJlcXVlc3RlZC5cbiAgICAgIGlmICh0aGlzLl93YW50c0hhc2hDaGFuZ2UgJiYgdGhpcy5fd2FudHNQdXNoU3RhdGUpIHtcblxuICAgICAgICAvLyBJZiB3ZSd2ZSBzdGFydGVkIG9mZiB3aXRoIGEgcm91dGUgZnJvbSBhIGBwdXNoU3RhdGVgLWVuYWJsZWRcbiAgICAgICAgLy8gYnJvd3NlciwgYnV0IHdlJ3JlIGN1cnJlbnRseSBpbiBhIGJyb3dzZXIgdGhhdCBkb2Vzbid0IHN1cHBvcnQgaXQuLi5cbiAgICAgICAgaWYgKCF0aGlzLl9oYXNQdXNoU3RhdGUgJiYgIXRoaXMuYXRSb290KCkpIHtcbiAgICAgICAgICB2YXIgcm9vdFBhdGggPSB0aGlzLnJvb3Quc2xpY2UoMCwgLTEpIHx8ICcvJztcbiAgICAgICAgICB0aGlzLmxvY2F0aW9uLnJlcGxhY2Uocm9vdFBhdGggKyAnIycgKyB0aGlzLmdldFBhdGgoKSk7XG4gICAgICAgICAgLy8gUmV0dXJuIGltbWVkaWF0ZWx5IGFzIGJyb3dzZXIgd2lsbCBkbyByZWRpcmVjdCB0byBuZXcgdXJsXG4gICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgLy8gT3IgaWYgd2UndmUgc3RhcnRlZCBvdXQgd2l0aCBhIGhhc2gtYmFzZWQgcm91dGUsIGJ1dCB3ZSdyZSBjdXJyZW50bHlcbiAgICAgICAgLy8gaW4gYSBicm93c2VyIHdoZXJlIGl0IGNvdWxkIGJlIGBwdXNoU3RhdGVgLWJhc2VkIGluc3RlYWQuLi5cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9oYXNQdXNoU3RhdGUgJiYgdGhpcy5hdFJvb3QoKSkge1xuICAgICAgICAgIHRoaXMubmF2aWdhdGUodGhpcy5nZXRIYXNoKCksIHtyZXBsYWNlOiB0cnVlfSk7XG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgICAvLyBQcm94eSBhbiBpZnJhbWUgdG8gaGFuZGxlIGxvY2F0aW9uIGV2ZW50cyBpZiB0aGUgYnJvd3NlciBkb2Vzbid0XG4gICAgICAvLyBzdXBwb3J0IHRoZSBgaGFzaGNoYW5nZWAgZXZlbnQsIEhUTUw1IGhpc3RvcnksIG9yIHRoZSB1c2VyIHdhbnRzXG4gICAgICAvLyBgaGFzaENoYW5nZWAgYnV0IG5vdCBgcHVzaFN0YXRlYC5cbiAgICAgIGlmICghdGhpcy5faGFzSGFzaENoYW5nZSAmJiB0aGlzLl93YW50c0hhc2hDaGFuZ2UgJiYgIXRoaXMuX3VzZVB1c2hTdGF0ZSkge1xuICAgICAgICB0aGlzLmlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgICAgICB0aGlzLmlmcmFtZS5zcmMgPSAnamF2YXNjcmlwdDowJztcbiAgICAgICAgdGhpcy5pZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgdGhpcy5pZnJhbWUudGFiSW5kZXggPSAtMTtcbiAgICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgICAvLyBVc2luZyBgYXBwZW5kQ2hpbGRgIHdpbGwgdGhyb3cgb24gSUUgPCA5IGlmIHRoZSBkb2N1bWVudCBpcyBub3QgcmVhZHkuXG4gICAgICAgIHZhciBpV2luZG93ID0gYm9keS5pbnNlcnRCZWZvcmUodGhpcy5pZnJhbWUsIGJvZHkuZmlyc3RDaGlsZCkuY29udGVudFdpbmRvdztcbiAgICAgICAgaVdpbmRvdy5kb2N1bWVudC5vcGVuKCk7XG4gICAgICAgIGlXaW5kb3cuZG9jdW1lbnQuY2xvc2UoKTtcbiAgICAgICAgaVdpbmRvdy5sb2NhdGlvbi5oYXNoID0gJyMnICsgdGhpcy5mcmFnbWVudDtcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIGEgY3Jvc3MtcGxhdGZvcm0gYGFkZEV2ZW50TGlzdGVuZXJgIHNoaW0gZm9yIG9sZGVyIGJyb3dzZXJzLlxuICAgICAgdmFyIGFkZEV2ZW50TGlzdGVuZXIgPSB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciB8fCBmdW5jdGlvbihldmVudE5hbWUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybiBhdHRhY2hFdmVudCgnb24nICsgZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gICAgICB9O1xuXG4gICAgICAvLyBEZXBlbmRpbmcgb24gd2hldGhlciB3ZSdyZSB1c2luZyBwdXNoU3RhdGUgb3IgaGFzaGVzLCBhbmQgd2hldGhlclxuICAgICAgLy8gJ29uaGFzaGNoYW5nZScgaXMgc3VwcG9ydGVkLCBkZXRlcm1pbmUgaG93IHdlIGNoZWNrIHRoZSBVUkwgc3RhdGUuXG4gICAgICBpZiAodGhpcy5fdXNlUHVzaFN0YXRlKSB7XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgdGhpcy5jaGVja1VybCwgZmFsc2UpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl91c2VIYXNoQ2hhbmdlICYmICF0aGlzLmlmcmFtZSkge1xuICAgICAgICBhZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhpcy5jaGVja1VybCwgZmFsc2UpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl93YW50c0hhc2hDaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tVcmxJbnRlcnZhbCA9IHNldEludGVydmFsKHRoaXMuY2hlY2tVcmwsIHRoaXMuaW50ZXJ2YWwpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5zaWxlbnQpIHJldHVybiB0aGlzLmxvYWRVcmwoKTtcbiAgICB9LFxuXG4gICAgLy8gRGlzYWJsZSBCYWNrYm9uZS5oaXN0b3J5LCBwZXJoYXBzIHRlbXBvcmFyaWx5LiBOb3QgdXNlZnVsIGluIGEgcmVhbCBhcHAsXG4gICAgLy8gYnV0IHBvc3NpYmx5IHVzZWZ1bCBmb3IgdW5pdCB0ZXN0aW5nIFJvdXRlcnMuXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBBZGQgYSBjcm9zcy1wbGF0Zm9ybSBgcmVtb3ZlRXZlbnRMaXN0ZW5lcmAgc2hpbSBmb3Igb2xkZXIgYnJvd3NlcnMuXG4gICAgICB2YXIgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyIHx8IGZ1bmN0aW9uKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuIGRldGFjaEV2ZW50KCdvbicgKyBldmVudE5hbWUsIGxpc3RlbmVyKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIFJlbW92ZSB3aW5kb3cgbGlzdGVuZXJzLlxuICAgICAgaWYgKHRoaXMuX3VzZVB1c2hTdGF0ZSkge1xuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIHRoaXMuY2hlY2tVcmwsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fdXNlSGFzaENoYW5nZSAmJiAhdGhpcy5pZnJhbWUpIHtcbiAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHRoaXMuY2hlY2tVcmwsIGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xlYW4gdXAgdGhlIGlmcmFtZSBpZiBuZWNlc3NhcnkuXG4gICAgICBpZiAodGhpcy5pZnJhbWUpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLmlmcmFtZSk7XG4gICAgICAgIHRoaXMuaWZyYW1lID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gU29tZSBlbnZpcm9ubWVudHMgd2lsbCB0aHJvdyB3aGVuIGNsZWFyaW5nIGFuIHVuZGVmaW5lZCBpbnRlcnZhbC5cbiAgICAgIGlmICh0aGlzLl9jaGVja1VybEludGVydmFsKSBjbGVhckludGVydmFsKHRoaXMuX2NoZWNrVXJsSW50ZXJ2YWwpO1xuICAgICAgSGlzdG9yeS5zdGFydGVkID0gZmFsc2U7XG4gICAgfSxcblxuICAgIC8vIEFkZCBhIHJvdXRlIHRvIGJlIHRlc3RlZCB3aGVuIHRoZSBmcmFnbWVudCBjaGFuZ2VzLiBSb3V0ZXMgYWRkZWQgbGF0ZXJcbiAgICAvLyBtYXkgb3ZlcnJpZGUgcHJldmlvdXMgcm91dGVzLlxuICAgIHJvdXRlOiBmdW5jdGlvbihyb3V0ZSwgY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuaGFuZGxlcnMudW5zaGlmdCh7cm91dGU6IHJvdXRlLCBjYWxsYmFjazogY2FsbGJhY2t9KTtcbiAgICB9LFxuXG4gICAgLy8gQ2hlY2tzIHRoZSBjdXJyZW50IFVSTCB0byBzZWUgaWYgaXQgaGFzIGNoYW5nZWQsIGFuZCBpZiBpdCBoYXMsXG4gICAgLy8gY2FsbHMgYGxvYWRVcmxgLCBub3JtYWxpemluZyBhY3Jvc3MgdGhlIGhpZGRlbiBpZnJhbWUuXG4gICAgY2hlY2tVcmw6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5nZXRGcmFnbWVudCgpO1xuXG4gICAgICAvLyBJZiB0aGUgdXNlciBwcmVzc2VkIHRoZSBiYWNrIGJ1dHRvbiwgdGhlIGlmcmFtZSdzIGhhc2ggd2lsbCBoYXZlXG4gICAgICAvLyBjaGFuZ2VkIGFuZCB3ZSBzaG91bGQgdXNlIHRoYXQgZm9yIGNvbXBhcmlzb24uXG4gICAgICBpZiAoY3VycmVudCA9PT0gdGhpcy5mcmFnbWVudCAmJiB0aGlzLmlmcmFtZSkge1xuICAgICAgICBjdXJyZW50ID0gdGhpcy5nZXRIYXNoKHRoaXMuaWZyYW1lLmNvbnRlbnRXaW5kb3cpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY3VycmVudCA9PT0gdGhpcy5mcmFnbWVudCkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKHRoaXMuaWZyYW1lKSB0aGlzLm5hdmlnYXRlKGN1cnJlbnQpO1xuICAgICAgdGhpcy5sb2FkVXJsKCk7XG4gICAgfSxcblxuICAgIC8vIEF0dGVtcHQgdG8gbG9hZCB0aGUgY3VycmVudCBVUkwgZnJhZ21lbnQuIElmIGEgcm91dGUgc3VjY2VlZHMgd2l0aCBhXG4gICAgLy8gbWF0Y2gsIHJldHVybnMgYHRydWVgLiBJZiBubyBkZWZpbmVkIHJvdXRlcyBtYXRjaGVzIHRoZSBmcmFnbWVudCxcbiAgICAvLyByZXR1cm5zIGBmYWxzZWAuXG4gICAgbG9hZFVybDogZnVuY3Rpb24oZnJhZ21lbnQpIHtcbiAgICAgIC8vIElmIHRoZSByb290IGRvZXNuJ3QgbWF0Y2gsIG5vIHJvdXRlcyBjYW4gbWF0Y2ggZWl0aGVyLlxuICAgICAgaWYgKCF0aGlzLm1hdGNoUm9vdCgpKSByZXR1cm4gZmFsc2U7XG4gICAgICBmcmFnbWVudCA9IHRoaXMuZnJhZ21lbnQgPSB0aGlzLmdldEZyYWdtZW50KGZyYWdtZW50KTtcbiAgICAgIHJldHVybiBfLnNvbWUodGhpcy5oYW5kbGVycywgZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgICBpZiAoaGFuZGxlci5yb3V0ZS50ZXN0KGZyYWdtZW50KSkge1xuICAgICAgICAgIGhhbmRsZXIuY2FsbGJhY2soZnJhZ21lbnQpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gU2F2ZSBhIGZyYWdtZW50IGludG8gdGhlIGhhc2ggaGlzdG9yeSwgb3IgcmVwbGFjZSB0aGUgVVJMIHN0YXRlIGlmIHRoZVxuICAgIC8vICdyZXBsYWNlJyBvcHRpb24gaXMgcGFzc2VkLiBZb3UgYXJlIHJlc3BvbnNpYmxlIGZvciBwcm9wZXJseSBVUkwtZW5jb2RpbmdcbiAgICAvLyB0aGUgZnJhZ21lbnQgaW4gYWR2YW5jZS5cbiAgICAvL1xuICAgIC8vIFRoZSBvcHRpb25zIG9iamVjdCBjYW4gY29udGFpbiBgdHJpZ2dlcjogdHJ1ZWAgaWYgeW91IHdpc2ggdG8gaGF2ZSB0aGVcbiAgICAvLyByb3V0ZSBjYWxsYmFjayBiZSBmaXJlZCAobm90IHVzdWFsbHkgZGVzaXJhYmxlKSwgb3IgYHJlcGxhY2U6IHRydWVgLCBpZlxuICAgIC8vIHlvdSB3aXNoIHRvIG1vZGlmeSB0aGUgY3VycmVudCBVUkwgd2l0aG91dCBhZGRpbmcgYW4gZW50cnkgdG8gdGhlIGhpc3RvcnkuXG4gICAgbmF2aWdhdGU6IGZ1bmN0aW9uKGZyYWdtZW50LCBvcHRpb25zKSB7XG4gICAgICBpZiAoIUhpc3Rvcnkuc3RhcnRlZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKCFvcHRpb25zIHx8IG9wdGlvbnMgPT09IHRydWUpIG9wdGlvbnMgPSB7dHJpZ2dlcjogISFvcHRpb25zfTtcblxuICAgICAgLy8gTm9ybWFsaXplIHRoZSBmcmFnbWVudC5cbiAgICAgIGZyYWdtZW50ID0gdGhpcy5nZXRGcmFnbWVudChmcmFnbWVudCB8fCAnJyk7XG5cbiAgICAgIC8vIERvbid0IGluY2x1ZGUgYSB0cmFpbGluZyBzbGFzaCBvbiB0aGUgcm9vdC5cbiAgICAgIHZhciByb290UGF0aCA9IHRoaXMucm9vdDtcbiAgICAgIGlmIChmcmFnbWVudCA9PT0gJycgfHwgZnJhZ21lbnQuY2hhckF0KDApID09PSAnPycpIHtcbiAgICAgICAgcm9vdFBhdGggPSByb290UGF0aC5zbGljZSgwLCAtMSkgfHwgJy8nO1xuICAgICAgfVxuICAgICAgdmFyIHVybCA9IHJvb3RQYXRoICsgZnJhZ21lbnQ7XG5cbiAgICAgIC8vIFN0cmlwIHRoZSBmcmFnbWVudCBvZiB0aGUgcXVlcnkgYW5kIGhhc2ggZm9yIG1hdGNoaW5nLlxuICAgICAgZnJhZ21lbnQgPSBmcmFnbWVudC5yZXBsYWNlKHBhdGhTdHJpcHBlciwgJycpO1xuXG4gICAgICAvLyBEZWNvZGUgZm9yIG1hdGNoaW5nLlxuICAgICAgdmFyIGRlY29kZWRGcmFnbWVudCA9IHRoaXMuZGVjb2RlRnJhZ21lbnQoZnJhZ21lbnQpO1xuXG4gICAgICBpZiAodGhpcy5mcmFnbWVudCA9PT0gZGVjb2RlZEZyYWdtZW50KSByZXR1cm47XG4gICAgICB0aGlzLmZyYWdtZW50ID0gZGVjb2RlZEZyYWdtZW50O1xuXG4gICAgICAvLyBJZiBwdXNoU3RhdGUgaXMgYXZhaWxhYmxlLCB3ZSB1c2UgaXQgdG8gc2V0IHRoZSBmcmFnbWVudCBhcyBhIHJlYWwgVVJMLlxuICAgICAgaWYgKHRoaXMuX3VzZVB1c2hTdGF0ZSkge1xuICAgICAgICB0aGlzLmhpc3Rvcnlbb3B0aW9ucy5yZXBsYWNlID8gJ3JlcGxhY2VTdGF0ZScgOiAncHVzaFN0YXRlJ10oe30sIGRvY3VtZW50LnRpdGxlLCB1cmwpO1xuXG4gICAgICAvLyBJZiBoYXNoIGNoYW5nZXMgaGF2ZW4ndCBiZWVuIGV4cGxpY2l0bHkgZGlzYWJsZWQsIHVwZGF0ZSB0aGUgaGFzaFxuICAgICAgLy8gZnJhZ21lbnQgdG8gc3RvcmUgaGlzdG9yeS5cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fd2FudHNIYXNoQ2hhbmdlKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUhhc2godGhpcy5sb2NhdGlvbiwgZnJhZ21lbnQsIG9wdGlvbnMucmVwbGFjZSk7XG4gICAgICAgIGlmICh0aGlzLmlmcmFtZSAmJiBmcmFnbWVudCAhPT0gdGhpcy5nZXRIYXNoKHRoaXMuaWZyYW1lLmNvbnRlbnRXaW5kb3cpKSB7XG4gICAgICAgICAgdmFyIGlXaW5kb3cgPSB0aGlzLmlmcmFtZS5jb250ZW50V2luZG93O1xuXG4gICAgICAgICAgLy8gT3BlbmluZyBhbmQgY2xvc2luZyB0aGUgaWZyYW1lIHRyaWNrcyBJRTcgYW5kIGVhcmxpZXIgdG8gcHVzaCBhXG4gICAgICAgICAgLy8gaGlzdG9yeSBlbnRyeSBvbiBoYXNoLXRhZyBjaGFuZ2UuICBXaGVuIHJlcGxhY2UgaXMgdHJ1ZSwgd2UgZG9uJ3RcbiAgICAgICAgICAvLyB3YW50IHRoaXMuXG4gICAgICAgICAgaWYgKCFvcHRpb25zLnJlcGxhY2UpIHtcbiAgICAgICAgICAgIGlXaW5kb3cuZG9jdW1lbnQub3BlbigpO1xuICAgICAgICAgICAgaVdpbmRvdy5kb2N1bWVudC5jbG9zZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuX3VwZGF0ZUhhc2goaVdpbmRvdy5sb2NhdGlvbiwgZnJhZ21lbnQsIG9wdGlvbnMucmVwbGFjZSk7XG4gICAgICAgIH1cblxuICAgICAgLy8gSWYgeW91J3ZlIHRvbGQgdXMgdGhhdCB5b3UgZXhwbGljaXRseSBkb24ndCB3YW50IGZhbGxiYWNrIGhhc2hjaGFuZ2UtXG4gICAgICAvLyBiYXNlZCBoaXN0b3J5LCB0aGVuIGBuYXZpZ2F0ZWAgYmVjb21lcyBhIHBhZ2UgcmVmcmVzaC5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2F0aW9uLmFzc2lnbih1cmwpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMudHJpZ2dlcikgcmV0dXJuIHRoaXMubG9hZFVybChmcmFnbWVudCk7XG4gICAgfSxcblxuICAgIC8vIFVwZGF0ZSB0aGUgaGFzaCBsb2NhdGlvbiwgZWl0aGVyIHJlcGxhY2luZyB0aGUgY3VycmVudCBlbnRyeSwgb3IgYWRkaW5nXG4gICAgLy8gYSBuZXcgb25lIHRvIHRoZSBicm93c2VyIGhpc3RvcnkuXG4gICAgX3VwZGF0ZUhhc2g6IGZ1bmN0aW9uKGxvY2F0aW9uLCBmcmFnbWVudCwgcmVwbGFjZSkge1xuICAgICAgaWYgKHJlcGxhY2UpIHtcbiAgICAgICAgdmFyIGhyZWYgPSBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyhqYXZhc2NyaXB0OnwjKS4qJC8sICcnKTtcbiAgICAgICAgbG9jYXRpb24ucmVwbGFjZShocmVmICsgJyMnICsgZnJhZ21lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU29tZSBicm93c2VycyByZXF1aXJlIHRoYXQgYGhhc2hgIGNvbnRhaW5zIGEgbGVhZGluZyAjLlxuICAgICAgICBsb2NhdGlvbi5oYXNoID0gJyMnICsgZnJhZ21lbnQ7XG4gICAgICB9XG4gICAgfVxuXG4gIH0pO1xuXG4gIC8vIENyZWF0ZSB0aGUgZGVmYXVsdCBCYWNrYm9uZS5oaXN0b3J5LlxuICBCYWNrYm9uZS5oaXN0b3J5ID0gbmV3IEhpc3Rvcnk7XG5cbiAgLy8gSGVscGVyc1xuICAvLyAtLS0tLS0tXG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNvcnJlY3RseSBzZXQgdXAgdGhlIHByb3RvdHlwZSBjaGFpbiBmb3Igc3ViY2xhc3Nlcy5cbiAgLy8gU2ltaWxhciB0byBgZ29vZy5pbmhlcml0c2AsIGJ1dCB1c2VzIGEgaGFzaCBvZiBwcm90b3R5cGUgcHJvcGVydGllcyBhbmRcbiAgLy8gY2xhc3MgcHJvcGVydGllcyB0byBiZSBleHRlbmRlZC5cbiAgdmFyIGV4dGVuZCA9IGZ1bmN0aW9uKHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgdmFyIHBhcmVudCA9IHRoaXM7XG4gICAgdmFyIGNoaWxkO1xuXG4gICAgLy8gVGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGZvciB0aGUgbmV3IHN1YmNsYXNzIGlzIGVpdGhlciBkZWZpbmVkIGJ5IHlvdVxuICAgIC8vICh0aGUgXCJjb25zdHJ1Y3RvclwiIHByb3BlcnR5IGluIHlvdXIgYGV4dGVuZGAgZGVmaW5pdGlvbiksIG9yIGRlZmF1bHRlZFxuICAgIC8vIGJ5IHVzIHRvIHNpbXBseSBjYWxsIHRoZSBwYXJlbnQgY29uc3RydWN0b3IuXG4gICAgaWYgKHByb3RvUHJvcHMgJiYgXy5oYXMocHJvdG9Qcm9wcywgJ2NvbnN0cnVjdG9yJykpIHtcbiAgICAgIGNoaWxkID0gcHJvdG9Qcm9wcy5jb25zdHJ1Y3RvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hpbGQgPSBmdW5jdGlvbigpeyByZXR1cm4gcGFyZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH07XG4gICAgfVxuXG4gICAgLy8gQWRkIHN0YXRpYyBwcm9wZXJ0aWVzIHRvIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiwgaWYgc3VwcGxpZWQuXG4gICAgXy5leHRlbmQoY2hpbGQsIHBhcmVudCwgc3RhdGljUHJvcHMpO1xuXG4gICAgLy8gU2V0IHRoZSBwcm90b3R5cGUgY2hhaW4gdG8gaW5oZXJpdCBmcm9tIGBwYXJlbnRgLCB3aXRob3V0IGNhbGxpbmdcbiAgICAvLyBgcGFyZW50YCdzIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGFuZCBhZGQgdGhlIHByb3RvdHlwZSBwcm9wZXJ0aWVzLlxuICAgIGNoaWxkLnByb3RvdHlwZSA9IF8uY3JlYXRlKHBhcmVudC5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGNoaWxkLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGNoaWxkO1xuXG4gICAgLy8gU2V0IGEgY29udmVuaWVuY2UgcHJvcGVydHkgaW4gY2FzZSB0aGUgcGFyZW50J3MgcHJvdG90eXBlIGlzIG5lZWRlZFxuICAgIC8vIGxhdGVyLlxuICAgIGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7XG5cbiAgICByZXR1cm4gY2hpbGQ7XG4gIH07XG5cbiAgLy8gU2V0IHVwIGluaGVyaXRhbmNlIGZvciB0aGUgbW9kZWwsIGNvbGxlY3Rpb24sIHJvdXRlciwgdmlldyBhbmQgaGlzdG9yeS5cbiAgTW9kZWwuZXh0ZW5kID0gQ29sbGVjdGlvbi5leHRlbmQgPSBSb3V0ZXIuZXh0ZW5kID0gVmlldy5leHRlbmQgPSBIaXN0b3J5LmV4dGVuZCA9IGV4dGVuZDtcblxuICAvLyBUaHJvdyBhbiBlcnJvciB3aGVuIGEgVVJMIGlzIG5lZWRlZCwgYW5kIG5vbmUgaXMgc3VwcGxpZWQuXG4gIHZhciB1cmxFcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQSBcInVybFwiIHByb3BlcnR5IG9yIGZ1bmN0aW9uIG11c3QgYmUgc3BlY2lmaWVkJyk7XG4gIH07XG5cbiAgLy8gV3JhcCBhbiBvcHRpb25hbCBlcnJvciBjYWxsYmFjayB3aXRoIGEgZmFsbGJhY2sgZXJyb3IgZXZlbnQuXG4gIHZhciB3cmFwRXJyb3IgPSBmdW5jdGlvbihtb2RlbCwgb3B0aW9ucykge1xuICAgIHZhciBlcnJvciA9IG9wdGlvbnMuZXJyb3I7XG4gICAgb3B0aW9ucy5lcnJvciA9IGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgIGlmIChlcnJvcikgZXJyb3IuY2FsbChvcHRpb25zLmNvbnRleHQsIG1vZGVsLCByZXNwLCBvcHRpb25zKTtcbiAgICAgIG1vZGVsLnRyaWdnZXIoJ2Vycm9yJywgbW9kZWwsIHJlc3AsIG9wdGlvbnMpO1xuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIEJhY2tib25lO1xufSk7XG4iLCIvLyAgICAgVW5kZXJzY29yZS5qcyAxLjEwLjJcbi8vICAgICBodHRwczovL3VuZGVyc2NvcmVqcy5vcmdcbi8vICAgICAoYykgMjAwOS0yMDIwIEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4vLyAgICAgVW5kZXJzY29yZSBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cblxuLy8gQmFzZWxpbmUgc2V0dXBcbi8vIC0tLS0tLS0tLS0tLS0tXG5cbi8vIEVzdGFibGlzaCB0aGUgcm9vdCBvYmplY3QsIGB3aW5kb3dgIChgc2VsZmApIGluIHRoZSBicm93c2VyLCBgZ2xvYmFsYFxuLy8gb24gdGhlIHNlcnZlciwgb3IgYHRoaXNgIGluIHNvbWUgdmlydHVhbCBtYWNoaW5lcy4gV2UgdXNlIGBzZWxmYFxuLy8gaW5zdGVhZCBvZiBgd2luZG93YCBmb3IgYFdlYldvcmtlcmAgc3VwcG9ydC5cbnZhciByb290ID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZi5zZWxmID09PSBzZWxmICYmIHNlbGYgfHxcbiAgICAgICAgICB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbC5nbG9iYWwgPT09IGdsb2JhbCAmJiBnbG9iYWwgfHxcbiAgICAgICAgICBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpIHx8XG4gICAgICAgICAge307XG5cbi8vIFNhdmUgYnl0ZXMgaW4gdGhlIG1pbmlmaWVkIChidXQgbm90IGd6aXBwZWQpIHZlcnNpb246XG52YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSwgT2JqUHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xudmFyIFN5bWJvbFByb3RvID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgPyBTeW1ib2wucHJvdG90eXBlIDogbnVsbDtcblxuLy8gQ3JlYXRlIHF1aWNrIHJlZmVyZW5jZSB2YXJpYWJsZXMgZm9yIHNwZWVkIGFjY2VzcyB0byBjb3JlIHByb3RvdHlwZXMuXG52YXIgcHVzaCA9IEFycmF5UHJvdG8ucHVzaCxcbiAgICBzbGljZSA9IEFycmF5UHJvdG8uc2xpY2UsXG4gICAgdG9TdHJpbmcgPSBPYmpQcm90by50b1N0cmluZyxcbiAgICBoYXNPd25Qcm9wZXJ0eSA9IE9ialByb3RvLmhhc093blByb3BlcnR5O1xuXG4vLyBBbGwgKipFQ01BU2NyaXB0IDUqKiBuYXRpdmUgZnVuY3Rpb24gaW1wbGVtZW50YXRpb25zIHRoYXQgd2UgaG9wZSB0byB1c2Vcbi8vIGFyZSBkZWNsYXJlZCBoZXJlLlxudmFyIG5hdGl2ZUlzQXJyYXkgPSBBcnJheS5pc0FycmF5LFxuICAgIG5hdGl2ZUtleXMgPSBPYmplY3Qua2V5cyxcbiAgICBuYXRpdmVDcmVhdGUgPSBPYmplY3QuY3JlYXRlO1xuXG4vLyBDcmVhdGUgcmVmZXJlbmNlcyB0byB0aGVzZSBidWlsdGluIGZ1bmN0aW9ucyBiZWNhdXNlIHdlIG92ZXJyaWRlIHRoZW0uXG52YXIgX2lzTmFOID0gcm9vdC5pc05hTixcbiAgICBfaXNGaW5pdGUgPSByb290LmlzRmluaXRlO1xuXG4vLyBOYWtlZCBmdW5jdGlvbiByZWZlcmVuY2UgZm9yIHN1cnJvZ2F0ZS1wcm90b3R5cGUtc3dhcHBpbmcuXG52YXIgQ3RvciA9IGZ1bmN0aW9uKCl7fTtcblxuLy8gVGhlIFVuZGVyc2NvcmUgb2JqZWN0LiBBbGwgZXhwb3J0ZWQgZnVuY3Rpb25zIGJlbG93IGFyZSBhZGRlZCB0byBpdCBpbiB0aGVcbi8vIG1vZHVsZXMvaW5kZXgtYWxsLmpzIHVzaW5nIHRoZSBtaXhpbiBmdW5jdGlvbi5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF8ob2JqKSB7XG4gIGlmIChvYmogaW5zdGFuY2VvZiBfKSByZXR1cm4gb2JqO1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgXykpIHJldHVybiBuZXcgXyhvYmopO1xuICB0aGlzLl93cmFwcGVkID0gb2JqO1xufVxuXG4vLyBDdXJyZW50IHZlcnNpb24uXG5leHBvcnQgdmFyIFZFUlNJT04gPSBfLlZFUlNJT04gPSAnMS4xMC4yJztcblxuLy8gSW50ZXJuYWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGVmZmljaWVudCAoZm9yIGN1cnJlbnQgZW5naW5lcykgdmVyc2lvblxuLy8gb2YgdGhlIHBhc3NlZC1pbiBjYWxsYmFjaywgdG8gYmUgcmVwZWF0ZWRseSBhcHBsaWVkIGluIG90aGVyIFVuZGVyc2NvcmVcbi8vIGZ1bmN0aW9ucy5cbmZ1bmN0aW9uIG9wdGltaXplQ2IoZnVuYywgY29udGV4dCwgYXJnQ291bnQpIHtcbiAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgcmV0dXJuIGZ1bmM7XG4gIHN3aXRjaCAoYXJnQ291bnQgPT0gbnVsbCA/IDMgOiBhcmdDb3VudCkge1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIHZhbHVlKTtcbiAgICB9O1xuICAgIC8vIFRoZSAyLWFyZ3VtZW50IGNhc2UgaXMgb21pdHRlZCBiZWNhdXNlIHdl4oCZcmUgbm90IHVzaW5nIGl0LlxuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgIH07XG4gICAgY2FzZSA0OiByZXR1cm4gZnVuY3Rpb24oYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCBhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuYy5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG4vLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiB0byBnZW5lcmF0ZSBjYWxsYmFja3MgdGhhdCBjYW4gYmUgYXBwbGllZCB0byBlYWNoXG4vLyBlbGVtZW50IGluIGEgY29sbGVjdGlvbiwgcmV0dXJuaW5nIHRoZSBkZXNpcmVkIHJlc3VsdCDigJQgZWl0aGVyIGBpZGVudGl0eWAsXG4vLyBhbiBhcmJpdHJhcnkgY2FsbGJhY2ssIGEgcHJvcGVydHkgbWF0Y2hlciwgb3IgYSBwcm9wZXJ0eSBhY2Nlc3Nvci5cbmZ1bmN0aW9uIGJhc2VJdGVyYXRlZSh2YWx1ZSwgY29udGV4dCwgYXJnQ291bnQpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiBpZGVudGl0eTtcbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSByZXR1cm4gb3B0aW1pemVDYih2YWx1ZSwgY29udGV4dCwgYXJnQ291bnQpO1xuICBpZiAoaXNPYmplY3QodmFsdWUpICYmICFpc0FycmF5KHZhbHVlKSkgcmV0dXJuIG1hdGNoZXIodmFsdWUpO1xuICByZXR1cm4gcHJvcGVydHkodmFsdWUpO1xufVxuXG4vLyBFeHRlcm5hbCB3cmFwcGVyIGZvciBvdXIgY2FsbGJhY2sgZ2VuZXJhdG9yLiBVc2VycyBtYXkgY3VzdG9taXplXG4vLyBgXy5pdGVyYXRlZWAgaWYgdGhleSB3YW50IGFkZGl0aW9uYWwgcHJlZGljYXRlL2l0ZXJhdGVlIHNob3J0aGFuZCBzdHlsZXMuXG4vLyBUaGlzIGFic3RyYWN0aW9uIGhpZGVzIHRoZSBpbnRlcm5hbC1vbmx5IGFyZ0NvdW50IGFyZ3VtZW50LlxuXy5pdGVyYXRlZSA9IGl0ZXJhdGVlO1xuZXhwb3J0IGZ1bmN0aW9uIGl0ZXJhdGVlKHZhbHVlLCBjb250ZXh0KSB7XG4gIHJldHVybiBiYXNlSXRlcmF0ZWUodmFsdWUsIGNvbnRleHQsIEluZmluaXR5KTtcbn1cblxuLy8gVGhlIGZ1bmN0aW9uIHdlIGFjdHVhbGx5IGNhbGwgaW50ZXJuYWxseS4gSXQgaW52b2tlcyBfLml0ZXJhdGVlIGlmXG4vLyBvdmVycmlkZGVuLCBvdGhlcndpc2UgYmFzZUl0ZXJhdGVlLlxuZnVuY3Rpb24gY2IodmFsdWUsIGNvbnRleHQsIGFyZ0NvdW50KSB7XG4gIGlmIChfLml0ZXJhdGVlICE9PSBpdGVyYXRlZSkgcmV0dXJuIF8uaXRlcmF0ZWUodmFsdWUsIGNvbnRleHQpO1xuICByZXR1cm4gYmFzZUl0ZXJhdGVlKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCk7XG59XG5cbi8vIFNvbWUgZnVuY3Rpb25zIHRha2UgYSB2YXJpYWJsZSBudW1iZXIgb2YgYXJndW1lbnRzLCBvciBhIGZldyBleHBlY3RlZFxuLy8gYXJndW1lbnRzIGF0IHRoZSBiZWdpbm5pbmcgYW5kIHRoZW4gYSB2YXJpYWJsZSBudW1iZXIgb2YgdmFsdWVzIHRvIG9wZXJhdGVcbi8vIG9uLiBUaGlzIGhlbHBlciBhY2N1bXVsYXRlcyBhbGwgcmVtYWluaW5nIGFyZ3VtZW50cyBwYXN0IHRoZSBmdW5jdGlvbuKAmXNcbi8vIGFyZ3VtZW50IGxlbmd0aCAob3IgYW4gZXhwbGljaXQgYHN0YXJ0SW5kZXhgKSwgaW50byBhbiBhcnJheSB0aGF0IGJlY29tZXNcbi8vIHRoZSBsYXN0IGFyZ3VtZW50LiBTaW1pbGFyIHRvIEVTNuKAmXMgXCJyZXN0IHBhcmFtZXRlclwiLlxuZXhwb3J0IGZ1bmN0aW9uIHJlc3RBcmd1bWVudHMoZnVuYywgc3RhcnRJbmRleCkge1xuICBzdGFydEluZGV4ID0gc3RhcnRJbmRleCA9PSBudWxsID8gZnVuYy5sZW5ndGggLSAxIDogK3N0YXJ0SW5kZXg7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoYXJndW1lbnRzLmxlbmd0aCAtIHN0YXJ0SW5kZXgsIDApLFxuICAgICAgICByZXN0ID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgaW5kZXggPSAwO1xuICAgIGZvciAoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgcmVzdFtpbmRleF0gPSBhcmd1bWVudHNbaW5kZXggKyBzdGFydEluZGV4XTtcbiAgICB9XG4gICAgc3dpdGNoIChzdGFydEluZGV4KSB7XG4gICAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpcywgcmVzdCk7XG4gICAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpcywgYXJndW1lbnRzWzBdLCByZXN0KTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzLCBhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSwgcmVzdCk7XG4gICAgfVxuICAgIHZhciBhcmdzID0gQXJyYXkoc3RhcnRJbmRleCArIDEpO1xuICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHN0YXJ0SW5kZXg7IGluZGV4KyspIHtcbiAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICB9XG4gICAgYXJnc1tzdGFydEluZGV4XSA9IHJlc3Q7XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gIH07XG59XG5cbi8vIEFuIGludGVybmFsIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBhIG5ldyBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIGFub3RoZXIuXG5mdW5jdGlvbiBiYXNlQ3JlYXRlKHByb3RvdHlwZSkge1xuICBpZiAoIWlzT2JqZWN0KHByb3RvdHlwZSkpIHJldHVybiB7fTtcbiAgaWYgKG5hdGl2ZUNyZWF0ZSkgcmV0dXJuIG5hdGl2ZUNyZWF0ZShwcm90b3R5cGUpO1xuICBDdG9yLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgdmFyIHJlc3VsdCA9IG5ldyBDdG9yO1xuICBDdG9yLnByb3RvdHlwZSA9IG51bGw7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHNoYWxsb3dQcm9wZXJ0eShrZXkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT0gbnVsbCA/IHZvaWQgMCA6IG9ialtrZXldO1xuICB9O1xufVxuXG5mdW5jdGlvbiBfaGFzKG9iaiwgcGF0aCkge1xuICByZXR1cm4gb2JqICE9IG51bGwgJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHBhdGgpO1xufVxuXG5mdW5jdGlvbiBkZWVwR2V0KG9iaiwgcGF0aCkge1xuICB2YXIgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgb2JqID0gb2JqW3BhdGhbaV1dO1xuICB9XG4gIHJldHVybiBsZW5ndGggPyBvYmogOiB2b2lkIDA7XG59XG5cbi8vIEhlbHBlciBmb3IgY29sbGVjdGlvbiBtZXRob2RzIHRvIGRldGVybWluZSB3aGV0aGVyIGEgY29sbGVjdGlvblxuLy8gc2hvdWxkIGJlIGl0ZXJhdGVkIGFzIGFuIGFycmF5IG9yIGFzIGFuIG9iamVjdC5cbi8vIFJlbGF0ZWQ6IGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy10b2xlbmd0aFxuLy8gQXZvaWRzIGEgdmVyeSBuYXN0eSBpT1MgOCBKSVQgYnVnIG9uIEFSTS02NC4gIzIwOTRcbnZhciBNQVhfQVJSQVlfSU5ERVggPSBNYXRoLnBvdygyLCA1MykgLSAxO1xudmFyIGdldExlbmd0aCA9IHNoYWxsb3dQcm9wZXJ0eSgnbGVuZ3RoJyk7XG5mdW5jdGlvbiBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSB7XG4gIHZhciBsZW5ndGggPSBnZXRMZW5ndGgoY29sbGVjdGlvbik7XG4gIHJldHVybiB0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInICYmIGxlbmd0aCA+PSAwICYmIGxlbmd0aCA8PSBNQVhfQVJSQVlfSU5ERVg7XG59XG5cbi8vIENvbGxlY3Rpb24gRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBUaGUgY29ybmVyc3RvbmUsIGFuIGBlYWNoYCBpbXBsZW1lbnRhdGlvbiwgYWthIGBmb3JFYWNoYC5cbi8vIEhhbmRsZXMgcmF3IG9iamVjdHMgaW4gYWRkaXRpb24gdG8gYXJyYXktbGlrZXMuIFRyZWF0cyBhbGxcbi8vIHNwYXJzZSBhcnJheS1saWtlcyBhcyBpZiB0aGV5IHdlcmUgZGVuc2UuXG5leHBvcnQgZnVuY3Rpb24gZWFjaChvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCk7XG4gIHZhciBpLCBsZW5ndGg7XG4gIGlmIChpc0FycmF5TGlrZShvYmopKSB7XG4gICAgZm9yIChpID0gMCwgbGVuZ3RoID0gb2JqLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpdGVyYXRlZShvYmpbaV0sIGksIG9iaik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBfa2V5cyA9IGtleXMob2JqKTtcbiAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBfa2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaXRlcmF0ZWUob2JqW19rZXlzW2ldXSwgX2tleXNbaV0sIG9iaik7XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG5leHBvcnQgeyBlYWNoIGFzIGZvckVhY2ggfTtcblxuLy8gUmV0dXJuIHRoZSByZXN1bHRzIG9mIGFwcGx5aW5nIHRoZSBpdGVyYXRlZSB0byBlYWNoIGVsZW1lbnQuXG5leHBvcnQgZnVuY3Rpb24gbWFwKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gIHZhciBfa2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIGtleXMob2JqKSxcbiAgICAgIGxlbmd0aCA9IChfa2V5cyB8fCBvYmopLmxlbmd0aCxcbiAgICAgIHJlc3VsdHMgPSBBcnJheShsZW5ndGgpO1xuICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgdmFyIGN1cnJlbnRLZXkgPSBfa2V5cyA/IF9rZXlzW2luZGV4XSA6IGluZGV4O1xuICAgIHJlc3VsdHNbaW5kZXhdID0gaXRlcmF0ZWUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopO1xuICB9XG4gIHJldHVybiByZXN1bHRzO1xufVxuZXhwb3J0IHsgbWFwIGFzIGNvbGxlY3QgfTtcblxuLy8gQ3JlYXRlIGEgcmVkdWNpbmcgZnVuY3Rpb24gaXRlcmF0aW5nIGxlZnQgb3IgcmlnaHQuXG5mdW5jdGlvbiBjcmVhdGVSZWR1Y2UoZGlyKSB7XG4gIC8vIFdyYXAgY29kZSB0aGF0IHJlYXNzaWducyBhcmd1bWVudCB2YXJpYWJsZXMgaW4gYSBzZXBhcmF0ZSBmdW5jdGlvbiB0aGFuXG4gIC8vIHRoZSBvbmUgdGhhdCBhY2Nlc3NlcyBgYXJndW1lbnRzLmxlbmd0aGAgdG8gYXZvaWQgYSBwZXJmIGhpdC4gKCMxOTkxKVxuICB2YXIgcmVkdWNlciA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIG1lbW8sIGluaXRpYWwpIHtcbiAgICB2YXIgX2tleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBrZXlzKG9iaiksXG4gICAgICAgIGxlbmd0aCA9IChfa2V5cyB8fCBvYmopLmxlbmd0aCxcbiAgICAgICAgaW5kZXggPSBkaXIgPiAwID8gMCA6IGxlbmd0aCAtIDE7XG4gICAgaWYgKCFpbml0aWFsKSB7XG4gICAgICBtZW1vID0gb2JqW19rZXlzID8gX2tleXNbaW5kZXhdIDogaW5kZXhdO1xuICAgICAgaW5kZXggKz0gZGlyO1xuICAgIH1cbiAgICBmb3IgKDsgaW5kZXggPj0gMCAmJiBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gZGlyKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IF9rZXlzID8gX2tleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgICBtZW1vID0gaXRlcmF0ZWUobWVtbywgb2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopO1xuICAgIH1cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcblxuICByZXR1cm4gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgbWVtbywgY29udGV4dCkge1xuICAgIHZhciBpbml0aWFsID0gYXJndW1lbnRzLmxlbmd0aCA+PSAzO1xuICAgIHJldHVybiByZWR1Y2VyKG9iaiwgb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCwgNCksIG1lbW8sIGluaXRpYWwpO1xuICB9O1xufVxuXG4vLyAqKlJlZHVjZSoqIGJ1aWxkcyB1cCBhIHNpbmdsZSByZXN1bHQgZnJvbSBhIGxpc3Qgb2YgdmFsdWVzLCBha2EgYGluamVjdGAsXG4vLyBvciBgZm9sZGxgLlxuZXhwb3J0IHZhciByZWR1Y2UgPSBjcmVhdGVSZWR1Y2UoMSk7XG5leHBvcnQgeyByZWR1Y2UgYXMgZm9sZGwsIHJlZHVjZSBhcyBpbmplY3QgfTtcblxuLy8gVGhlIHJpZ2h0LWFzc29jaWF0aXZlIHZlcnNpb24gb2YgcmVkdWNlLCBhbHNvIGtub3duIGFzIGBmb2xkcmAuXG5leHBvcnQgdmFyIHJlZHVjZVJpZ2h0ID0gY3JlYXRlUmVkdWNlKC0xKTtcbmV4cG9ydCB7IHJlZHVjZVJpZ2h0IGFzIGZvbGRyIH07XG5cbi8vIFJldHVybiB0aGUgZmlyc3QgdmFsdWUgd2hpY2ggcGFzc2VzIGEgdHJ1dGggdGVzdC5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gIHZhciBrZXlGaW5kZXIgPSBpc0FycmF5TGlrZShvYmopID8gZmluZEluZGV4IDogZmluZEtleTtcbiAgdmFyIGtleSA9IGtleUZpbmRlcihvYmosIHByZWRpY2F0ZSwgY29udGV4dCk7XG4gIGlmIChrZXkgIT09IHZvaWQgMCAmJiBrZXkgIT09IC0xKSByZXR1cm4gb2JqW2tleV07XG59XG5leHBvcnQgeyBmaW5kIGFzIGRldGVjdCB9O1xuXG4vLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyB0aGF0IHBhc3MgYSB0cnV0aCB0ZXN0LlxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICBlYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGxpc3QpKSByZXN1bHRzLnB1c2godmFsdWUpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5leHBvcnQgeyBmaWx0ZXIgYXMgc2VsZWN0IH07XG5cbi8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGZvciB3aGljaCBhIHRydXRoIHRlc3QgZmFpbHMuXG5leHBvcnQgZnVuY3Rpb24gcmVqZWN0KG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gIHJldHVybiBmaWx0ZXIob2JqLCBuZWdhdGUoY2IocHJlZGljYXRlKSksIGNvbnRleHQpO1xufVxuXG4vLyBEZXRlcm1pbmUgd2hldGhlciBhbGwgb2YgdGhlIGVsZW1lbnRzIG1hdGNoIGEgdHJ1dGggdGVzdC5cbmV4cG9ydCBmdW5jdGlvbiBldmVyeShvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICB2YXIgX2tleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBrZXlzKG9iaiksXG4gICAgICBsZW5ndGggPSAoX2tleXMgfHwgb2JqKS5sZW5ndGg7XG4gIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICB2YXIgY3VycmVudEtleSA9IF9rZXlzID8gX2tleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgaWYgKCFwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgeyBldmVyeSBhcyBhbGwgfTtcblxuLy8gRGV0ZXJtaW5lIGlmIGF0IGxlYXN0IG9uZSBlbGVtZW50IGluIHRoZSBvYmplY3QgbWF0Y2hlcyBhIHRydXRoIHRlc3QuXG5leHBvcnQgZnVuY3Rpb24gc29tZShvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICB2YXIgX2tleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBrZXlzKG9iaiksXG4gICAgICBsZW5ndGggPSAoX2tleXMgfHwgb2JqKS5sZW5ndGg7XG4gIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICB2YXIgY3VycmVudEtleSA9IF9rZXlzID8gX2tleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgaWYgKHByZWRpY2F0ZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaikpIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCB7IHNvbWUgYXMgYW55IH07XG5cbi8vIERldGVybWluZSBpZiB0aGUgYXJyYXkgb3Igb2JqZWN0IGNvbnRhaW5zIGEgZ2l2ZW4gaXRlbSAodXNpbmcgYD09PWApLlxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zKG9iaiwgaXRlbSwgZnJvbUluZGV4LCBndWFyZCkge1xuICBpZiAoIWlzQXJyYXlMaWtlKG9iaikpIG9iaiA9IHZhbHVlcyhvYmopO1xuICBpZiAodHlwZW9mIGZyb21JbmRleCAhPSAnbnVtYmVyJyB8fCBndWFyZCkgZnJvbUluZGV4ID0gMDtcbiAgcmV0dXJuIGluZGV4T2Yob2JqLCBpdGVtLCBmcm9tSW5kZXgpID49IDA7XG59XG5leHBvcnQgeyBjb250YWlucyBhcyBpbmNsdWRlcywgY29udGFpbnMgYXMgaW5jbHVkZSB9O1xuXG4vLyBJbnZva2UgYSBtZXRob2QgKHdpdGggYXJndW1lbnRzKSBvbiBldmVyeSBpdGVtIGluIGEgY29sbGVjdGlvbi5cbmV4cG9ydCB2YXIgaW52b2tlID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihvYmosIHBhdGgsIGFyZ3MpIHtcbiAgdmFyIGNvbnRleHRQYXRoLCBmdW5jO1xuICBpZiAoaXNGdW5jdGlvbihwYXRoKSkge1xuICAgIGZ1bmMgPSBwYXRoO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkocGF0aCkpIHtcbiAgICBjb250ZXh0UGF0aCA9IHBhdGguc2xpY2UoMCwgLTEpO1xuICAgIHBhdGggPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIG1hcChvYmosIGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICB2YXIgbWV0aG9kID0gZnVuYztcbiAgICBpZiAoIW1ldGhvZCkge1xuICAgICAgaWYgKGNvbnRleHRQYXRoICYmIGNvbnRleHRQYXRoLmxlbmd0aCkge1xuICAgICAgICBjb250ZXh0ID0gZGVlcEdldChjb250ZXh0LCBjb250ZXh0UGF0aCk7XG4gICAgICB9XG4gICAgICBpZiAoY29udGV4dCA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgICAgbWV0aG9kID0gY29udGV4dFtwYXRoXTtcbiAgICB9XG4gICAgcmV0dXJuIG1ldGhvZCA9PSBudWxsID8gbWV0aG9kIDogbWV0aG9kLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICB9KTtcbn0pO1xuXG4vLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBtYXBgOiBmZXRjaGluZyBhIHByb3BlcnR5LlxuZXhwb3J0IGZ1bmN0aW9uIHBsdWNrKG9iaiwga2V5KSB7XG4gIHJldHVybiBtYXAob2JqLCBwcm9wZXJ0eShrZXkpKTtcbn1cblxuLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgZmlsdGVyYDogc2VsZWN0aW5nIG9ubHkgb2JqZWN0c1xuLy8gY29udGFpbmluZyBzcGVjaWZpYyBga2V5OnZhbHVlYCBwYWlycy5cbmV4cG9ydCBmdW5jdGlvbiB3aGVyZShvYmosIGF0dHJzKSB7XG4gIHJldHVybiBmaWx0ZXIob2JqLCBtYXRjaGVyKGF0dHJzKSk7XG59XG5cbi8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYGZpbmRgOiBnZXR0aW5nIHRoZSBmaXJzdCBvYmplY3Rcbi8vIGNvbnRhaW5pbmcgc3BlY2lmaWMgYGtleTp2YWx1ZWAgcGFpcnMuXG5leHBvcnQgZnVuY3Rpb24gZmluZFdoZXJlKG9iaiwgYXR0cnMpIHtcbiAgcmV0dXJuIGZpbmQob2JqLCBtYXRjaGVyKGF0dHJzKSk7XG59XG5cbi8vIFJldHVybiB0aGUgbWF4aW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbmV4cG9ydCBmdW5jdGlvbiBtYXgob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICB2YXIgcmVzdWx0ID0gLUluZmluaXR5LCBsYXN0Q29tcHV0ZWQgPSAtSW5maW5pdHksXG4gICAgICB2YWx1ZSwgY29tcHV0ZWQ7XG4gIGlmIChpdGVyYXRlZSA9PSBudWxsIHx8IHR5cGVvZiBpdGVyYXRlZSA9PSAnbnVtYmVyJyAmJiB0eXBlb2Ygb2JqWzBdICE9ICdvYmplY3QnICYmIG9iaiAhPSBudWxsKSB7XG4gICAgb2JqID0gaXNBcnJheUxpa2Uob2JqKSA/IG9iaiA6IHZhbHVlcyhvYmopO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbHVlID0gb2JqW2ldO1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdmFsdWUgPiByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIGVhY2gob2JqLCBmdW5jdGlvbih2LCBpbmRleCwgbGlzdCkge1xuICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2LCBpbmRleCwgbGlzdCk7XG4gICAgICBpZiAoY29tcHV0ZWQgPiBsYXN0Q29tcHV0ZWQgfHwgY29tcHV0ZWQgPT09IC1JbmZpbml0eSAmJiByZXN1bHQgPT09IC1JbmZpbml0eSkge1xuICAgICAgICByZXN1bHQgPSB2O1xuICAgICAgICBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBSZXR1cm4gdGhlIG1pbmltdW0gZWxlbWVudCAob3IgZWxlbWVudC1iYXNlZCBjb21wdXRhdGlvbikuXG5leHBvcnQgZnVuY3Rpb24gbWluKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgdmFyIHJlc3VsdCA9IEluZmluaXR5LCBsYXN0Q29tcHV0ZWQgPSBJbmZpbml0eSxcbiAgICAgIHZhbHVlLCBjb21wdXRlZDtcbiAgaWYgKGl0ZXJhdGVlID09IG51bGwgfHwgdHlwZW9mIGl0ZXJhdGVlID09ICdudW1iZXInICYmIHR5cGVvZiBvYmpbMF0gIT0gJ29iamVjdCcgJiYgb2JqICE9IG51bGwpIHtcbiAgICBvYmogPSBpc0FycmF5TGlrZShvYmopID8gb2JqIDogdmFsdWVzKG9iaik7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWUgPSBvYmpbaV07XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSA8IHJlc3VsdCkge1xuICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHYsIGluZGV4LCBsaXN0KSB7XG4gICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHYsIGluZGV4LCBsaXN0KTtcbiAgICAgIGlmIChjb21wdXRlZCA8IGxhc3RDb21wdXRlZCB8fCBjb21wdXRlZCA9PT0gSW5maW5pdHkgJiYgcmVzdWx0ID09PSBJbmZpbml0eSkge1xuICAgICAgICByZXN1bHQgPSB2O1xuICAgICAgICBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBTaHVmZmxlIGEgY29sbGVjdGlvbi5cbmV4cG9ydCBmdW5jdGlvbiBzaHVmZmxlKG9iaikge1xuICByZXR1cm4gc2FtcGxlKG9iaiwgSW5maW5pdHkpO1xufVxuXG4vLyBTYW1wbGUgKipuKiogcmFuZG9tIHZhbHVlcyBmcm9tIGEgY29sbGVjdGlvbiB1c2luZyB0aGUgbW9kZXJuIHZlcnNpb24gb2YgdGhlXG4vLyBbRmlzaGVyLVlhdGVzIHNodWZmbGVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlcuKAk1lhdGVzX3NodWZmbGUpLlxuLy8gSWYgKipuKiogaXMgbm90IHNwZWNpZmllZCwgcmV0dXJucyBhIHNpbmdsZSByYW5kb20gZWxlbWVudC5cbi8vIFRoZSBpbnRlcm5hbCBgZ3VhcmRgIGFyZ3VtZW50IGFsbG93cyBpdCB0byB3b3JrIHdpdGggYG1hcGAuXG5leHBvcnQgZnVuY3Rpb24gc2FtcGxlKG9iaiwgbiwgZ3VhcmQpIHtcbiAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkge1xuICAgIGlmICghaXNBcnJheUxpa2Uob2JqKSkgb2JqID0gdmFsdWVzKG9iaik7XG4gICAgcmV0dXJuIG9ialtyYW5kb20ob2JqLmxlbmd0aCAtIDEpXTtcbiAgfVxuICB2YXIgc2FtcGxlID0gaXNBcnJheUxpa2Uob2JqKSA/IGNsb25lKG9iaikgOiB2YWx1ZXMob2JqKTtcbiAgdmFyIGxlbmd0aCA9IGdldExlbmd0aChzYW1wbGUpO1xuICBuID0gTWF0aC5tYXgoTWF0aC5taW4obiwgbGVuZ3RoKSwgMCk7XG4gIHZhciBsYXN0ID0gbGVuZ3RoIC0gMTtcbiAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IG47IGluZGV4KyspIHtcbiAgICB2YXIgcmFuZCA9IHJhbmRvbShpbmRleCwgbGFzdCk7XG4gICAgdmFyIHRlbXAgPSBzYW1wbGVbaW5kZXhdO1xuICAgIHNhbXBsZVtpbmRleF0gPSBzYW1wbGVbcmFuZF07XG4gICAgc2FtcGxlW3JhbmRdID0gdGVtcDtcbiAgfVxuICByZXR1cm4gc2FtcGxlLnNsaWNlKDAsIG4pO1xufVxuXG4vLyBTb3J0IHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24gcHJvZHVjZWQgYnkgYW4gaXRlcmF0ZWUuXG5leHBvcnQgZnVuY3Rpb24gc29ydEJ5KG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgdmFyIGluZGV4ID0gMDtcbiAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gIHJldHVybiBwbHVjayhtYXAob2JqLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBsaXN0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGluZGV4OiBpbmRleCsrLFxuICAgICAgY3JpdGVyaWE6IGl0ZXJhdGVlKHZhbHVlLCBrZXksIGxpc3QpXG4gICAgfTtcbiAgfSkuc29ydChmdW5jdGlvbihsZWZ0LCByaWdodCkge1xuICAgIHZhciBhID0gbGVmdC5jcml0ZXJpYTtcbiAgICB2YXIgYiA9IHJpZ2h0LmNyaXRlcmlhO1xuICAgIGlmIChhICE9PSBiKSB7XG4gICAgICBpZiAoYSA+IGIgfHwgYSA9PT0gdm9pZCAwKSByZXR1cm4gMTtcbiAgICAgIGlmIChhIDwgYiB8fCBiID09PSB2b2lkIDApIHJldHVybiAtMTtcbiAgICB9XG4gICAgcmV0dXJuIGxlZnQuaW5kZXggLSByaWdodC5pbmRleDtcbiAgfSksICd2YWx1ZScpO1xufVxuXG4vLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiB1c2VkIGZvciBhZ2dyZWdhdGUgXCJncm91cCBieVwiIG9wZXJhdGlvbnMuXG5mdW5jdGlvbiBncm91cChiZWhhdmlvciwgcGFydGl0aW9uKSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdCA9IHBhcnRpdGlvbiA/IFtbXSwgW11dIDoge307XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xuICAgICAgdmFyIGtleSA9IGl0ZXJhdGVlKHZhbHVlLCBpbmRleCwgb2JqKTtcbiAgICAgIGJlaGF2aW9yKHJlc3VsdCwgdmFsdWUsIGtleSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cblxuLy8gR3JvdXBzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24uIFBhc3MgZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZVxuLy8gdG8gZ3JvdXAgYnksIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBjcml0ZXJpb24uXG5leHBvcnQgdmFyIGdyb3VwQnkgPSBncm91cChmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgaWYgKF9oYXMocmVzdWx0LCBrZXkpKSByZXN1bHRba2V5XS5wdXNoKHZhbHVlKTsgZWxzZSByZXN1bHRba2V5XSA9IFt2YWx1ZV07XG59KTtcblxuLy8gSW5kZXhlcyB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uLCBzaW1pbGFyIHRvIGBncm91cEJ5YCwgYnV0IGZvclxuLy8gd2hlbiB5b3Uga25vdyB0aGF0IHlvdXIgaW5kZXggdmFsdWVzIHdpbGwgYmUgdW5pcXVlLlxuZXhwb3J0IHZhciBpbmRleEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gIHJlc3VsdFtrZXldID0gdmFsdWU7XG59KTtcblxuLy8gQ291bnRzIGluc3RhbmNlcyBvZiBhbiBvYmplY3QgdGhhdCBncm91cCBieSBhIGNlcnRhaW4gY3JpdGVyaW9uLiBQYXNzXG4vLyBlaXRoZXIgYSBzdHJpbmcgYXR0cmlidXRlIHRvIGNvdW50IGJ5LCBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGVcbi8vIGNyaXRlcmlvbi5cbmV4cG9ydCB2YXIgY291bnRCeSA9IGdyb3VwKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICBpZiAoX2hhcyhyZXN1bHQsIGtleSkpIHJlc3VsdFtrZXldKys7IGVsc2UgcmVzdWx0W2tleV0gPSAxO1xufSk7XG5cbnZhciByZVN0clN5bWJvbCA9IC9bXlxcdWQ4MDAtXFx1ZGZmZl18W1xcdWQ4MDAtXFx1ZGJmZl1bXFx1ZGMwMC1cXHVkZmZmXXxbXFx1ZDgwMC1cXHVkZmZmXS9nO1xuLy8gU2FmZWx5IGNyZWF0ZSBhIHJlYWwsIGxpdmUgYXJyYXkgZnJvbSBhbnl0aGluZyBpdGVyYWJsZS5cbmV4cG9ydCBmdW5jdGlvbiB0b0FycmF5KG9iaikge1xuICBpZiAoIW9iaikgcmV0dXJuIFtdO1xuICBpZiAoaXNBcnJheShvYmopKSByZXR1cm4gc2xpY2UuY2FsbChvYmopO1xuICBpZiAoaXNTdHJpbmcob2JqKSkge1xuICAgIC8vIEtlZXAgc3Vycm9nYXRlIHBhaXIgY2hhcmFjdGVycyB0b2dldGhlclxuICAgIHJldHVybiBvYmoubWF0Y2gocmVTdHJTeW1ib2wpO1xuICB9XG4gIGlmIChpc0FycmF5TGlrZShvYmopKSByZXR1cm4gbWFwKG9iaiwgaWRlbnRpdHkpO1xuICByZXR1cm4gdmFsdWVzKG9iaik7XG59XG5cbi8vIFJldHVybiB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGFuIG9iamVjdC5cbmV4cG9ydCBmdW5jdGlvbiBzaXplKG9iaikge1xuICBpZiAob2JqID09IG51bGwpIHJldHVybiAwO1xuICByZXR1cm4gaXNBcnJheUxpa2Uob2JqKSA/IG9iai5sZW5ndGggOiBrZXlzKG9iaikubGVuZ3RoO1xufVxuXG4vLyBTcGxpdCBhIGNvbGxlY3Rpb24gaW50byB0d28gYXJyYXlzOiBvbmUgd2hvc2UgZWxlbWVudHMgYWxsIHNhdGlzZnkgdGhlIGdpdmVuXG4vLyBwcmVkaWNhdGUsIGFuZCBvbmUgd2hvc2UgZWxlbWVudHMgYWxsIGRvIG5vdCBzYXRpc2Z5IHRoZSBwcmVkaWNhdGUuXG5leHBvcnQgdmFyIHBhcnRpdGlvbiA9IGdyb3VwKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIHBhc3MpIHtcbiAgcmVzdWx0W3Bhc3MgPyAwIDogMV0ucHVzaCh2YWx1ZSk7XG59LCB0cnVlKTtcblxuLy8gQXJyYXkgRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS1cblxuLy8gR2V0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGFuIGFycmF5LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIHRoZSBmaXJzdCBOXG4vLyB2YWx1ZXMgaW4gdGhlIGFycmF5LiBUaGUgKipndWFyZCoqIGNoZWNrIGFsbG93cyBpdCB0byB3b3JrIHdpdGggYG1hcGAuXG5leHBvcnQgZnVuY3Rpb24gZmlyc3QoYXJyYXksIG4sIGd1YXJkKSB7XG4gIGlmIChhcnJheSA9PSBudWxsIHx8IGFycmF5Lmxlbmd0aCA8IDEpIHJldHVybiBuID09IG51bGwgPyB2b2lkIDAgOiBbXTtcbiAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkgcmV0dXJuIGFycmF5WzBdO1xuICByZXR1cm4gaW5pdGlhbChhcnJheSwgYXJyYXkubGVuZ3RoIC0gbik7XG59XG5leHBvcnQgeyBmaXJzdCBhcyBoZWFkLCBmaXJzdCBhcyB0YWtlIH07XG5cbi8vIFJldHVybnMgZXZlcnl0aGluZyBidXQgdGhlIGxhc3QgZW50cnkgb2YgdGhlIGFycmF5LiBFc3BlY2lhbGx5IHVzZWZ1bCBvblxuLy8gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gYWxsIHRoZSB2YWx1ZXMgaW5cbi8vIHRoZSBhcnJheSwgZXhjbHVkaW5nIHRoZSBsYXN0IE4uXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIDAsIE1hdGgubWF4KDAsIGFycmF5Lmxlbmd0aCAtIChuID09IG51bGwgfHwgZ3VhcmQgPyAxIDogbikpKTtcbn1cblxuLy8gR2V0IHRoZSBsYXN0IGVsZW1lbnQgb2YgYW4gYXJyYXkuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gdGhlIGxhc3QgTlxuLy8gdmFsdWVzIGluIHRoZSBhcnJheS5cbmV4cG9ydCBmdW5jdGlvbiBsYXN0KGFycmF5LCBuLCBndWFyZCkge1xuICBpZiAoYXJyYXkgPT0gbnVsbCB8fCBhcnJheS5sZW5ndGggPCAxKSByZXR1cm4gbiA9PSBudWxsID8gdm9pZCAwIDogW107XG4gIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbiAgcmV0dXJuIHJlc3QoYXJyYXksIE1hdGgubWF4KDAsIGFycmF5Lmxlbmd0aCAtIG4pKTtcbn1cblxuLy8gUmV0dXJucyBldmVyeXRoaW5nIGJ1dCB0aGUgZmlyc3QgZW50cnkgb2YgdGhlIGFycmF5LiBFc3BlY2lhbGx5IHVzZWZ1bCBvblxuLy8gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgYW4gKipuKiogd2lsbCByZXR1cm4gdGhlIHJlc3QgTiB2YWx1ZXMgaW4gdGhlXG4vLyBhcnJheS5cbmV4cG9ydCBmdW5jdGlvbiByZXN0KGFycmF5LCBuLCBndWFyZCkge1xuICByZXR1cm4gc2xpY2UuY2FsbChhcnJheSwgbiA9PSBudWxsIHx8IGd1YXJkID8gMSA6IG4pO1xufVxuZXhwb3J0IHsgcmVzdCBhcyB0YWlsLCByZXN0IGFzIGRyb3AgfTtcblxuLy8gVHJpbSBvdXQgYWxsIGZhbHN5IHZhbHVlcyBmcm9tIGFuIGFycmF5LlxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhY3QoYXJyYXkpIHtcbiAgcmV0dXJuIGZpbHRlcihhcnJheSwgQm9vbGVhbik7XG59XG5cbi8vIEludGVybmFsIGltcGxlbWVudGF0aW9uIG9mIGEgcmVjdXJzaXZlIGBmbGF0dGVuYCBmdW5jdGlvbi5cbmZ1bmN0aW9uIF9mbGF0dGVuKGlucHV0LCBzaGFsbG93LCBzdHJpY3QsIG91dHB1dCkge1xuICBvdXRwdXQgPSBvdXRwdXQgfHwgW107XG4gIHZhciBpZHggPSBvdXRwdXQubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGlucHV0KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHZhbHVlID0gaW5wdXRbaV07XG4gICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJiAoaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpKSkge1xuICAgICAgLy8gRmxhdHRlbiBjdXJyZW50IGxldmVsIG9mIGFycmF5IG9yIGFyZ3VtZW50cyBvYmplY3QuXG4gICAgICBpZiAoc2hhbGxvdykge1xuICAgICAgICB2YXIgaiA9IDAsIGxlbiA9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGogPCBsZW4pIG91dHB1dFtpZHgrK10gPSB2YWx1ZVtqKytdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2ZsYXR0ZW4odmFsdWUsIHNoYWxsb3csIHN0cmljdCwgb3V0cHV0KTtcbiAgICAgICAgaWR4ID0gb3V0cHV0Lmxlbmd0aDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFzdHJpY3QpIHtcbiAgICAgIG91dHB1dFtpZHgrK10gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuLy8gRmxhdHRlbiBvdXQgYW4gYXJyYXksIGVpdGhlciByZWN1cnNpdmVseSAoYnkgZGVmYXVsdCksIG9yIGp1c3Qgb25lIGxldmVsLlxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW4oYXJyYXksIHNoYWxsb3cpIHtcbiAgcmV0dXJuIF9mbGF0dGVuKGFycmF5LCBzaGFsbG93LCBmYWxzZSk7XG59XG5cbi8vIFJldHVybiBhIHZlcnNpb24gb2YgdGhlIGFycmF5IHRoYXQgZG9lcyBub3QgY29udGFpbiB0aGUgc3BlY2lmaWVkIHZhbHVlKHMpLlxuZXhwb3J0IHZhciB3aXRob3V0ID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihhcnJheSwgb3RoZXJBcnJheXMpIHtcbiAgcmV0dXJuIGRpZmZlcmVuY2UoYXJyYXksIG90aGVyQXJyYXlzKTtcbn0pO1xuXG4vLyBQcm9kdWNlIGEgZHVwbGljYXRlLWZyZWUgdmVyc2lvbiBvZiB0aGUgYXJyYXkuIElmIHRoZSBhcnJheSBoYXMgYWxyZWFkeVxuLy8gYmVlbiBzb3J0ZWQsIHlvdSBoYXZlIHRoZSBvcHRpb24gb2YgdXNpbmcgYSBmYXN0ZXIgYWxnb3JpdGhtLlxuLy8gVGhlIGZhc3RlciBhbGdvcml0aG0gd2lsbCBub3Qgd29yayB3aXRoIGFuIGl0ZXJhdGVlIGlmIHRoZSBpdGVyYXRlZVxuLy8gaXMgbm90IGEgb25lLXRvLW9uZSBmdW5jdGlvbiwgc28gcHJvdmlkaW5nIGFuIGl0ZXJhdGVlIHdpbGwgZGlzYWJsZVxuLy8gdGhlIGZhc3RlciBhbGdvcml0aG0uXG5leHBvcnQgZnVuY3Rpb24gdW5pcShhcnJheSwgaXNTb3J0ZWQsIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gIGlmICghaXNCb29sZWFuKGlzU29ydGVkKSkge1xuICAgIGNvbnRleHQgPSBpdGVyYXRlZTtcbiAgICBpdGVyYXRlZSA9IGlzU29ydGVkO1xuICAgIGlzU29ydGVkID0gZmFsc2U7XG4gIH1cbiAgaWYgKGl0ZXJhdGVlICE9IG51bGwpIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBzZWVuID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdmFsdWUgPSBhcnJheVtpXSxcbiAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlLCBpLCBhcnJheSkgOiB2YWx1ZTtcbiAgICBpZiAoaXNTb3J0ZWQgJiYgIWl0ZXJhdGVlKSB7XG4gICAgICBpZiAoIWkgfHwgc2VlbiAhPT0gY29tcHV0ZWQpIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgIHNlZW4gPSBjb21wdXRlZDtcbiAgICB9IGVsc2UgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICBpZiAoIWNvbnRhaW5zKHNlZW4sIGNvbXB1dGVkKSkge1xuICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghY29udGFpbnMocmVzdWx0LCB2YWx1ZSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCB7IHVuaXEgYXMgdW5pcXVlIH07XG5cbi8vIFByb2R1Y2UgYW4gYXJyYXkgdGhhdCBjb250YWlucyB0aGUgdW5pb246IGVhY2ggZGlzdGluY3QgZWxlbWVudCBmcm9tIGFsbCBvZlxuLy8gdGhlIHBhc3NlZC1pbiBhcnJheXMuXG5leHBvcnQgdmFyIHVuaW9uID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihhcnJheXMpIHtcbiAgcmV0dXJuIHVuaXEoX2ZsYXR0ZW4oYXJyYXlzLCB0cnVlLCB0cnVlKSk7XG59KTtcblxuLy8gUHJvZHVjZSBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIGV2ZXJ5IGl0ZW0gc2hhcmVkIGJldHdlZW4gYWxsIHRoZVxuLy8gcGFzc2VkLWluIGFycmF5cy5cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3Rpb24oYXJyYXkpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIgYXJnc0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGFycmF5W2ldO1xuICAgIGlmIChjb250YWlucyhyZXN1bHQsIGl0ZW0pKSBjb250aW51ZTtcbiAgICB2YXIgajtcbiAgICBmb3IgKGogPSAxOyBqIDwgYXJnc0xlbmd0aDsgaisrKSB7XG4gICAgICBpZiAoIWNvbnRhaW5zKGFyZ3VtZW50c1tqXSwgaXRlbSkpIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoaiA9PT0gYXJnc0xlbmd0aCkgcmVzdWx0LnB1c2goaXRlbSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gVGFrZSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIG9uZSBhcnJheSBhbmQgYSBudW1iZXIgb2Ygb3RoZXIgYXJyYXlzLlxuLy8gT25seSB0aGUgZWxlbWVudHMgcHJlc2VudCBpbiBqdXN0IHRoZSBmaXJzdCBhcnJheSB3aWxsIHJlbWFpbi5cbmV4cG9ydCB2YXIgZGlmZmVyZW5jZSA9IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24oYXJyYXksIHJlc3QpIHtcbiAgcmVzdCA9IF9mbGF0dGVuKHJlc3QsIHRydWUsIHRydWUpO1xuICByZXR1cm4gZmlsdGVyKGFycmF5LCBmdW5jdGlvbih2YWx1ZSl7XG4gICAgcmV0dXJuICFjb250YWlucyhyZXN0LCB2YWx1ZSk7XG4gIH0pO1xufSk7XG5cbi8vIENvbXBsZW1lbnQgb2YgemlwLiBVbnppcCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyBhbmQgZ3JvdXBzXG4vLyBlYWNoIGFycmF5J3MgZWxlbWVudHMgb24gc2hhcmVkIGluZGljZXMuXG5leHBvcnQgZnVuY3Rpb24gdW56aXAoYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5ICYmIG1heChhcnJheSwgZ2V0TGVuZ3RoKS5sZW5ndGggfHwgMDtcbiAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgIHJlc3VsdFtpbmRleF0gPSBwbHVjayhhcnJheSwgaW5kZXgpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIFppcCB0b2dldGhlciBtdWx0aXBsZSBsaXN0cyBpbnRvIGEgc2luZ2xlIGFycmF5IC0tIGVsZW1lbnRzIHRoYXQgc2hhcmVcbi8vIGFuIGluZGV4IGdvIHRvZ2V0aGVyLlxuZXhwb3J0IHZhciB6aXAgPSByZXN0QXJndW1lbnRzKHVuemlwKTtcblxuLy8gQ29udmVydHMgbGlzdHMgaW50byBvYmplY3RzLiBQYXNzIGVpdGhlciBhIHNpbmdsZSBhcnJheSBvZiBgW2tleSwgdmFsdWVdYFxuLy8gcGFpcnMsIG9yIHR3byBwYXJhbGxlbCBhcnJheXMgb2YgdGhlIHNhbWUgbGVuZ3RoIC0tIG9uZSBvZiBrZXlzLCBhbmQgb25lIG9mXG4vLyB0aGUgY29ycmVzcG9uZGluZyB2YWx1ZXMuIFBhc3NpbmcgYnkgcGFpcnMgaXMgdGhlIHJldmVyc2Ugb2YgcGFpcnMuXG5leHBvcnQgZnVuY3Rpb24gb2JqZWN0KGxpc3QsIHZhbHVlcykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgobGlzdCk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgIHJlc3VsdFtsaXN0W2ldXSA9IHZhbHVlc1tpXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W2xpc3RbaV1bMF1dID0gbGlzdFtpXVsxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gR2VuZXJhdG9yIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgZmluZEluZGV4IGFuZCBmaW5kTGFzdEluZGV4IGZ1bmN0aW9ucy5cbmZ1bmN0aW9uIGNyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyKGRpcikge1xuICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGxlbmd0aCA9IGdldExlbmd0aChhcnJheSk7XG4gICAgdmFyIGluZGV4ID0gZGlyID4gMCA/IDAgOiBsZW5ndGggLSAxO1xuICAgIGZvciAoOyBpbmRleCA+PSAwICYmIGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSBkaXIpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSByZXR1cm4gaW5kZXg7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfTtcbn1cblxuLy8gUmV0dXJucyB0aGUgZmlyc3QgaW5kZXggb24gYW4gYXJyYXktbGlrZSB0aGF0IHBhc3NlcyBhIHByZWRpY2F0ZSB0ZXN0LlxuZXhwb3J0IHZhciBmaW5kSW5kZXggPSBjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcigxKTtcbmV4cG9ydCB2YXIgZmluZExhc3RJbmRleCA9IGNyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyKC0xKTtcblxuLy8gVXNlIGEgY29tcGFyYXRvciBmdW5jdGlvbiB0byBmaWd1cmUgb3V0IHRoZSBzbWFsbGVzdCBpbmRleCBhdCB3aGljaFxuLy8gYW4gb2JqZWN0IHNob3VsZCBiZSBpbnNlcnRlZCBzbyBhcyB0byBtYWludGFpbiBvcmRlci4gVXNlcyBiaW5hcnkgc2VhcmNoLlxuZXhwb3J0IGZ1bmN0aW9uIHNvcnRlZEluZGV4KGFycmF5LCBvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQsIDEpO1xuICB2YXIgdmFsdWUgPSBpdGVyYXRlZShvYmopO1xuICB2YXIgbG93ID0gMCwgaGlnaCA9IGdldExlbmd0aChhcnJheSk7XG4gIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgdmFyIG1pZCA9IE1hdGguZmxvb3IoKGxvdyArIGhpZ2gpIC8gMik7XG4gICAgaWYgKGl0ZXJhdGVlKGFycmF5W21pZF0pIDwgdmFsdWUpIGxvdyA9IG1pZCArIDE7IGVsc2UgaGlnaCA9IG1pZDtcbiAgfVxuICByZXR1cm4gbG93O1xufVxuXG4vLyBHZW5lcmF0b3IgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBpbmRleE9mIGFuZCBsYXN0SW5kZXhPZiBmdW5jdGlvbnMuXG5mdW5jdGlvbiBjcmVhdGVJbmRleEZpbmRlcihkaXIsIHByZWRpY2F0ZUZpbmQsIHNvcnRlZEluZGV4KSB7XG4gIHJldHVybiBmdW5jdGlvbihhcnJheSwgaXRlbSwgaWR4KSB7XG4gICAgdmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgIGlmICh0eXBlb2YgaWR4ID09ICdudW1iZXInKSB7XG4gICAgICBpZiAoZGlyID4gMCkge1xuICAgICAgICBpID0gaWR4ID49IDAgPyBpZHggOiBNYXRoLm1heChpZHggKyBsZW5ndGgsIGkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGVuZ3RoID0gaWR4ID49IDAgPyBNYXRoLm1pbihpZHggKyAxLCBsZW5ndGgpIDogaWR4ICsgbGVuZ3RoICsgMTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNvcnRlZEluZGV4ICYmIGlkeCAmJiBsZW5ndGgpIHtcbiAgICAgIGlkeCA9IHNvcnRlZEluZGV4KGFycmF5LCBpdGVtKTtcbiAgICAgIHJldHVybiBhcnJheVtpZHhdID09PSBpdGVtID8gaWR4IDogLTE7XG4gICAgfVxuICAgIGlmIChpdGVtICE9PSBpdGVtKSB7XG4gICAgICBpZHggPSBwcmVkaWNhdGVGaW5kKHNsaWNlLmNhbGwoYXJyYXksIGksIGxlbmd0aCksIGlzTmFOKTtcbiAgICAgIHJldHVybiBpZHggPj0gMCA/IGlkeCArIGkgOiAtMTtcbiAgICB9XG4gICAgZm9yIChpZHggPSBkaXIgPiAwID8gaSA6IGxlbmd0aCAtIDE7IGlkeCA+PSAwICYmIGlkeCA8IGxlbmd0aDsgaWR4ICs9IGRpcikge1xuICAgICAgaWYgKGFycmF5W2lkeF0gPT09IGl0ZW0pIHJldHVybiBpZHg7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfTtcbn1cblxuLy8gUmV0dXJuIHRoZSBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBhbiBpdGVtIGluIGFuIGFycmF5LFxuLy8gb3IgLTEgaWYgdGhlIGl0ZW0gaXMgbm90IGluY2x1ZGVkIGluIHRoZSBhcnJheS5cbi8vIElmIHRoZSBhcnJheSBpcyBsYXJnZSBhbmQgYWxyZWFkeSBpbiBzb3J0IG9yZGVyLCBwYXNzIGB0cnVlYFxuLy8gZm9yICoqaXNTb3J0ZWQqKiB0byB1c2UgYmluYXJ5IHNlYXJjaC5cbmV4cG9ydCB2YXIgaW5kZXhPZiA9IGNyZWF0ZUluZGV4RmluZGVyKDEsIGZpbmRJbmRleCwgc29ydGVkSW5kZXgpO1xuZXhwb3J0IHZhciBsYXN0SW5kZXhPZiA9IGNyZWF0ZUluZGV4RmluZGVyKC0xLCBmaW5kTGFzdEluZGV4KTtcblxuLy8gR2VuZXJhdGUgYW4gaW50ZWdlciBBcnJheSBjb250YWluaW5nIGFuIGFyaXRobWV0aWMgcHJvZ3Jlc3Npb24uIEEgcG9ydCBvZlxuLy8gdGhlIG5hdGl2ZSBQeXRob24gYHJhbmdlKClgIGZ1bmN0aW9uLiBTZWVcbi8vIFt0aGUgUHl0aG9uIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvZnVuY3Rpb25zLmh0bWwjcmFuZ2UpLlxuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlKHN0YXJ0LCBzdG9wLCBzdGVwKSB7XG4gIGlmIChzdG9wID09IG51bGwpIHtcbiAgICBzdG9wID0gc3RhcnQgfHwgMDtcbiAgICBzdGFydCA9IDA7XG4gIH1cbiAgaWYgKCFzdGVwKSB7XG4gICAgc3RlcCA9IHN0b3AgPCBzdGFydCA/IC0xIDogMTtcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBNYXRoLm1heChNYXRoLmNlaWwoKHN0b3AgLSBzdGFydCkgLyBzdGVwKSwgMCk7XG4gIHZhciByYW5nZSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKywgc3RhcnQgKz0gc3RlcCkge1xuICAgIHJhbmdlW2lkeF0gPSBzdGFydDtcbiAgfVxuXG4gIHJldHVybiByYW5nZTtcbn1cblxuLy8gQ2h1bmsgYSBzaW5nbGUgYXJyYXkgaW50byBtdWx0aXBsZSBhcnJheXMsIGVhY2ggY29udGFpbmluZyBgY291bnRgIG9yIGZld2VyXG4vLyBpdGVtcy5cbmV4cG9ydCBmdW5jdGlvbiBjaHVuayhhcnJheSwgY291bnQpIHtcbiAgaWYgKGNvdW50ID09IG51bGwgfHwgY291bnQgPCAxKSByZXR1cm4gW107XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdmFyIGkgPSAwLCBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChpIDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0LnB1c2goc2xpY2UuY2FsbChhcnJheSwgaSwgaSArPSBjb3VudCkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIEZ1bmN0aW9uIChhaGVtKSBGdW5jdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBEZXRlcm1pbmVzIHdoZXRoZXIgdG8gZXhlY3V0ZSBhIGZ1bmN0aW9uIGFzIGEgY29uc3RydWN0b3Jcbi8vIG9yIGEgbm9ybWFsIGZ1bmN0aW9uIHdpdGggdGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbmZ1bmN0aW9uIGV4ZWN1dGVCb3VuZChzb3VyY2VGdW5jLCBib3VuZEZ1bmMsIGNvbnRleHQsIGNhbGxpbmdDb250ZXh0LCBhcmdzKSB7XG4gIGlmICghKGNhbGxpbmdDb250ZXh0IGluc3RhbmNlb2YgYm91bmRGdW5jKSkgcmV0dXJuIHNvdXJjZUZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gIHZhciBzZWxmID0gYmFzZUNyZWF0ZShzb3VyY2VGdW5jLnByb3RvdHlwZSk7XG4gIHZhciByZXN1bHQgPSBzb3VyY2VGdW5jLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICBpZiAoaXNPYmplY3QocmVzdWx0KSkgcmV0dXJuIHJlc3VsdDtcbiAgcmV0dXJuIHNlbGY7XG59XG5cbi8vIENyZWF0ZSBhIGZ1bmN0aW9uIGJvdW5kIHRvIGEgZ2l2ZW4gb2JqZWN0IChhc3NpZ25pbmcgYHRoaXNgLCBhbmQgYXJndW1lbnRzLFxuLy8gb3B0aW9uYWxseSkuIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBGdW5jdGlvbi5iaW5kYCBpZlxuLy8gYXZhaWxhYmxlLlxuZXhwb3J0IHZhciBiaW5kID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihmdW5jLCBjb250ZXh0LCBhcmdzKSB7XG4gIGlmICghaXNGdW5jdGlvbihmdW5jKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQmluZCBtdXN0IGJlIGNhbGxlZCBvbiBhIGZ1bmN0aW9uJyk7XG4gIHZhciBib3VuZCA9IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24oY2FsbEFyZ3MpIHtcbiAgICByZXR1cm4gZXhlY3V0ZUJvdW5kKGZ1bmMsIGJvdW5kLCBjb250ZXh0LCB0aGlzLCBhcmdzLmNvbmNhdChjYWxsQXJncykpO1xuICB9KTtcbiAgcmV0dXJuIGJvdW5kO1xufSk7XG5cbi8vIFBhcnRpYWxseSBhcHBseSBhIGZ1bmN0aW9uIGJ5IGNyZWF0aW5nIGEgdmVyc2lvbiB0aGF0IGhhcyBoYWQgc29tZSBvZiBpdHNcbi8vIGFyZ3VtZW50cyBwcmUtZmlsbGVkLCB3aXRob3V0IGNoYW5naW5nIGl0cyBkeW5hbWljIGB0aGlzYCBjb250ZXh0LiBfIGFjdHNcbi8vIGFzIGEgcGxhY2Vob2xkZXIgYnkgZGVmYXVsdCwgYWxsb3dpbmcgYW55IGNvbWJpbmF0aW9uIG9mIGFyZ3VtZW50cyB0byBiZVxuLy8gcHJlLWZpbGxlZC4gU2V0IGBwYXJ0aWFsLnBsYWNlaG9sZGVyYCBmb3IgYSBjdXN0b20gcGxhY2Vob2xkZXIgYXJndW1lbnQuXG5leHBvcnQgdmFyIHBhcnRpYWwgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKGZ1bmMsIGJvdW5kQXJncykge1xuICB2YXIgcGxhY2Vob2xkZXIgPSBwYXJ0aWFsLnBsYWNlaG9sZGVyO1xuICB2YXIgYm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcG9zaXRpb24gPSAwLCBsZW5ndGggPSBib3VuZEFyZ3MubGVuZ3RoO1xuICAgIHZhciBhcmdzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYm91bmRBcmdzW2ldID09PSBwbGFjZWhvbGRlciA/IGFyZ3VtZW50c1twb3NpdGlvbisrXSA6IGJvdW5kQXJnc1tpXTtcbiAgICB9XG4gICAgd2hpbGUgKHBvc2l0aW9uIDwgYXJndW1lbnRzLmxlbmd0aCkgYXJncy5wdXNoKGFyZ3VtZW50c1twb3NpdGlvbisrXSk7XG4gICAgcmV0dXJuIGV4ZWN1dGVCb3VuZChmdW5jLCBib3VuZCwgdGhpcywgdGhpcywgYXJncyk7XG4gIH07XG4gIHJldHVybiBib3VuZDtcbn0pO1xuXG5wYXJ0aWFsLnBsYWNlaG9sZGVyID0gXztcblxuLy8gQmluZCBhIG51bWJlciBvZiBhbiBvYmplY3QncyBtZXRob2RzIHRvIHRoYXQgb2JqZWN0LiBSZW1haW5pbmcgYXJndW1lbnRzXG4vLyBhcmUgdGhlIG1ldGhvZCBuYW1lcyB0byBiZSBib3VuZC4gVXNlZnVsIGZvciBlbnN1cmluZyB0aGF0IGFsbCBjYWxsYmFja3Ncbi8vIGRlZmluZWQgb24gYW4gb2JqZWN0IGJlbG9uZyB0byBpdC5cbmV4cG9ydCB2YXIgYmluZEFsbCA9IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24ob2JqLCBfa2V5cykge1xuICBfa2V5cyA9IF9mbGF0dGVuKF9rZXlzLCBmYWxzZSwgZmFsc2UpO1xuICB2YXIgaW5kZXggPSBfa2V5cy5sZW5ndGg7XG4gIGlmIChpbmRleCA8IDEpIHRocm93IG5ldyBFcnJvcignYmluZEFsbCBtdXN0IGJlIHBhc3NlZCBmdW5jdGlvbiBuYW1lcycpO1xuICB3aGlsZSAoaW5kZXgtLSkge1xuICAgIHZhciBrZXkgPSBfa2V5c1tpbmRleF07XG4gICAgb2JqW2tleV0gPSBiaW5kKG9ialtrZXldLCBvYmopO1xuICB9XG59KTtcblxuLy8gTWVtb2l6ZSBhbiBleHBlbnNpdmUgZnVuY3Rpb24gYnkgc3RvcmluZyBpdHMgcmVzdWx0cy5cbmV4cG9ydCBmdW5jdGlvbiBtZW1vaXplKGZ1bmMsIGhhc2hlcikge1xuICB2YXIgbWVtb2l6ZSA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBjYWNoZSA9IG1lbW9pemUuY2FjaGU7XG4gICAgdmFyIGFkZHJlc3MgPSAnJyArIChoYXNoZXIgPyBoYXNoZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IGtleSk7XG4gICAgaWYgKCFfaGFzKGNhY2hlLCBhZGRyZXNzKSkgY2FjaGVbYWRkcmVzc10gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIGNhY2hlW2FkZHJlc3NdO1xuICB9O1xuICBtZW1vaXplLmNhY2hlID0ge307XG4gIHJldHVybiBtZW1vaXplO1xufVxuXG4vLyBEZWxheXMgYSBmdW5jdGlvbiBmb3IgdGhlIGdpdmVuIG51bWJlciBvZiBtaWxsaXNlY29uZHMsIGFuZCB0aGVuIGNhbGxzXG4vLyBpdCB3aXRoIHRoZSBhcmd1bWVudHMgc3VwcGxpZWQuXG5leHBvcnQgdmFyIGRlbGF5ID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihmdW5jLCB3YWl0LCBhcmdzKSB7XG4gIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jLmFwcGx5KG51bGwsIGFyZ3MpO1xuICB9LCB3YWl0KTtcbn0pO1xuXG4vLyBEZWZlcnMgYSBmdW5jdGlvbiwgc2NoZWR1bGluZyBpdCB0byBydW4gYWZ0ZXIgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXNcbi8vIGNsZWFyZWQuXG5leHBvcnQgdmFyIGRlZmVyID0gcGFydGlhbChkZWxheSwgXywgMSk7XG5cbi8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgd2hlbiBpbnZva2VkLCB3aWxsIG9ubHkgYmUgdHJpZ2dlcmVkIGF0IG1vc3Qgb25jZVxuLy8gZHVyaW5nIGEgZ2l2ZW4gd2luZG93IG9mIHRpbWUuIE5vcm1hbGx5LCB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHdpbGwgcnVuXG4vLyBhcyBtdWNoIGFzIGl0IGNhbiwgd2l0aG91dCBldmVyIGdvaW5nIG1vcmUgdGhhbiBvbmNlIHBlciBgd2FpdGAgZHVyYXRpb247XG4vLyBidXQgaWYgeW91J2QgbGlrZSB0byBkaXNhYmxlIHRoZSBleGVjdXRpb24gb24gdGhlIGxlYWRpbmcgZWRnZSwgcGFzc1xuLy8gYHtsZWFkaW5nOiBmYWxzZX1gLiBUbyBkaXNhYmxlIGV4ZWN1dGlvbiBvbiB0aGUgdHJhaWxpbmcgZWRnZSwgZGl0dG8uXG5leHBvcnQgZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgdGltZW91dCwgY29udGV4dCwgYXJncywgcmVzdWx0O1xuICB2YXIgcHJldmlvdXMgPSAwO1xuICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcblxuICB2YXIgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICBwcmV2aW91cyA9IG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UgPyAwIDogbm93KCk7XG4gICAgdGltZW91dCA9IG51bGw7XG4gICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgfTtcblxuICB2YXIgdGhyb3R0bGVkID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIF9ub3cgPSBub3coKTtcbiAgICBpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHByZXZpb3VzID0gX25vdztcbiAgICB2YXIgcmVtYWluaW5nID0gd2FpdCAtIChfbm93IC0gcHJldmlvdXMpO1xuICAgIGNvbnRleHQgPSB0aGlzO1xuICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgaWYgKHJlbWFpbmluZyA8PSAwIHx8IHJlbWFpbmluZyA+IHdhaXQpIHtcbiAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICB9XG4gICAgICBwcmV2aW91cyA9IF9ub3c7XG4gICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgfSBlbHNlIGlmICghdGltZW91dCAmJiBvcHRpb25zLnRyYWlsaW5nICE9PSBmYWxzZSkge1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgdGhyb3R0bGVkLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICBwcmV2aW91cyA9IDA7XG4gICAgdGltZW91dCA9IGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gdGhyb3R0bGVkO1xufVxuXG4vLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIGFzIGxvbmcgYXMgaXQgY29udGludWVzIHRvIGJlIGludm9rZWQsIHdpbGwgbm90XG4vLyBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXG4vLyBOIG1pbGxpc2Vjb25kcy4gSWYgYGltbWVkaWF0ZWAgaXMgcGFzc2VkLCB0cmlnZ2VyIHRoZSBmdW5jdGlvbiBvbiB0aGVcbi8vIGxlYWRpbmcgZWRnZSwgaW5zdGVhZCBvZiB0aGUgdHJhaWxpbmcuXG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG4gIHZhciB0aW1lb3V0LCByZXN1bHQ7XG5cbiAgdmFyIGxhdGVyID0gZnVuY3Rpb24oY29udGV4dCwgYXJncykge1xuICAgIHRpbWVvdXQgPSBudWxsO1xuICAgIGlmIChhcmdzKSByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICB9O1xuXG4gIHZhciBkZWJvdW5jZWQgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICBpZiAodGltZW91dCkgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgIHZhciBjYWxsTm93ID0gIXRpbWVvdXQ7XG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgICBpZiAoY2FsbE5vdykgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGltZW91dCA9IGRlbGF5KGxhdGVyLCB3YWl0LCB0aGlzLCBhcmdzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9KTtcblxuICBkZWJvdW5jZWQuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiBkZWJvdW5jZWQ7XG59XG5cbi8vIFJldHVybnMgdGhlIGZpcnN0IGZ1bmN0aW9uIHBhc3NlZCBhcyBhbiBhcmd1bWVudCB0byB0aGUgc2Vjb25kLFxuLy8gYWxsb3dpbmcgeW91IHRvIGFkanVzdCBhcmd1bWVudHMsIHJ1biBjb2RlIGJlZm9yZSBhbmQgYWZ0ZXIsIGFuZFxuLy8gY29uZGl0aW9uYWxseSBleGVjdXRlIHRoZSBvcmlnaW5hbCBmdW5jdGlvbi5cbmV4cG9ydCBmdW5jdGlvbiB3cmFwKGZ1bmMsIHdyYXBwZXIpIHtcbiAgcmV0dXJuIHBhcnRpYWwod3JhcHBlciwgZnVuYyk7XG59XG5cbi8vIFJldHVybnMgYSBuZWdhdGVkIHZlcnNpb24gb2YgdGhlIHBhc3NlZC1pbiBwcmVkaWNhdGUuXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRlKHByZWRpY2F0ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICFwcmVkaWNhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIGEgbGlzdCBvZiBmdW5jdGlvbnMsIGVhY2hcbi8vIGNvbnN1bWluZyB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmdW5jdGlvbiB0aGF0IGZvbGxvd3MuXG5leHBvcnQgZnVuY3Rpb24gY29tcG9zZSgpIHtcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gIHZhciBzdGFydCA9IGFyZ3MubGVuZ3RoIC0gMTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBpID0gc3RhcnQ7XG4gICAgdmFyIHJlc3VsdCA9IGFyZ3Nbc3RhcnRdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgd2hpbGUgKGktLSkgcmVzdWx0ID0gYXJnc1tpXS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cblxuLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIG9uIGFuZCBhZnRlciB0aGUgTnRoIGNhbGwuXG5leHBvcnQgZnVuY3Rpb24gYWZ0ZXIodGltZXMsIGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGlmICgtLXRpbWVzIDwgMSkge1xuICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH07XG59XG5cbi8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgb25seSBiZSBleGVjdXRlZCB1cCB0byAoYnV0IG5vdCBpbmNsdWRpbmcpIHRoZSBOdGggY2FsbC5cbmV4cG9ydCBmdW5jdGlvbiBiZWZvcmUodGltZXMsIGZ1bmMpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBpZiAoLS10aW1lcyA+IDApIHtcbiAgICAgIG1lbW8gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIGlmICh0aW1lcyA8PSAxKSBmdW5jID0gbnVsbDtcbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn1cblxuLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBhdCBtb3N0IG9uZSB0aW1lLCBubyBtYXR0ZXIgaG93XG4vLyBvZnRlbiB5b3UgY2FsbCBpdC4gVXNlZnVsIGZvciBsYXp5IGluaXRpYWxpemF0aW9uLlxuZXhwb3J0IHZhciBvbmNlID0gcGFydGlhbChiZWZvcmUsIDIpO1xuXG4vLyBPYmplY3QgRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tXG5cbi8vIEtleXMgaW4gSUUgPCA5IHRoYXQgd29uJ3QgYmUgaXRlcmF0ZWQgYnkgYGZvciBrZXkgaW4gLi4uYCBhbmQgdGh1cyBtaXNzZWQuXG52YXIgaGFzRW51bUJ1ZyA9ICF7dG9TdHJpbmc6IG51bGx9LnByb3BlcnR5SXNFbnVtZXJhYmxlKCd0b1N0cmluZycpO1xudmFyIG5vbkVudW1lcmFibGVQcm9wcyA9IFsndmFsdWVPZicsICdpc1Byb3RvdHlwZU9mJywgJ3RvU3RyaW5nJyxcbiAgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJ2hhc093blByb3BlcnR5JywgJ3RvTG9jYWxlU3RyaW5nJ107XG5cbmZ1bmN0aW9uIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBfa2V5cykge1xuICB2YXIgbm9uRW51bUlkeCA9IG5vbkVudW1lcmFibGVQcm9wcy5sZW5ndGg7XG4gIHZhciBjb25zdHJ1Y3RvciA9IG9iai5jb25zdHJ1Y3RvcjtcbiAgdmFyIHByb3RvID0gaXNGdW5jdGlvbihjb25zdHJ1Y3RvcikgJiYgY29uc3RydWN0b3IucHJvdG90eXBlIHx8IE9ialByb3RvO1xuXG4gIC8vIENvbnN0cnVjdG9yIGlzIGEgc3BlY2lhbCBjYXNlLlxuICB2YXIgcHJvcCA9ICdjb25zdHJ1Y3Rvcic7XG4gIGlmIChfaGFzKG9iaiwgcHJvcCkgJiYgIWNvbnRhaW5zKF9rZXlzLCBwcm9wKSkgX2tleXMucHVzaChwcm9wKTtcblxuICB3aGlsZSAobm9uRW51bUlkeC0tKSB7XG4gICAgcHJvcCA9IG5vbkVudW1lcmFibGVQcm9wc1tub25FbnVtSWR4XTtcbiAgICBpZiAocHJvcCBpbiBvYmogJiYgb2JqW3Byb3BdICE9PSBwcm90b1twcm9wXSAmJiAhY29udGFpbnMoX2tleXMsIHByb3ApKSB7XG4gICAgICBfa2V5cy5wdXNoKHByb3ApO1xuICAgIH1cbiAgfVxufVxuXG4vLyBSZXRyaWV2ZSB0aGUgbmFtZXMgb2YgYW4gb2JqZWN0J3Mgb3duIHByb3BlcnRpZXMuXG4vLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgT2JqZWN0LmtleXNgLlxuZXhwb3J0IGZ1bmN0aW9uIGtleXMob2JqKSB7XG4gIGlmICghaXNPYmplY3Qob2JqKSkgcmV0dXJuIFtdO1xuICBpZiAobmF0aXZlS2V5cykgcmV0dXJuIG5hdGl2ZUtleXMob2JqKTtcbiAgdmFyIF9rZXlzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBvYmopIGlmIChfaGFzKG9iaiwga2V5KSkgX2tleXMucHVzaChrZXkpO1xuICAvLyBBaGVtLCBJRSA8IDkuXG4gIGlmIChoYXNFbnVtQnVnKSBjb2xsZWN0Tm9uRW51bVByb3BzKG9iaiwgX2tleXMpO1xuICByZXR1cm4gX2tleXM7XG59XG5cbi8vIFJldHJpZXZlIGFsbCB0aGUgcHJvcGVydHkgbmFtZXMgb2YgYW4gb2JqZWN0LlxuZXhwb3J0IGZ1bmN0aW9uIGFsbEtleXMob2JqKSB7XG4gIGlmICghaXNPYmplY3Qob2JqKSkgcmV0dXJuIFtdO1xuICB2YXIgX2tleXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikgX2tleXMucHVzaChrZXkpO1xuICAvLyBBaGVtLCBJRSA8IDkuXG4gIGlmIChoYXNFbnVtQnVnKSBjb2xsZWN0Tm9uRW51bVByb3BzKG9iaiwgX2tleXMpO1xuICByZXR1cm4gX2tleXM7XG59XG5cbi8vIFJldHJpZXZlIHRoZSB2YWx1ZXMgb2YgYW4gb2JqZWN0J3MgcHJvcGVydGllcy5cbmV4cG9ydCBmdW5jdGlvbiB2YWx1ZXMob2JqKSB7XG4gIHZhciBfa2V5cyA9IGtleXMob2JqKTtcbiAgdmFyIGxlbmd0aCA9IF9rZXlzLmxlbmd0aDtcbiAgdmFyIHZhbHVlcyA9IEFycmF5KGxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YWx1ZXNbaV0gPSBvYmpbX2tleXNbaV1dO1xuICB9XG4gIHJldHVybiB2YWx1ZXM7XG59XG5cbi8vIFJldHVybnMgdGhlIHJlc3VsdHMgb2YgYXBwbHlpbmcgdGhlIGl0ZXJhdGVlIHRvIGVhY2ggZWxlbWVudCBvZiB0aGUgb2JqZWN0LlxuLy8gSW4gY29udHJhc3QgdG8gbWFwIGl0IHJldHVybnMgYW4gb2JqZWN0LlxuZXhwb3J0IGZ1bmN0aW9uIG1hcE9iamVjdChvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICB2YXIgX2tleXMgPSBrZXlzKG9iaiksXG4gICAgICBsZW5ndGggPSBfa2V5cy5sZW5ndGgsXG4gICAgICByZXN1bHRzID0ge307XG4gIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICB2YXIgY3VycmVudEtleSA9IF9rZXlzW2luZGV4XTtcbiAgICByZXN1bHRzW2N1cnJlbnRLZXldID0gaXRlcmF0ZWUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopO1xuICB9XG4gIHJldHVybiByZXN1bHRzO1xufVxuXG4vLyBDb252ZXJ0IGFuIG9iamVjdCBpbnRvIGEgbGlzdCBvZiBgW2tleSwgdmFsdWVdYCBwYWlycy5cbi8vIFRoZSBvcHBvc2l0ZSBvZiBvYmplY3QuXG5leHBvcnQgZnVuY3Rpb24gcGFpcnMob2JqKSB7XG4gIHZhciBfa2V5cyA9IGtleXMob2JqKTtcbiAgdmFyIGxlbmd0aCA9IF9rZXlzLmxlbmd0aDtcbiAgdmFyIHBhaXJzID0gQXJyYXkobGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHBhaXJzW2ldID0gW19rZXlzW2ldLCBvYmpbX2tleXNbaV1dXTtcbiAgfVxuICByZXR1cm4gcGFpcnM7XG59XG5cbi8vIEludmVydCB0aGUga2V5cyBhbmQgdmFsdWVzIG9mIGFuIG9iamVjdC4gVGhlIHZhbHVlcyBtdXN0IGJlIHNlcmlhbGl6YWJsZS5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob2JqKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgdmFyIF9rZXlzID0ga2V5cyhvYmopO1xuICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gX2tleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHRbb2JqW19rZXlzW2ldXV0gPSBfa2V5c1tpXTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBSZXR1cm4gYSBzb3J0ZWQgbGlzdCBvZiB0aGUgZnVuY3Rpb24gbmFtZXMgYXZhaWxhYmxlIG9uIHRoZSBvYmplY3QuXG5leHBvcnQgZnVuY3Rpb24gZnVuY3Rpb25zKG9iaikge1xuICB2YXIgbmFtZXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChpc0Z1bmN0aW9uKG9ialtrZXldKSkgbmFtZXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiBuYW1lcy5zb3J0KCk7XG59XG5leHBvcnQgeyBmdW5jdGlvbnMgYXMgbWV0aG9kcyB9O1xuXG4vLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYXNzaWduZXIgZnVuY3Rpb25zLlxuZnVuY3Rpb24gY3JlYXRlQXNzaWduZXIoa2V5c0Z1bmMsIGRlZmF1bHRzKSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBpZiAoZGVmYXVsdHMpIG9iaiA9IE9iamVjdChvYmopO1xuICAgIGlmIChsZW5ndGggPCAyIHx8IG9iaiA9PSBudWxsKSByZXR1cm4gb2JqO1xuICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdLFxuICAgICAgICAgIF9rZXlzID0ga2V5c0Z1bmMoc291cmNlKSxcbiAgICAgICAgICBsID0gX2tleXMubGVuZ3RoO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIGtleSA9IF9rZXlzW2ldO1xuICAgICAgICBpZiAoIWRlZmF1bHRzIHx8IG9ialtrZXldID09PSB2b2lkIDApIG9ialtrZXldID0gc291cmNlW2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH07XG59XG5cbi8vIEV4dGVuZCBhIGdpdmVuIG9iamVjdCB3aXRoIGFsbCB0aGUgcHJvcGVydGllcyBpbiBwYXNzZWQtaW4gb2JqZWN0KHMpLlxuZXhwb3J0IHZhciBleHRlbmQgPSBjcmVhdGVBc3NpZ25lcihhbGxLZXlzKTtcblxuLy8gQXNzaWducyBhIGdpdmVuIG9iamVjdCB3aXRoIGFsbCB0aGUgb3duIHByb3BlcnRpZXMgaW4gdGhlIHBhc3NlZC1pbiBvYmplY3QocykuXG4vLyAoaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnbilcbmV4cG9ydCB2YXIgZXh0ZW5kT3duID0gY3JlYXRlQXNzaWduZXIoa2V5cyk7XG5leHBvcnQgeyBleHRlbmRPd24gYXMgYXNzaWduIH07XG5cbi8vIFJldHVybnMgdGhlIGZpcnN0IGtleSBvbiBhbiBvYmplY3QgdGhhdCBwYXNzZXMgYSBwcmVkaWNhdGUgdGVzdC5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kS2V5KG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gIHZhciBfa2V5cyA9IGtleXMob2JqKSwga2V5O1xuICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gX2tleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBfa2V5c1tpXTtcbiAgICBpZiAocHJlZGljYXRlKG9ialtrZXldLCBrZXksIG9iaikpIHJldHVybiBrZXk7XG4gIH1cbn1cblxuLy8gSW50ZXJuYWwgcGljayBoZWxwZXIgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGlmIGBvYmpgIGhhcyBrZXkgYGtleWAuXG5mdW5jdGlvbiBrZXlJbk9iaih2YWx1ZSwga2V5LCBvYmopIHtcbiAgcmV0dXJuIGtleSBpbiBvYmo7XG59XG5cbi8vIFJldHVybiBhIGNvcHkgb2YgdGhlIG9iamVjdCBvbmx5IGNvbnRhaW5pbmcgdGhlIHdoaXRlbGlzdGVkIHByb3BlcnRpZXMuXG5leHBvcnQgdmFyIHBpY2sgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKG9iaiwgX2tleXMpIHtcbiAgdmFyIHJlc3VsdCA9IHt9LCBpdGVyYXRlZSA9IF9rZXlzWzBdO1xuICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHQ7XG4gIGlmIChpc0Z1bmN0aW9uKGl0ZXJhdGVlKSkge1xuICAgIGlmIChfa2V5cy5sZW5ndGggPiAxKSBpdGVyYXRlZSA9IG9wdGltaXplQ2IoaXRlcmF0ZWUsIF9rZXlzWzFdKTtcbiAgICBfa2V5cyA9IGFsbEtleXMob2JqKTtcbiAgfSBlbHNlIHtcbiAgICBpdGVyYXRlZSA9IGtleUluT2JqO1xuICAgIF9rZXlzID0gX2ZsYXR0ZW4oX2tleXMsIGZhbHNlLCBmYWxzZSk7XG4gICAgb2JqID0gT2JqZWN0KG9iaik7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IF9rZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IF9rZXlzW2ldO1xuICAgIHZhciB2YWx1ZSA9IG9ialtrZXldO1xuICAgIGlmIChpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmopKSByZXN1bHRba2V5XSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59KTtcblxuLy8gUmV0dXJuIGEgY29weSBvZiB0aGUgb2JqZWN0IHdpdGhvdXQgdGhlIGJsYWNrbGlzdGVkIHByb3BlcnRpZXMuXG5leHBvcnQgdmFyIG9taXQgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKG9iaiwgX2tleXMpIHtcbiAgdmFyIGl0ZXJhdGVlID0gX2tleXNbMF0sIGNvbnRleHQ7XG4gIGlmIChpc0Z1bmN0aW9uKGl0ZXJhdGVlKSkge1xuICAgIGl0ZXJhdGVlID0gbmVnYXRlKGl0ZXJhdGVlKTtcbiAgICBpZiAoX2tleXMubGVuZ3RoID4gMSkgY29udGV4dCA9IF9rZXlzWzFdO1xuICB9IGVsc2Uge1xuICAgIF9rZXlzID0gbWFwKF9mbGF0dGVuKF9rZXlzLCBmYWxzZSwgZmFsc2UpLCBTdHJpbmcpO1xuICAgIGl0ZXJhdGVlID0gZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgcmV0dXJuICFjb250YWlucyhfa2V5cywga2V5KTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBwaWNrKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpO1xufSk7XG5cbi8vIEZpbGwgaW4gYSBnaXZlbiBvYmplY3Qgd2l0aCBkZWZhdWx0IHByb3BlcnRpZXMuXG5leHBvcnQgdmFyIGRlZmF1bHRzID0gY3JlYXRlQXNzaWduZXIoYWxsS2V5cywgdHJ1ZSk7XG5cbi8vIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSB0aGUgZ2l2ZW4gcHJvdG90eXBlIG9iamVjdC5cbi8vIElmIGFkZGl0aW9uYWwgcHJvcGVydGllcyBhcmUgcHJvdmlkZWQgdGhlbiB0aGV5IHdpbGwgYmUgYWRkZWQgdG8gdGhlXG4vLyBjcmVhdGVkIG9iamVjdC5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUocHJvdG90eXBlLCBwcm9wcykge1xuICB2YXIgcmVzdWx0ID0gYmFzZUNyZWF0ZShwcm90b3R5cGUpO1xuICBpZiAocHJvcHMpIGV4dGVuZE93bihyZXN1bHQsIHByb3BzKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gQ3JlYXRlIGEgKHNoYWxsb3ctY2xvbmVkKSBkdXBsaWNhdGUgb2YgYW4gb2JqZWN0LlxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKG9iaikge1xuICBpZiAoIWlzT2JqZWN0KG9iaikpIHJldHVybiBvYmo7XG4gIHJldHVybiBpc0FycmF5KG9iaikgPyBvYmouc2xpY2UoKSA6IGV4dGVuZCh7fSwgb2JqKTtcbn1cblxuLy8gSW52b2tlcyBpbnRlcmNlcHRvciB3aXRoIHRoZSBvYmosIGFuZCB0aGVuIHJldHVybnMgb2JqLlxuLy8gVGhlIHByaW1hcnkgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0byBcInRhcCBpbnRvXCIgYSBtZXRob2QgY2hhaW4sIGluXG4vLyBvcmRlciB0byBwZXJmb3JtIG9wZXJhdGlvbnMgb24gaW50ZXJtZWRpYXRlIHJlc3VsdHMgd2l0aGluIHRoZSBjaGFpbi5cbmV4cG9ydCBmdW5jdGlvbiB0YXAob2JqLCBpbnRlcmNlcHRvcikge1xuICBpbnRlcmNlcHRvcihvYmopO1xuICByZXR1cm4gb2JqO1xufVxuXG4vLyBSZXR1cm5zIHdoZXRoZXIgYW4gb2JqZWN0IGhhcyBhIGdpdmVuIHNldCBvZiBga2V5OnZhbHVlYCBwYWlycy5cbmV4cG9ydCBmdW5jdGlvbiBpc01hdGNoKG9iamVjdCwgYXR0cnMpIHtcbiAgdmFyIF9rZXlzID0ga2V5cyhhdHRycyksIGxlbmd0aCA9IF9rZXlzLmxlbmd0aDtcbiAgaWYgKG9iamVjdCA9PSBudWxsKSByZXR1cm4gIWxlbmd0aDtcbiAgdmFyIG9iaiA9IE9iamVjdChvYmplY3QpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IF9rZXlzW2ldO1xuICAgIGlmIChhdHRyc1trZXldICE9PSBvYmpba2V5XSB8fCAhKGtleSBpbiBvYmopKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cblxuLy8gSW50ZXJuYWwgcmVjdXJzaXZlIGNvbXBhcmlzb24gZnVuY3Rpb24gZm9yIGBpc0VxdWFsYC5cbmZ1bmN0aW9uIGVxKGEsIGIsIGFTdGFjaywgYlN0YWNrKSB7XG4gIC8vIElkZW50aWNhbCBvYmplY3RzIGFyZSBlcXVhbC4gYDAgPT09IC0wYCwgYnV0IHRoZXkgYXJlbid0IGlkZW50aWNhbC5cbiAgLy8gU2VlIHRoZSBbSGFybW9ueSBgZWdhbGAgcHJvcG9zYWxdKGh0dHBzOi8vd2lraS5lY21hc2NyaXB0Lm9yZy9kb2t1LnBocD9pZD1oYXJtb255OmVnYWwpLlxuICBpZiAoYSA9PT0gYikgcmV0dXJuIGEgIT09IDAgfHwgMSAvIGEgPT09IDEgLyBiO1xuICAvLyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAgb25seSBlcXVhbCB0byBpdHNlbGYgKHN0cmljdCBjb21wYXJpc29uKS5cbiAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgLy8gYE5hTmBzIGFyZSBlcXVpdmFsZW50LCBidXQgbm9uLXJlZmxleGl2ZS5cbiAgaWYgKGEgIT09IGEpIHJldHVybiBiICE9PSBiO1xuICAvLyBFeGhhdXN0IHByaW1pdGl2ZSBjaGVja3NcbiAgdmFyIHR5cGUgPSB0eXBlb2YgYTtcbiAgaWYgKHR5cGUgIT09ICdmdW5jdGlvbicgJiYgdHlwZSAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIGIgIT0gJ29iamVjdCcpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIGRlZXBFcShhLCBiLCBhU3RhY2ssIGJTdGFjayk7XG59XG5cbi8vIEludGVybmFsIHJlY3Vyc2l2ZSBjb21wYXJpc29uIGZ1bmN0aW9uIGZvciBgaXNFcXVhbGAuXG5mdW5jdGlvbiBkZWVwRXEoYSwgYiwgYVN0YWNrLCBiU3RhY2spIHtcbiAgLy8gVW53cmFwIGFueSB3cmFwcGVkIG9iamVjdHMuXG4gIGlmIChhIGluc3RhbmNlb2YgXykgYSA9IGEuX3dyYXBwZWQ7XG4gIGlmIChiIGluc3RhbmNlb2YgXykgYiA9IGIuX3dyYXBwZWQ7XG4gIC8vIENvbXBhcmUgYFtbQ2xhc3NdXWAgbmFtZXMuXG4gIHZhciBjbGFzc05hbWUgPSB0b1N0cmluZy5jYWxsKGEpO1xuICBpZiAoY2xhc3NOYW1lICE9PSB0b1N0cmluZy5jYWxsKGIpKSByZXR1cm4gZmFsc2U7XG4gIHN3aXRjaCAoY2xhc3NOYW1lKSB7XG4gICAgLy8gU3RyaW5ncywgbnVtYmVycywgcmVndWxhciBleHByZXNzaW9ucywgZGF0ZXMsIGFuZCBib29sZWFucyBhcmUgY29tcGFyZWQgYnkgdmFsdWUuXG4gICAgY2FzZSAnW29iamVjdCBSZWdFeHBdJzpcbiAgICAvLyBSZWdFeHBzIGFyZSBjb2VyY2VkIHRvIHN0cmluZ3MgZm9yIGNvbXBhcmlzb24gKE5vdGU6ICcnICsgL2EvaSA9PT0gJy9hL2knKVxuICAgIGNhc2UgJ1tvYmplY3QgU3RyaW5nXSc6XG4gICAgICAvLyBQcmltaXRpdmVzIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIG9iamVjdCB3cmFwcGVycyBhcmUgZXF1aXZhbGVudDsgdGh1cywgYFwiNVwiYCBpc1xuICAgICAgLy8gZXF1aXZhbGVudCB0byBgbmV3IFN0cmluZyhcIjVcIilgLlxuICAgICAgcmV0dXJuICcnICsgYSA9PT0gJycgKyBiO1xuICAgIGNhc2UgJ1tvYmplY3QgTnVtYmVyXSc6XG4gICAgICAvLyBgTmFOYHMgYXJlIGVxdWl2YWxlbnQsIGJ1dCBub24tcmVmbGV4aXZlLlxuICAgICAgLy8gT2JqZWN0KE5hTikgaXMgZXF1aXZhbGVudCB0byBOYU4uXG4gICAgICBpZiAoK2EgIT09ICthKSByZXR1cm4gK2IgIT09ICtiO1xuICAgICAgLy8gQW4gYGVnYWxgIGNvbXBhcmlzb24gaXMgcGVyZm9ybWVkIGZvciBvdGhlciBudW1lcmljIHZhbHVlcy5cbiAgICAgIHJldHVybiArYSA9PT0gMCA/IDEgLyArYSA9PT0gMSAvIGIgOiArYSA9PT0gK2I7XG4gICAgY2FzZSAnW29iamVjdCBEYXRlXSc6XG4gICAgY2FzZSAnW29iamVjdCBCb29sZWFuXSc6XG4gICAgICAvLyBDb2VyY2UgZGF0ZXMgYW5kIGJvb2xlYW5zIHRvIG51bWVyaWMgcHJpbWl0aXZlIHZhbHVlcy4gRGF0ZXMgYXJlIGNvbXBhcmVkIGJ5IHRoZWlyXG4gICAgICAvLyBtaWxsaXNlY29uZCByZXByZXNlbnRhdGlvbnMuIE5vdGUgdGhhdCBpbnZhbGlkIGRhdGVzIHdpdGggbWlsbGlzZWNvbmQgcmVwcmVzZW50YXRpb25zXG4gICAgICAvLyBvZiBgTmFOYCBhcmUgbm90IGVxdWl2YWxlbnQuXG4gICAgICByZXR1cm4gK2EgPT09ICtiO1xuICAgIGNhc2UgJ1tvYmplY3QgU3ltYm9sXSc6XG4gICAgICByZXR1cm4gU3ltYm9sUHJvdG8udmFsdWVPZi5jYWxsKGEpID09PSBTeW1ib2xQcm90by52YWx1ZU9mLmNhbGwoYik7XG4gIH1cblxuICB2YXIgYXJlQXJyYXlzID0gY2xhc3NOYW1lID09PSAnW29iamVjdCBBcnJheV0nO1xuICBpZiAoIWFyZUFycmF5cykge1xuICAgIGlmICh0eXBlb2YgYSAhPSAnb2JqZWN0JyB8fCB0eXBlb2YgYiAhPSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xuXG4gICAgLy8gT2JqZWN0cyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVpdmFsZW50LCBidXQgYE9iamVjdGBzIG9yIGBBcnJheWBzXG4gICAgLy8gZnJvbSBkaWZmZXJlbnQgZnJhbWVzIGFyZS5cbiAgICB2YXIgYUN0b3IgPSBhLmNvbnN0cnVjdG9yLCBiQ3RvciA9IGIuY29uc3RydWN0b3I7XG4gICAgaWYgKGFDdG9yICE9PSBiQ3RvciAmJiAhKGlzRnVuY3Rpb24oYUN0b3IpICYmIGFDdG9yIGluc3RhbmNlb2YgYUN0b3IgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNGdW5jdGlvbihiQ3RvcikgJiYgYkN0b3IgaW5zdGFuY2VvZiBiQ3RvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICYmICgnY29uc3RydWN0b3InIGluIGEgJiYgJ2NvbnN0cnVjdG9yJyBpbiBiKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICAvLyBBc3N1bWUgZXF1YWxpdHkgZm9yIGN5Y2xpYyBzdHJ1Y3R1cmVzLiBUaGUgYWxnb3JpdGhtIGZvciBkZXRlY3RpbmcgY3ljbGljXG4gIC8vIHN0cnVjdHVyZXMgaXMgYWRhcHRlZCBmcm9tIEVTIDUuMSBzZWN0aW9uIDE1LjEyLjMsIGFic3RyYWN0IG9wZXJhdGlvbiBgSk9gLlxuXG4gIC8vIEluaXRpYWxpemluZyBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgLy8gSXQncyBkb25lIGhlcmUgc2luY2Ugd2Ugb25seSBuZWVkIHRoZW0gZm9yIG9iamVjdHMgYW5kIGFycmF5cyBjb21wYXJpc29uLlxuICBhU3RhY2sgPSBhU3RhY2sgfHwgW107XG4gIGJTdGFjayA9IGJTdGFjayB8fCBbXTtcbiAgdmFyIGxlbmd0aCA9IGFTdGFjay5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIC8vIExpbmVhciBzZWFyY2guIFBlcmZvcm1hbmNlIGlzIGludmVyc2VseSBwcm9wb3J0aW9uYWwgdG8gdGhlIG51bWJlciBvZlxuICAgIC8vIHVuaXF1ZSBuZXN0ZWQgc3RydWN0dXJlcy5cbiAgICBpZiAoYVN0YWNrW2xlbmd0aF0gPT09IGEpIHJldHVybiBiU3RhY2tbbGVuZ3RoXSA9PT0gYjtcbiAgfVxuXG4gIC8vIEFkZCB0aGUgZmlyc3Qgb2JqZWN0IHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgYVN0YWNrLnB1c2goYSk7XG4gIGJTdGFjay5wdXNoKGIpO1xuXG4gIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyBhbmQgYXJyYXlzLlxuICBpZiAoYXJlQXJyYXlzKSB7XG4gICAgLy8gQ29tcGFyZSBhcnJheSBsZW5ndGhzIHRvIGRldGVybWluZSBpZiBhIGRlZXAgY29tcGFyaXNvbiBpcyBuZWNlc3NhcnkuXG4gICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAvLyBEZWVwIGNvbXBhcmUgdGhlIGNvbnRlbnRzLCBpZ25vcmluZyBub24tbnVtZXJpYyBwcm9wZXJ0aWVzLlxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKCFlcShhW2xlbmd0aF0sIGJbbGVuZ3RoXSwgYVN0YWNrLCBiU3RhY2spKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIERlZXAgY29tcGFyZSBvYmplY3RzLlxuICAgIHZhciBfa2V5cyA9IGtleXMoYSksIGtleTtcbiAgICBsZW5ndGggPSBfa2V5cy5sZW5ndGg7XG4gICAgLy8gRW5zdXJlIHRoYXQgYm90aCBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUgbnVtYmVyIG9mIHByb3BlcnRpZXMgYmVmb3JlIGNvbXBhcmluZyBkZWVwIGVxdWFsaXR5LlxuICAgIGlmIChrZXlzKGIpLmxlbmd0aCAhPT0gbGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgZWFjaCBtZW1iZXJcbiAgICAgIGtleSA9IF9rZXlzW2xlbmd0aF07XG4gICAgICBpZiAoIShfaGFzKGIsIGtleSkgJiYgZXEoYVtrZXldLCBiW2tleV0sIGFTdGFjaywgYlN0YWNrKSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgLy8gUmVtb3ZlIHRoZSBmaXJzdCBvYmplY3QgZnJvbSB0aGUgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXG4gIGFTdGFjay5wb3AoKTtcbiAgYlN0YWNrLnBvcCgpO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gUGVyZm9ybSBhIGRlZXAgY29tcGFyaXNvbiB0byBjaGVjayBpZiB0d28gb2JqZWN0cyBhcmUgZXF1YWwuXG5leHBvcnQgZnVuY3Rpb24gaXNFcXVhbChhLCBiKSB7XG4gIHJldHVybiBlcShhLCBiKTtcbn1cblxuLy8gSXMgYSBnaXZlbiBhcnJheSwgc3RyaW5nLCBvciBvYmplY3QgZW1wdHk/XG4vLyBBbiBcImVtcHR5XCIgb2JqZWN0IGhhcyBubyBlbnVtZXJhYmxlIG93bi1wcm9wZXJ0aWVzLlxuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHkob2JqKSB7XG4gIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHRydWU7XG4gIGlmIChpc0FycmF5TGlrZShvYmopICYmIChpc0FycmF5KG9iaikgfHwgaXNTdHJpbmcob2JqKSB8fCBpc0FyZ3VtZW50cyhvYmopKSkgcmV0dXJuIG9iai5sZW5ndGggPT09IDA7XG4gIHJldHVybiBrZXlzKG9iaikubGVuZ3RoID09PSAwO1xufVxuXG4vLyBJcyBhIGdpdmVuIHZhbHVlIGEgRE9NIGVsZW1lbnQ/XG5leHBvcnQgZnVuY3Rpb24gaXNFbGVtZW50KG9iaikge1xuICByZXR1cm4gISEob2JqICYmIG9iai5ub2RlVHlwZSA9PT0gMSk7XG59XG5cbi8vIEludGVybmFsIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBhIHRvU3RyaW5nLWJhc2VkIHR5cGUgdGVzdGVyLlxuZnVuY3Rpb24gdGFnVGVzdGVyKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0ICcgKyBuYW1lICsgJ10nO1xuICB9O1xufVxuXG4vLyBJcyBhIGdpdmVuIHZhbHVlIGFuIGFycmF5P1xuLy8gRGVsZWdhdGVzIHRvIEVDTUE1J3MgbmF0aXZlIEFycmF5LmlzQXJyYXlcbmV4cG9ydCB2YXIgaXNBcnJheSA9IG5hdGl2ZUlzQXJyYXkgfHwgdGFnVGVzdGVyKCdBcnJheScpO1xuXG4vLyBJcyBhIGdpdmVuIHZhcmlhYmxlIGFuIG9iamVjdD9cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdChvYmopIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2Ygb2JqO1xuICByZXR1cm4gdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlID09PSAnb2JqZWN0JyAmJiAhIW9iajtcbn1cblxuLy8gQWRkIHNvbWUgaXNUeXBlIG1ldGhvZHM6IGlzQXJndW1lbnRzLCBpc0Z1bmN0aW9uLCBpc1N0cmluZywgaXNOdW1iZXIsIGlzRGF0ZSwgaXNSZWdFeHAsIGlzRXJyb3IsIGlzTWFwLCBpc1dlYWtNYXAsIGlzU2V0LCBpc1dlYWtTZXQuXG5leHBvcnQgdmFyIGlzQXJndW1lbnRzID0gdGFnVGVzdGVyKCdBcmd1bWVudHMnKTtcbmV4cG9ydCB2YXIgaXNGdW5jdGlvbiA9IHRhZ1Rlc3RlcignRnVuY3Rpb24nKTtcbmV4cG9ydCB2YXIgaXNTdHJpbmcgPSB0YWdUZXN0ZXIoJ1N0cmluZycpO1xuZXhwb3J0IHZhciBpc051bWJlciA9IHRhZ1Rlc3RlcignTnVtYmVyJyk7XG5leHBvcnQgdmFyIGlzRGF0ZSA9IHRhZ1Rlc3RlcignRGF0ZScpO1xuZXhwb3J0IHZhciBpc1JlZ0V4cCA9IHRhZ1Rlc3RlcignUmVnRXhwJyk7XG5leHBvcnQgdmFyIGlzRXJyb3IgPSB0YWdUZXN0ZXIoJ0Vycm9yJyk7XG5leHBvcnQgdmFyIGlzU3ltYm9sID0gdGFnVGVzdGVyKCdTeW1ib2wnKTtcbmV4cG9ydCB2YXIgaXNNYXAgPSB0YWdUZXN0ZXIoJ01hcCcpO1xuZXhwb3J0IHZhciBpc1dlYWtNYXAgPSB0YWdUZXN0ZXIoJ1dlYWtNYXAnKTtcbmV4cG9ydCB2YXIgaXNTZXQgPSB0YWdUZXN0ZXIoJ1NldCcpO1xuZXhwb3J0IHZhciBpc1dlYWtTZXQgPSB0YWdUZXN0ZXIoJ1dlYWtTZXQnKTtcblxuLy8gRGVmaW5lIGEgZmFsbGJhY2sgdmVyc2lvbiBvZiB0aGUgbWV0aG9kIGluIGJyb3dzZXJzIChhaGVtLCBJRSA8IDkpLCB3aGVyZVxuLy8gdGhlcmUgaXNuJ3QgYW55IGluc3BlY3RhYmxlIFwiQXJndW1lbnRzXCIgdHlwZS5cbihmdW5jdGlvbigpIHtcbiAgaWYgKCFpc0FyZ3VtZW50cyhhcmd1bWVudHMpKSB7XG4gICAgaXNBcmd1bWVudHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBfaGFzKG9iaiwgJ2NhbGxlZScpO1xuICAgIH07XG4gIH1cbn0oKSk7XG5cbi8vIE9wdGltaXplIGBpc0Z1bmN0aW9uYCBpZiBhcHByb3ByaWF0ZS4gV29yayBhcm91bmQgc29tZSB0eXBlb2YgYnVncyBpbiBvbGQgdjgsXG4vLyBJRSAxMSAoIzE2MjEpLCBTYWZhcmkgOCAoIzE5MjkpLCBhbmQgUGhhbnRvbUpTICgjMjIzNikuXG52YXIgbm9kZWxpc3QgPSByb290LmRvY3VtZW50ICYmIHJvb3QuZG9jdW1lbnQuY2hpbGROb2RlcztcbmlmICh0eXBlb2YgLy4vICE9ICdmdW5jdGlvbicgJiYgdHlwZW9mIEludDhBcnJheSAhPSAnb2JqZWN0JyAmJiB0eXBlb2Ygbm9kZWxpc3QgIT0gJ2Z1bmN0aW9uJykge1xuICBpc0Z1bmN0aW9uID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT0gJ2Z1bmN0aW9uJyB8fCBmYWxzZTtcbiAgfTtcbn1cblxuLy8gSXMgYSBnaXZlbiBvYmplY3QgYSBmaW5pdGUgbnVtYmVyP1xuZXhwb3J0IGZ1bmN0aW9uIGlzRmluaXRlKG9iaikge1xuICByZXR1cm4gIWlzU3ltYm9sKG9iaikgJiYgX2lzRmluaXRlKG9iaikgJiYgIV9pc05hTihwYXJzZUZsb2F0KG9iaikpO1xufVxuXG4vLyBJcyB0aGUgZ2l2ZW4gdmFsdWUgYE5hTmA/XG5leHBvcnQgZnVuY3Rpb24gaXNOYU4ob2JqKSB7XG4gIHJldHVybiBpc051bWJlcihvYmopICYmIF9pc05hTihvYmopO1xufVxuXG4vLyBJcyBhIGdpdmVuIHZhbHVlIGEgYm9vbGVhbj9cbmV4cG9ydCBmdW5jdGlvbiBpc0Jvb2xlYW4ob2JqKSB7XG4gIHJldHVybiBvYmogPT09IHRydWUgfHwgb2JqID09PSBmYWxzZSB8fCB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEJvb2xlYW5dJztcbn1cblxuLy8gSXMgYSBnaXZlbiB2YWx1ZSBlcXVhbCB0byBudWxsP1xuZXhwb3J0IGZ1bmN0aW9uIGlzTnVsbChvYmopIHtcbiAgcmV0dXJuIG9iaiA9PT0gbnVsbDtcbn1cblxuLy8gSXMgYSBnaXZlbiB2YXJpYWJsZSB1bmRlZmluZWQ/XG5leHBvcnQgZnVuY3Rpb24gaXNVbmRlZmluZWQob2JqKSB7XG4gIHJldHVybiBvYmogPT09IHZvaWQgMDtcbn1cblxuLy8gU2hvcnRjdXQgZnVuY3Rpb24gZm9yIGNoZWNraW5nIGlmIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBwcm9wZXJ0eSBkaXJlY3RseVxuLy8gb24gaXRzZWxmIChpbiBvdGhlciB3b3Jkcywgbm90IG9uIGEgcHJvdG90eXBlKS5cbmV4cG9ydCBmdW5jdGlvbiBoYXMob2JqLCBwYXRoKSB7XG4gIGlmICghaXNBcnJheShwYXRoKSkge1xuICAgIHJldHVybiBfaGFzKG9iaiwgcGF0aCk7XG4gIH1cbiAgdmFyIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHBhdGhbaV07XG4gICAgaWYgKG9iaiA9PSBudWxsIHx8ICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBvYmogPSBvYmpba2V5XTtcbiAgfVxuICByZXR1cm4gISFsZW5ndGg7XG59XG5cbi8vIFV0aWxpdHkgRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBLZWVwIHRoZSBpZGVudGl0eSBmdW5jdGlvbiBhcm91bmQgZm9yIGRlZmF1bHQgaXRlcmF0ZWVzLlxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuLy8gUHJlZGljYXRlLWdlbmVyYXRpbmcgZnVuY3Rpb25zLiBPZnRlbiB1c2VmdWwgb3V0c2lkZSBvZiBVbmRlcnNjb3JlLlxuZXhwb3J0IGZ1bmN0aW9uIGNvbnN0YW50KHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub29wKCl7fVxuXG4vLyBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBwYXNzZWQgYW4gb2JqZWN0LCB3aWxsIHRyYXZlcnNlIHRoYXQgb2JqZWN04oCZc1xuLy8gcHJvcGVydGllcyBkb3duIHRoZSBnaXZlbiBgcGF0aGAsIHNwZWNpZmllZCBhcyBhbiBhcnJheSBvZiBrZXlzIG9yIGluZGV4ZXMuXG5leHBvcnQgZnVuY3Rpb24gcHJvcGVydHkocGF0aCkge1xuICBpZiAoIWlzQXJyYXkocGF0aCkpIHtcbiAgICByZXR1cm4gc2hhbGxvd1Byb3BlcnR5KHBhdGgpO1xuICB9XG4gIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gZGVlcEdldChvYmosIHBhdGgpO1xuICB9O1xufVxuXG4vLyBHZW5lcmF0ZXMgYSBmdW5jdGlvbiBmb3IgYSBnaXZlbiBvYmplY3QgdGhhdCByZXR1cm5zIGEgZ2l2ZW4gcHJvcGVydHkuXG5leHBvcnQgZnVuY3Rpb24gcHJvcGVydHlPZihvYmopIHtcbiAgaWYgKG9iaiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCl7fTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuICAgIHJldHVybiAhaXNBcnJheShwYXRoKSA/IG9ialtwYXRoXSA6IGRlZXBHZXQob2JqLCBwYXRoKTtcbiAgfTtcbn1cblxuLy8gUmV0dXJucyBhIHByZWRpY2F0ZSBmb3IgY2hlY2tpbmcgd2hldGhlciBhbiBvYmplY3QgaGFzIGEgZ2l2ZW4gc2V0IG9mXG4vLyBga2V5OnZhbHVlYCBwYWlycy5cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaGVyKGF0dHJzKSB7XG4gIGF0dHJzID0gZXh0ZW5kT3duKHt9LCBhdHRycyk7XG4gIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gaXNNYXRjaChvYmosIGF0dHJzKTtcbiAgfTtcbn1cbmV4cG9ydCB7IG1hdGNoZXIgYXMgbWF0Y2hlcyB9O1xuXG4vLyBSdW4gYSBmdW5jdGlvbiAqKm4qKiB0aW1lcy5cbmV4cG9ydCBmdW5jdGlvbiB0aW1lcyhuLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICB2YXIgYWNjdW0gPSBBcnJheShNYXRoLm1heCgwLCBuKSk7XG4gIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCwgMSk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSBhY2N1bVtpXSA9IGl0ZXJhdGVlKGkpO1xuICByZXR1cm4gYWNjdW07XG59XG5cbi8vIFJldHVybiBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gbWluIGFuZCBtYXggKGluY2x1c2l2ZSkuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG1pbiwgbWF4KSB7XG4gIGlmIChtYXggPT0gbnVsbCkge1xuICAgIG1heCA9IG1pbjtcbiAgICBtaW4gPSAwO1xuICB9XG4gIHJldHVybiBtaW4gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpO1xufVxuXG4vLyBBIChwb3NzaWJseSBmYXN0ZXIpIHdheSB0byBnZXQgdGhlIGN1cnJlbnQgdGltZXN0YW1wIGFzIGFuIGludGVnZXIuXG5leHBvcnQgdmFyIG5vdyA9IERhdGUubm93IHx8IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG59O1xuXG4vLyBMaXN0IG9mIEhUTUwgZW50aXRpZXMgZm9yIGVzY2FwaW5nLlxudmFyIGVzY2FwZU1hcCA9IHtcbiAgJyYnOiAnJmFtcDsnLFxuICAnPCc6ICcmbHQ7JyxcbiAgJz4nOiAnJmd0OycsXG4gICdcIic6ICcmcXVvdDsnLFxuICBcIidcIjogJyYjeDI3OycsXG4gICdgJzogJyYjeDYwOydcbn07XG52YXIgdW5lc2NhcGVNYXAgPSBpbnZlcnQoZXNjYXBlTWFwKTtcblxuLy8gRnVuY3Rpb25zIGZvciBlc2NhcGluZyBhbmQgdW5lc2NhcGluZyBzdHJpbmdzIHRvL2Zyb20gSFRNTCBpbnRlcnBvbGF0aW9uLlxuZnVuY3Rpb24gY3JlYXRlRXNjYXBlcihtYXApIHtcbiAgdmFyIGVzY2FwZXIgPSBmdW5jdGlvbihtYXRjaCkge1xuICAgIHJldHVybiBtYXBbbWF0Y2hdO1xuICB9O1xuICAvLyBSZWdleGVzIGZvciBpZGVudGlmeWluZyBhIGtleSB0aGF0IG5lZWRzIHRvIGJlIGVzY2FwZWQuXG4gIHZhciBzb3VyY2UgPSAnKD86JyArIGtleXMobWFwKS5qb2luKCd8JykgKyAnKSc7XG4gIHZhciB0ZXN0UmVnZXhwID0gUmVnRXhwKHNvdXJjZSk7XG4gIHZhciByZXBsYWNlUmVnZXhwID0gUmVnRXhwKHNvdXJjZSwgJ2cnKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgIHN0cmluZyA9IHN0cmluZyA9PSBudWxsID8gJycgOiAnJyArIHN0cmluZztcbiAgICByZXR1cm4gdGVzdFJlZ2V4cC50ZXN0KHN0cmluZykgPyBzdHJpbmcucmVwbGFjZShyZXBsYWNlUmVnZXhwLCBlc2NhcGVyKSA6IHN0cmluZztcbiAgfTtcbn1cbmV4cG9ydCB2YXIgZXNjYXBlID0gY3JlYXRlRXNjYXBlcihlc2NhcGVNYXApO1xuZXhwb3J0IHZhciB1bmVzY2FwZSA9IGNyZWF0ZUVzY2FwZXIodW5lc2NhcGVNYXApO1xuXG4vLyBUcmF2ZXJzZXMgdGhlIGNoaWxkcmVuIG9mIGBvYmpgIGFsb25nIGBwYXRoYC4gSWYgYSBjaGlsZCBpcyBhIGZ1bmN0aW9uLCBpdFxuLy8gaXMgaW52b2tlZCB3aXRoIGl0cyBwYXJlbnQgYXMgY29udGV4dC4gUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIGZpbmFsXG4vLyBjaGlsZCwgb3IgYGZhbGxiYWNrYCBpZiBhbnkgY2hpbGQgaXMgdW5kZWZpbmVkLlxuZXhwb3J0IGZ1bmN0aW9uIHJlc3VsdChvYmosIHBhdGgsIGZhbGxiYWNrKSB7XG4gIGlmICghaXNBcnJheShwYXRoKSkgcGF0aCA9IFtwYXRoXTtcbiAgdmFyIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuICBpZiAoIWxlbmd0aCkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKGZhbGxiYWNrKSA/IGZhbGxiYWNrLmNhbGwob2JqKSA6IGZhbGxiYWNrO1xuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcHJvcCA9IG9iaiA9PSBudWxsID8gdm9pZCAwIDogb2JqW3BhdGhbaV1dO1xuICAgIGlmIChwcm9wID09PSB2b2lkIDApIHtcbiAgICAgIHByb3AgPSBmYWxsYmFjaztcbiAgICAgIGkgPSBsZW5ndGg7IC8vIEVuc3VyZSB3ZSBkb24ndCBjb250aW51ZSBpdGVyYXRpbmcuXG4gICAgfVxuICAgIG9iaiA9IGlzRnVuY3Rpb24ocHJvcCkgPyBwcm9wLmNhbGwob2JqKSA6IHByb3A7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLy8gR2VuZXJhdGUgYSB1bmlxdWUgaW50ZWdlciBpZCAodW5pcXVlIHdpdGhpbiB0aGUgZW50aXJlIGNsaWVudCBzZXNzaW9uKS5cbi8vIFVzZWZ1bCBmb3IgdGVtcG9yYXJ5IERPTSBpZHMuXG52YXIgaWRDb3VudGVyID0gMDtcbmV4cG9ydCBmdW5jdGlvbiB1bmlxdWVJZChwcmVmaXgpIHtcbiAgdmFyIGlkID0gKytpZENvdW50ZXIgKyAnJztcbiAgcmV0dXJuIHByZWZpeCA/IHByZWZpeCArIGlkIDogaWQ7XG59XG5cbi8vIEJ5IGRlZmF1bHQsIFVuZGVyc2NvcmUgdXNlcyBFUkItc3R5bGUgdGVtcGxhdGUgZGVsaW1pdGVycywgY2hhbmdlIHRoZVxuLy8gZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuZXhwb3J0IHZhciB0ZW1wbGF0ZVNldHRpbmdzID0gXy50ZW1wbGF0ZVNldHRpbmdzID0ge1xuICBldmFsdWF0ZTogLzwlKFtcXHNcXFNdKz8pJT4vZyxcbiAgaW50ZXJwb2xhdGU6IC88JT0oW1xcc1xcU10rPyklPi9nLFxuICBlc2NhcGU6IC88JS0oW1xcc1xcU10rPyklPi9nXG59O1xuXG4vLyBXaGVuIGN1c3RvbWl6aW5nIGB0ZW1wbGF0ZVNldHRpbmdzYCwgaWYgeW91IGRvbid0IHdhbnQgdG8gZGVmaW5lIGFuXG4vLyBpbnRlcnBvbGF0aW9uLCBldmFsdWF0aW9uIG9yIGVzY2FwaW5nIHJlZ2V4LCB3ZSBuZWVkIG9uZSB0aGF0IGlzXG4vLyBndWFyYW50ZWVkIG5vdCB0byBtYXRjaC5cbnZhciBub01hdGNoID0gLyguKV4vO1xuXG4vLyBDZXJ0YWluIGNoYXJhY3RlcnMgbmVlZCB0byBiZSBlc2NhcGVkIHNvIHRoYXQgdGhleSBjYW4gYmUgcHV0IGludG8gYVxuLy8gc3RyaW5nIGxpdGVyYWwuXG52YXIgZXNjYXBlcyA9IHtcbiAgXCInXCI6IFwiJ1wiLFxuICAnXFxcXCc6ICdcXFxcJyxcbiAgJ1xccic6ICdyJyxcbiAgJ1xcbic6ICduJyxcbiAgJ1xcdTIwMjgnOiAndTIwMjgnLFxuICAnXFx1MjAyOSc6ICd1MjAyOSdcbn07XG5cbnZhciBlc2NhcGVSZWdFeHAgPSAvXFxcXHwnfFxccnxcXG58XFx1MjAyOHxcXHUyMDI5L2c7XG5cbnZhciBlc2NhcGVDaGFyID0gZnVuY3Rpb24obWF0Y2gpIHtcbiAgcmV0dXJuICdcXFxcJyArIGVzY2FwZXNbbWF0Y2hdO1xufTtcblxuLy8gSmF2YVNjcmlwdCBtaWNyby10ZW1wbGF0aW5nLCBzaW1pbGFyIHRvIEpvaG4gUmVzaWcncyBpbXBsZW1lbnRhdGlvbi5cbi8vIFVuZGVyc2NvcmUgdGVtcGxhdGluZyBoYW5kbGVzIGFyYml0cmFyeSBkZWxpbWl0ZXJzLCBwcmVzZXJ2ZXMgd2hpdGVzcGFjZSxcbi8vIGFuZCBjb3JyZWN0bHkgZXNjYXBlcyBxdW90ZXMgd2l0aGluIGludGVycG9sYXRlZCBjb2RlLlxuLy8gTkI6IGBvbGRTZXR0aW5nc2Agb25seSBleGlzdHMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlKHRleHQsIHNldHRpbmdzLCBvbGRTZXR0aW5ncykge1xuICBpZiAoIXNldHRpbmdzICYmIG9sZFNldHRpbmdzKSBzZXR0aW5ncyA9IG9sZFNldHRpbmdzO1xuICBzZXR0aW5ncyA9IGRlZmF1bHRzKHt9LCBzZXR0aW5ncywgXy50ZW1wbGF0ZVNldHRpbmdzKTtcblxuICAvLyBDb21iaW5lIGRlbGltaXRlcnMgaW50byBvbmUgcmVndWxhciBleHByZXNzaW9uIHZpYSBhbHRlcm5hdGlvbi5cbiAgdmFyIG1hdGNoZXIgPSBSZWdFeHAoW1xuICAgIChzZXR0aW5ncy5lc2NhcGUgfHwgbm9NYXRjaCkuc291cmNlLFxuICAgIChzZXR0aW5ncy5pbnRlcnBvbGF0ZSB8fCBub01hdGNoKS5zb3VyY2UsXG4gICAgKHNldHRpbmdzLmV2YWx1YXRlIHx8IG5vTWF0Y2gpLnNvdXJjZVxuICBdLmpvaW4oJ3wnKSArICd8JCcsICdnJyk7XG5cbiAgLy8gQ29tcGlsZSB0aGUgdGVtcGxhdGUgc291cmNlLCBlc2NhcGluZyBzdHJpbmcgbGl0ZXJhbHMgYXBwcm9wcmlhdGVseS5cbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIHNvdXJjZSA9IFwiX19wKz0nXCI7XG4gIHRleHQucmVwbGFjZShtYXRjaGVyLCBmdW5jdGlvbihtYXRjaCwgZXNjYXBlLCBpbnRlcnBvbGF0ZSwgZXZhbHVhdGUsIG9mZnNldCkge1xuICAgIHNvdXJjZSArPSB0ZXh0LnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UoZXNjYXBlUmVnRXhwLCBlc2NhcGVDaGFyKTtcbiAgICBpbmRleCA9IG9mZnNldCArIG1hdGNoLmxlbmd0aDtcblxuICAgIGlmIChlc2NhcGUpIHtcbiAgICAgIHNvdXJjZSArPSBcIicrXFxuKChfX3Q9KFwiICsgZXNjYXBlICsgXCIpKT09bnVsbD8nJzpfLmVzY2FwZShfX3QpKStcXG4nXCI7XG4gICAgfSBlbHNlIGlmIChpbnRlcnBvbGF0ZSkge1xuICAgICAgc291cmNlICs9IFwiJytcXG4oKF9fdD0oXCIgKyBpbnRlcnBvbGF0ZSArIFwiKSk9PW51bGw/Jyc6X190KStcXG4nXCI7XG4gICAgfSBlbHNlIGlmIChldmFsdWF0ZSkge1xuICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlICsgXCJcXG5fX3ArPSdcIjtcbiAgICB9XG5cbiAgICAvLyBBZG9iZSBWTXMgbmVlZCB0aGUgbWF0Y2ggcmV0dXJuZWQgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBvZmZzZXQuXG4gICAgcmV0dXJuIG1hdGNoO1xuICB9KTtcbiAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAvLyBJZiBhIHZhcmlhYmxlIGlzIG5vdCBzcGVjaWZpZWQsIHBsYWNlIGRhdGEgdmFsdWVzIGluIGxvY2FsIHNjb3BlLlxuICBpZiAoIXNldHRpbmdzLnZhcmlhYmxlKSBzb3VyY2UgPSAnd2l0aChvYmp8fHt9KXtcXG4nICsgc291cmNlICsgJ31cXG4nO1xuXG4gIHNvdXJjZSA9IFwidmFyIF9fdCxfX3A9JycsX19qPUFycmF5LnByb3RvdHlwZS5qb2luLFwiICtcbiAgICBcInByaW50PWZ1bmN0aW9uKCl7X19wKz1fX2ouY2FsbChhcmd1bWVudHMsJycpO307XFxuXCIgK1xuICAgIHNvdXJjZSArICdyZXR1cm4gX19wO1xcbic7XG5cbiAgdmFyIHJlbmRlcjtcbiAgdHJ5IHtcbiAgICByZW5kZXIgPSBuZXcgRnVuY3Rpb24oc2V0dGluZ3MudmFyaWFibGUgfHwgJ29iaicsICdfJywgc291cmNlKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGUuc291cmNlID0gc291cmNlO1xuICAgIHRocm93IGU7XG4gIH1cblxuICB2YXIgdGVtcGxhdGUgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgcmV0dXJuIHJlbmRlci5jYWxsKHRoaXMsIGRhdGEsIF8pO1xuICB9O1xuXG4gIC8vIFByb3ZpZGUgdGhlIGNvbXBpbGVkIHNvdXJjZSBhcyBhIGNvbnZlbmllbmNlIGZvciBwcmVjb21waWxhdGlvbi5cbiAgdmFyIGFyZ3VtZW50ID0gc2V0dGluZ3MudmFyaWFibGUgfHwgJ29iaic7XG4gIHRlbXBsYXRlLnNvdXJjZSA9ICdmdW5jdGlvbignICsgYXJndW1lbnQgKyAnKXtcXG4nICsgc291cmNlICsgJ30nO1xuXG4gIHJldHVybiB0ZW1wbGF0ZTtcbn1cblxuLy8gQWRkIGEgXCJjaGFpblwiIGZ1bmN0aW9uLiBTdGFydCBjaGFpbmluZyBhIHdyYXBwZWQgVW5kZXJzY29yZSBvYmplY3QuXG5leHBvcnQgZnVuY3Rpb24gY2hhaW4ob2JqKSB7XG4gIHZhciBpbnN0YW5jZSA9IF8ob2JqKTtcbiAgaW5zdGFuY2UuX2NoYWluID0gdHJ1ZTtcbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG4vLyBPT1Bcbi8vIC0tLS0tLS0tLS0tLS0tLVxuLy8gSWYgVW5kZXJzY29yZSBpcyBjYWxsZWQgYXMgYSBmdW5jdGlvbiwgaXQgcmV0dXJucyBhIHdyYXBwZWQgb2JqZWN0IHRoYXRcbi8vIGNhbiBiZSB1c2VkIE9PLXN0eWxlLiBUaGlzIHdyYXBwZXIgaG9sZHMgYWx0ZXJlZCB2ZXJzaW9ucyBvZiBhbGwgdGhlXG4vLyB1bmRlcnNjb3JlIGZ1bmN0aW9ucy4gV3JhcHBlZCBvYmplY3RzIG1heSBiZSBjaGFpbmVkLlxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29udGludWUgY2hhaW5pbmcgaW50ZXJtZWRpYXRlIHJlc3VsdHMuXG5mdW5jdGlvbiBjaGFpblJlc3VsdChpbnN0YW5jZSwgb2JqKSB7XG4gIHJldHVybiBpbnN0YW5jZS5fY2hhaW4gPyBfKG9iaikuY2hhaW4oKSA6IG9iajtcbn1cblxuLy8gQWRkIHlvdXIgb3duIGN1c3RvbSBmdW5jdGlvbnMgdG8gdGhlIFVuZGVyc2NvcmUgb2JqZWN0LlxuZXhwb3J0IGZ1bmN0aW9uIG1peGluKG9iaikge1xuICBlYWNoKGZ1bmN0aW9ucyhvYmopLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIGZ1bmMgPSBfW25hbWVdID0gb2JqW25hbWVdO1xuICAgIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYXJncyA9IFt0aGlzLl93cmFwcGVkXTtcbiAgICAgIHB1c2guYXBwbHkoYXJncywgYXJndW1lbnRzKTtcbiAgICAgIHJldHVybiBjaGFpblJlc3VsdCh0aGlzLCBmdW5jLmFwcGx5KF8sIGFyZ3MpKTtcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIF87XG59XG5cbi8vIEFkZCBhbGwgbXV0YXRvciBBcnJheSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIuXG5lYWNoKFsncG9wJywgJ3B1c2gnLCAncmV2ZXJzZScsICdzaGlmdCcsICdzb3J0JywgJ3NwbGljZScsICd1bnNoaWZ0J10sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9iaiA9IHRoaXMuX3dyYXBwZWQ7XG4gICAgbWV0aG9kLmFwcGx5KG9iaiwgYXJndW1lbnRzKTtcbiAgICBpZiAoKG5hbWUgPT09ICdzaGlmdCcgfHwgbmFtZSA9PT0gJ3NwbGljZScpICYmIG9iai5sZW5ndGggPT09IDApIGRlbGV0ZSBvYmpbMF07XG4gICAgcmV0dXJuIGNoYWluUmVzdWx0KHRoaXMsIG9iaik7XG4gIH07XG59KTtcblxuLy8gQWRkIGFsbCBhY2Nlc3NvciBBcnJheSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIuXG5lYWNoKFsnY29uY2F0JywgJ2pvaW4nLCAnc2xpY2UnXSwgZnVuY3Rpb24obmFtZSkge1xuICB2YXIgbWV0aG9kID0gQXJyYXlQcm90b1tuYW1lXTtcbiAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gY2hhaW5SZXN1bHQodGhpcywgbWV0aG9kLmFwcGx5KHRoaXMuX3dyYXBwZWQsIGFyZ3VtZW50cykpO1xuICB9O1xufSk7XG5cbi8vIEV4dHJhY3RzIHRoZSByZXN1bHQgZnJvbSBhIHdyYXBwZWQgYW5kIGNoYWluZWQgb2JqZWN0LlxuXy5wcm90b3R5cGUudmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX3dyYXBwZWQ7XG59O1xuXG4vLyBQcm92aWRlIHVud3JhcHBpbmcgcHJveHkgZm9yIHNvbWUgbWV0aG9kcyB1c2VkIGluIGVuZ2luZSBvcGVyYXRpb25zXG4vLyBzdWNoIGFzIGFyaXRobWV0aWMgYW5kIEpTT04gc3RyaW5naWZpY2F0aW9uLlxuXy5wcm90b3R5cGUudmFsdWVPZiA9IF8ucHJvdG90eXBlLnRvSlNPTiA9IF8ucHJvdG90eXBlLnZhbHVlO1xuXG5fLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gU3RyaW5nKHRoaXMuX3dyYXBwZWQpO1xufTtcbiIsImltcG9ydCAqIGFzIGFsbEV4cG9ydHMgZnJvbSAnLi9pbmRleC5qcyc7XG5pbXBvcnQgeyBtaXhpbiB9IGZyb20gJy4vaW5kZXguanMnO1xuXG4vLyBBZGQgYWxsIG9mIHRoZSBVbmRlcnNjb3JlIGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlciBvYmplY3QuXG52YXIgXyA9IG1peGluKGFsbEV4cG9ydHMpO1xuLy8gTGVnYWN5IE5vZGUuanMgQVBJXG5fLl8gPSBfO1xuLy8gRXhwb3J0IHRoZSBVbmRlcnNjb3JlIEFQSS5cbmV4cG9ydCBkZWZhdWx0IF87XG4iLCIvLyAgICAgQmFja2JvbmUuanMgMS40LjBcblxuLy8gICAgIChjKSAyMDEwLTIwMTkgSmVyZW15IEFzaGtlbmFzIGFuZCBEb2N1bWVudENsb3VkXG4vLyAgICAgQmFja2JvbmUgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4vLyAgICAgRm9yIGFsbCBkZXRhaWxzIGFuZCBkb2N1bWVudGF0aW9uOlxuLy8gICAgIGh0dHA6Ly9iYWNrYm9uZWpzLm9yZ1xuXG4oZnVuY3Rpb24oZmFjdG9yeSkge1xuXG4gIC8vIEVzdGFibGlzaCB0aGUgcm9vdCBvYmplY3QsIGB3aW5kb3dgIChgc2VsZmApIGluIHRoZSBicm93c2VyLCBvciBgZ2xvYmFsYCBvbiB0aGUgc2VydmVyLlxuICAvLyBXZSB1c2UgYHNlbGZgIGluc3RlYWQgb2YgYHdpbmRvd2AgZm9yIGBXZWJXb3JrZXJgIHN1cHBvcnQuXG4gIHZhciByb290ID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZi5zZWxmID09PSBzZWxmICYmIHNlbGYgfHxcbiAgICAgICAgICAgIHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsLmdsb2JhbCA9PT0gZ2xvYmFsICYmIGdsb2JhbDtcblxuICAvLyBTZXQgdXAgQmFja2JvbmUgYXBwcm9wcmlhdGVseSBmb3IgdGhlIGVudmlyb25tZW50LiBTdGFydCB3aXRoIEFNRC5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbJ3VuZGVyc2NvcmUnLCAnanF1ZXJ5JywgJ2V4cG9ydHMnXSwgZnVuY3Rpb24oXywgJCwgZXhwb3J0cykge1xuICAgICAgLy8gRXhwb3J0IGdsb2JhbCBldmVuIGluIEFNRCBjYXNlIGluIGNhc2UgdGhpcyBzY3JpcHQgaXMgbG9hZGVkIHdpdGhcbiAgICAgIC8vIG90aGVycyB0aGF0IG1heSBzdGlsbCBleHBlY3QgYSBnbG9iYWwgQmFja2JvbmUuXG4gICAgICByb290LkJhY2tib25lID0gZmFjdG9yeShyb290LCBleHBvcnRzLCBfLCAkKTtcbiAgICB9KTtcblxuICAvLyBOZXh0IGZvciBOb2RlLmpzIG9yIENvbW1vbkpTLiBqUXVlcnkgbWF5IG5vdCBiZSBuZWVkZWQgYXMgYSBtb2R1bGUuXG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyksICQ7XG4gICAgdHJ5IHsgJCA9IHJlcXVpcmUoJ2pxdWVyeScpOyB9IGNhdGNoIChlKSB7fVxuICAgIGZhY3Rvcnkocm9vdCwgZXhwb3J0cywgXywgJCk7XG5cbiAgLy8gRmluYWxseSwgYXMgYSBicm93c2VyIGdsb2JhbC5cbiAgfSBlbHNlIHtcbiAgICByb290LkJhY2tib25lID0gZmFjdG9yeShyb290LCB7fSwgcm9vdC5fLCByb290LmpRdWVyeSB8fCByb290LlplcHRvIHx8IHJvb3QuZW5kZXIgfHwgcm9vdC4kKTtcbiAgfVxuXG59KShmdW5jdGlvbihyb290LCBCYWNrYm9uZSwgXywgJCkge1xuXG4gIC8vIEluaXRpYWwgU2V0dXBcbiAgLy8gLS0tLS0tLS0tLS0tLVxuXG4gIC8vIFNhdmUgdGhlIHByZXZpb3VzIHZhbHVlIG9mIHRoZSBgQmFja2JvbmVgIHZhcmlhYmxlLCBzbyB0aGF0IGl0IGNhbiBiZVxuICAvLyByZXN0b3JlZCBsYXRlciBvbiwgaWYgYG5vQ29uZmxpY3RgIGlzIHVzZWQuXG4gIHZhciBwcmV2aW91c0JhY2tib25lID0gcm9vdC5CYWNrYm9uZTtcblxuICAvLyBDcmVhdGUgYSBsb2NhbCByZWZlcmVuY2UgdG8gYSBjb21tb24gYXJyYXkgbWV0aG9kIHdlJ2xsIHdhbnQgdG8gdXNlIGxhdGVyLlxuICB2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbiAgLy8gQ3VycmVudCB2ZXJzaW9uIG9mIHRoZSBsaWJyYXJ5LiBLZWVwIGluIHN5bmMgd2l0aCBgcGFja2FnZS5qc29uYC5cbiAgQmFja2JvbmUuVkVSU0lPTiA9ICcxLjQuMCc7XG5cbiAgLy8gRm9yIEJhY2tib25lJ3MgcHVycG9zZXMsIGpRdWVyeSwgWmVwdG8sIEVuZGVyLCBvciBNeSBMaWJyYXJ5IChraWRkaW5nKSBvd25zXG4gIC8vIHRoZSBgJGAgdmFyaWFibGUuXG4gIEJhY2tib25lLiQgPSAkO1xuXG4gIC8vIFJ1bnMgQmFja2JvbmUuanMgaW4gKm5vQ29uZmxpY3QqIG1vZGUsIHJldHVybmluZyB0aGUgYEJhY2tib25lYCB2YXJpYWJsZVxuICAvLyB0byBpdHMgcHJldmlvdXMgb3duZXIuIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhpcyBCYWNrYm9uZSBvYmplY3QuXG4gIEJhY2tib25lLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcbiAgICByb290LkJhY2tib25lID0gcHJldmlvdXNCYWNrYm9uZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvLyBUdXJuIG9uIGBlbXVsYXRlSFRUUGAgdG8gc3VwcG9ydCBsZWdhY3kgSFRUUCBzZXJ2ZXJzLiBTZXR0aW5nIHRoaXMgb3B0aW9uXG4gIC8vIHdpbGwgZmFrZSBgXCJQQVRDSFwiYCwgYFwiUFVUXCJgIGFuZCBgXCJERUxFVEVcImAgcmVxdWVzdHMgdmlhIHRoZSBgX21ldGhvZGAgcGFyYW1ldGVyIGFuZFxuICAvLyBzZXQgYSBgWC1IdHRwLU1ldGhvZC1PdmVycmlkZWAgaGVhZGVyLlxuICBCYWNrYm9uZS5lbXVsYXRlSFRUUCA9IGZhbHNlO1xuXG4gIC8vIFR1cm4gb24gYGVtdWxhdGVKU09OYCB0byBzdXBwb3J0IGxlZ2FjeSBzZXJ2ZXJzIHRoYXQgY2FuJ3QgZGVhbCB3aXRoIGRpcmVjdFxuICAvLyBgYXBwbGljYXRpb24vanNvbmAgcmVxdWVzdHMgLi4uIHRoaXMgd2lsbCBlbmNvZGUgdGhlIGJvZHkgYXNcbiAgLy8gYGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZGAgaW5zdGVhZCBhbmQgd2lsbCBzZW5kIHRoZSBtb2RlbCBpbiBhXG4gIC8vIGZvcm0gcGFyYW0gbmFtZWQgYG1vZGVsYC5cbiAgQmFja2JvbmUuZW11bGF0ZUpTT04gPSBmYWxzZTtcblxuICAvLyBCYWNrYm9uZS5FdmVudHNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gQSBtb2R1bGUgdGhhdCBjYW4gYmUgbWl4ZWQgaW4gdG8gKmFueSBvYmplY3QqIGluIG9yZGVyIHRvIHByb3ZpZGUgaXQgd2l0aFxuICAvLyBhIGN1c3RvbSBldmVudCBjaGFubmVsLiBZb3UgbWF5IGJpbmQgYSBjYWxsYmFjayB0byBhbiBldmVudCB3aXRoIGBvbmAgb3JcbiAgLy8gcmVtb3ZlIHdpdGggYG9mZmA7IGB0cmlnZ2VyYC1pbmcgYW4gZXZlbnQgZmlyZXMgYWxsIGNhbGxiYWNrcyBpblxuICAvLyBzdWNjZXNzaW9uLlxuICAvL1xuICAvLyAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAvLyAgICAgXy5leHRlbmQob2JqZWN0LCBCYWNrYm9uZS5FdmVudHMpO1xuICAvLyAgICAgb2JqZWN0Lm9uKCdleHBhbmQnLCBmdW5jdGlvbigpeyBhbGVydCgnZXhwYW5kZWQnKTsgfSk7XG4gIC8vICAgICBvYmplY3QudHJpZ2dlcignZXhwYW5kJyk7XG4gIC8vXG4gIHZhciBFdmVudHMgPSBCYWNrYm9uZS5FdmVudHMgPSB7fTtcblxuICAvLyBSZWd1bGFyIGV4cHJlc3Npb24gdXNlZCB0byBzcGxpdCBldmVudCBzdHJpbmdzLlxuICB2YXIgZXZlbnRTcGxpdHRlciA9IC9cXHMrLztcblxuICAvLyBBIHByaXZhdGUgZ2xvYmFsIHZhcmlhYmxlIHRvIHNoYXJlIGJldHdlZW4gbGlzdGVuZXJzIGFuZCBsaXN0ZW5lZXMuXG4gIHZhciBfbGlzdGVuaW5nO1xuXG4gIC8vIEl0ZXJhdGVzIG92ZXIgdGhlIHN0YW5kYXJkIGBldmVudCwgY2FsbGJhY2tgIChhcyB3ZWxsIGFzIHRoZSBmYW5jeSBtdWx0aXBsZVxuICAvLyBzcGFjZS1zZXBhcmF0ZWQgZXZlbnRzIGBcImNoYW5nZSBibHVyXCIsIGNhbGxiYWNrYCBhbmQgalF1ZXJ5LXN0eWxlIGV2ZW50XG4gIC8vIG1hcHMgYHtldmVudDogY2FsbGJhY2t9YCkuXG4gIHZhciBldmVudHNBcGkgPSBmdW5jdGlvbihpdGVyYXRlZSwgZXZlbnRzLCBuYW1lLCBjYWxsYmFjaywgb3B0cykge1xuICAgIHZhciBpID0gMCwgbmFtZXM7XG4gICAgaWYgKG5hbWUgJiYgdHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAvLyBIYW5kbGUgZXZlbnQgbWFwcy5cbiAgICAgIGlmIChjYWxsYmFjayAhPT0gdm9pZCAwICYmICdjb250ZXh0JyBpbiBvcHRzICYmIG9wdHMuY29udGV4dCA9PT0gdm9pZCAwKSBvcHRzLmNvbnRleHQgPSBjYWxsYmFjaztcbiAgICAgIGZvciAobmFtZXMgPSBfLmtleXMobmFtZSk7IGkgPCBuYW1lcy5sZW5ndGggOyBpKyspIHtcbiAgICAgICAgZXZlbnRzID0gZXZlbnRzQXBpKGl0ZXJhdGVlLCBldmVudHMsIG5hbWVzW2ldLCBuYW1lW25hbWVzW2ldXSwgb3B0cyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChuYW1lICYmIGV2ZW50U3BsaXR0ZXIudGVzdChuYW1lKSkge1xuICAgICAgLy8gSGFuZGxlIHNwYWNlLXNlcGFyYXRlZCBldmVudCBuYW1lcyBieSBkZWxlZ2F0aW5nIHRoZW0gaW5kaXZpZHVhbGx5LlxuICAgICAgZm9yIChuYW1lcyA9IG5hbWUuc3BsaXQoZXZlbnRTcGxpdHRlcik7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBldmVudHMgPSBpdGVyYXRlZShldmVudHMsIG5hbWVzW2ldLCBjYWxsYmFjaywgb3B0cyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZpbmFsbHksIHN0YW5kYXJkIGV2ZW50cy5cbiAgICAgIGV2ZW50cyA9IGl0ZXJhdGVlKGV2ZW50cywgbmFtZSwgY2FsbGJhY2ssIG9wdHMpO1xuICAgIH1cbiAgICByZXR1cm4gZXZlbnRzO1xuICB9O1xuXG4gIC8vIEJpbmQgYW4gZXZlbnQgdG8gYSBgY2FsbGJhY2tgIGZ1bmN0aW9uLiBQYXNzaW5nIGBcImFsbFwiYCB3aWxsIGJpbmRcbiAgLy8gdGhlIGNhbGxiYWNrIHRvIGFsbCBldmVudHMgZmlyZWQuXG4gIEV2ZW50cy5vbiA9IGZ1bmN0aW9uKG5hbWUsIGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgdGhpcy5fZXZlbnRzID0gZXZlbnRzQXBpKG9uQXBpLCB0aGlzLl9ldmVudHMgfHwge30sIG5hbWUsIGNhbGxiYWNrLCB7XG4gICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgY3R4OiB0aGlzLFxuICAgICAgbGlzdGVuaW5nOiBfbGlzdGVuaW5nXG4gICAgfSk7XG5cbiAgICBpZiAoX2xpc3RlbmluZykge1xuICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycyB8fCAodGhpcy5fbGlzdGVuZXJzID0ge30pO1xuICAgICAgbGlzdGVuZXJzW19saXN0ZW5pbmcuaWRdID0gX2xpc3RlbmluZztcbiAgICAgIC8vIEFsbG93IHRoZSBsaXN0ZW5pbmcgdG8gdXNlIGEgY291bnRlciwgaW5zdGVhZCBvZiB0cmFja2luZ1xuICAgICAgLy8gY2FsbGJhY2tzIGZvciBsaWJyYXJ5IGludGVyb3BcbiAgICAgIF9saXN0ZW5pbmcuaW50ZXJvcCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIEludmVyc2lvbi1vZi1jb250cm9sIHZlcnNpb25zIG9mIGBvbmAuIFRlbGwgKnRoaXMqIG9iamVjdCB0byBsaXN0ZW4gdG9cbiAgLy8gYW4gZXZlbnQgaW4gYW5vdGhlciBvYmplY3QuLi4ga2VlcGluZyB0cmFjayBvZiB3aGF0IGl0J3MgbGlzdGVuaW5nIHRvXG4gIC8vIGZvciBlYXNpZXIgdW5iaW5kaW5nIGxhdGVyLlxuICBFdmVudHMubGlzdGVuVG8gPSBmdW5jdGlvbihvYmosIG5hbWUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKCFvYmopIHJldHVybiB0aGlzO1xuICAgIHZhciBpZCA9IG9iai5fbGlzdGVuSWQgfHwgKG9iai5fbGlzdGVuSWQgPSBfLnVuaXF1ZUlkKCdsJykpO1xuICAgIHZhciBsaXN0ZW5pbmdUbyA9IHRoaXMuX2xpc3RlbmluZ1RvIHx8ICh0aGlzLl9saXN0ZW5pbmdUbyA9IHt9KTtcbiAgICB2YXIgbGlzdGVuaW5nID0gX2xpc3RlbmluZyA9IGxpc3RlbmluZ1RvW2lkXTtcblxuICAgIC8vIFRoaXMgb2JqZWN0IGlzIG5vdCBsaXN0ZW5pbmcgdG8gYW55IG90aGVyIGV2ZW50cyBvbiBgb2JqYCB5ZXQuXG4gICAgLy8gU2V0dXAgdGhlIG5lY2Vzc2FyeSByZWZlcmVuY2VzIHRvIHRyYWNrIHRoZSBsaXN0ZW5pbmcgY2FsbGJhY2tzLlxuICAgIGlmICghbGlzdGVuaW5nKSB7XG4gICAgICB0aGlzLl9saXN0ZW5JZCB8fCAodGhpcy5fbGlzdGVuSWQgPSBfLnVuaXF1ZUlkKCdsJykpO1xuICAgICAgbGlzdGVuaW5nID0gX2xpc3RlbmluZyA9IGxpc3RlbmluZ1RvW2lkXSA9IG5ldyBMaXN0ZW5pbmcodGhpcywgb2JqKTtcbiAgICB9XG5cbiAgICAvLyBCaW5kIGNhbGxiYWNrcyBvbiBvYmouXG4gICAgdmFyIGVycm9yID0gdHJ5Q2F0Y2hPbihvYmosIG5hbWUsIGNhbGxiYWNrLCB0aGlzKTtcbiAgICBfbGlzdGVuaW5nID0gdm9pZCAwO1xuXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICAvLyBJZiB0aGUgdGFyZ2V0IG9iaiBpcyBub3QgQmFja2JvbmUuRXZlbnRzLCB0cmFjayBldmVudHMgbWFudWFsbHkuXG4gICAgaWYgKGxpc3RlbmluZy5pbnRlcm9wKSBsaXN0ZW5pbmcub24obmFtZSwgY2FsbGJhY2spO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gVGhlIHJlZHVjaW5nIEFQSSB0aGF0IGFkZHMgYSBjYWxsYmFjayB0byB0aGUgYGV2ZW50c2Agb2JqZWN0LlxuICB2YXIgb25BcGkgPSBmdW5jdGlvbihldmVudHMsIG5hbWUsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgaGFuZGxlcnMgPSBldmVudHNbbmFtZV0gfHwgKGV2ZW50c1tuYW1lXSA9IFtdKTtcbiAgICAgIHZhciBjb250ZXh0ID0gb3B0aW9ucy5jb250ZXh0LCBjdHggPSBvcHRpb25zLmN0eCwgbGlzdGVuaW5nID0gb3B0aW9ucy5saXN0ZW5pbmc7XG4gICAgICBpZiAobGlzdGVuaW5nKSBsaXN0ZW5pbmcuY291bnQrKztcblxuICAgICAgaGFuZGxlcnMucHVzaCh7Y2FsbGJhY2s6IGNhbGxiYWNrLCBjb250ZXh0OiBjb250ZXh0LCBjdHg6IGNvbnRleHQgfHwgY3R4LCBsaXN0ZW5pbmc6IGxpc3RlbmluZ30pO1xuICAgIH1cbiAgICByZXR1cm4gZXZlbnRzO1xuICB9O1xuXG4gIC8vIEFuIHRyeS1jYXRjaCBndWFyZGVkICNvbiBmdW5jdGlvbiwgdG8gcHJldmVudCBwb2lzb25pbmcgdGhlIGdsb2JhbFxuICAvLyBgX2xpc3RlbmluZ2AgdmFyaWFibGUuXG4gIHZhciB0cnlDYXRjaE9uID0gZnVuY3Rpb24ob2JqLCBuYW1lLCBjYWxsYmFjaywgY29udGV4dCkge1xuICAgIHRyeSB7XG4gICAgICBvYmoub24obmFtZSwgY2FsbGJhY2ssIGNvbnRleHQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBlO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZW1vdmUgb25lIG9yIG1hbnkgY2FsbGJhY2tzLiBJZiBgY29udGV4dGAgaXMgbnVsbCwgcmVtb3ZlcyBhbGxcbiAgLy8gY2FsbGJhY2tzIHdpdGggdGhhdCBmdW5jdGlvbi4gSWYgYGNhbGxiYWNrYCBpcyBudWxsLCByZW1vdmVzIGFsbFxuICAvLyBjYWxsYmFja3MgZm9yIHRoZSBldmVudC4gSWYgYG5hbWVgIGlzIG51bGwsIHJlbW92ZXMgYWxsIGJvdW5kXG4gIC8vIGNhbGxiYWNrcyBmb3IgYWxsIGV2ZW50cy5cbiAgRXZlbnRzLm9mZiA9IGZ1bmN0aW9uKG5hbWUsIGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMpIHJldHVybiB0aGlzO1xuICAgIHRoaXMuX2V2ZW50cyA9IGV2ZW50c0FwaShvZmZBcGksIHRoaXMuX2V2ZW50cywgbmFtZSwgY2FsbGJhY2ssIHtcbiAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICBsaXN0ZW5lcnM6IHRoaXMuX2xpc3RlbmVyc1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gVGVsbCB0aGlzIG9iamVjdCB0byBzdG9wIGxpc3RlbmluZyB0byBlaXRoZXIgc3BlY2lmaWMgZXZlbnRzIC4uLiBvclxuICAvLyB0byBldmVyeSBvYmplY3QgaXQncyBjdXJyZW50bHkgbGlzdGVuaW5nIHRvLlxuICBFdmVudHMuc3RvcExpc3RlbmluZyA9IGZ1bmN0aW9uKG9iaiwgbmFtZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgbGlzdGVuaW5nVG8gPSB0aGlzLl9saXN0ZW5pbmdUbztcbiAgICBpZiAoIWxpc3RlbmluZ1RvKSByZXR1cm4gdGhpcztcblxuICAgIHZhciBpZHMgPSBvYmogPyBbb2JqLl9saXN0ZW5JZF0gOiBfLmtleXMobGlzdGVuaW5nVG8pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbGlzdGVuaW5nID0gbGlzdGVuaW5nVG9baWRzW2ldXTtcblxuICAgICAgLy8gSWYgbGlzdGVuaW5nIGRvZXNuJ3QgZXhpc3QsIHRoaXMgb2JqZWN0IGlzIG5vdCBjdXJyZW50bHlcbiAgICAgIC8vIGxpc3RlbmluZyB0byBvYmouIEJyZWFrIG91dCBlYXJseS5cbiAgICAgIGlmICghbGlzdGVuaW5nKSBicmVhaztcblxuICAgICAgbGlzdGVuaW5nLm9iai5vZmYobmFtZSwgY2FsbGJhY2ssIHRoaXMpO1xuICAgICAgaWYgKGxpc3RlbmluZy5pbnRlcm9wKSBsaXN0ZW5pbmcub2ZmKG5hbWUsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgaWYgKF8uaXNFbXB0eShsaXN0ZW5pbmdUbykpIHRoaXMuX2xpc3RlbmluZ1RvID0gdm9pZCAwO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gVGhlIHJlZHVjaW5nIEFQSSB0aGF0IHJlbW92ZXMgYSBjYWxsYmFjayBmcm9tIHRoZSBgZXZlbnRzYCBvYmplY3QuXG4gIHZhciBvZmZBcGkgPSBmdW5jdGlvbihldmVudHMsIG5hbWUsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgaWYgKCFldmVudHMpIHJldHVybjtcblxuICAgIHZhciBjb250ZXh0ID0gb3B0aW9ucy5jb250ZXh0LCBsaXN0ZW5lcnMgPSBvcHRpb25zLmxpc3RlbmVycztcbiAgICB2YXIgaSA9IDAsIG5hbWVzO1xuXG4gICAgLy8gRGVsZXRlIGFsbCBldmVudCBsaXN0ZW5lcnMgYW5kIFwiZHJvcFwiIGV2ZW50cy5cbiAgICBpZiAoIW5hbWUgJiYgIWNvbnRleHQgJiYgIWNhbGxiYWNrKSB7XG4gICAgICBmb3IgKG5hbWVzID0gXy5rZXlzKGxpc3RlbmVycyk7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsaXN0ZW5lcnNbbmFtZXNbaV1dLmNsZWFudXAoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBuYW1lcyA9IG5hbWUgPyBbbmFtZV0gOiBfLmtleXMoZXZlbnRzKTtcbiAgICBmb3IgKDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBuYW1lID0gbmFtZXNbaV07XG4gICAgICB2YXIgaGFuZGxlcnMgPSBldmVudHNbbmFtZV07XG5cbiAgICAgIC8vIEJhaWwgb3V0IGlmIHRoZXJlIGFyZSBubyBldmVudHMgc3RvcmVkLlxuICAgICAgaWYgKCFoYW5kbGVycykgYnJlYWs7XG5cbiAgICAgIC8vIEZpbmQgYW55IHJlbWFpbmluZyBldmVudHMuXG4gICAgICB2YXIgcmVtYWluaW5nID0gW107XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGhhbmRsZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBoYW5kbGVyID0gaGFuZGxlcnNbal07XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayAhPT0gaGFuZGxlci5jYWxsYmFjayAmJlxuICAgICAgICAgICAgY2FsbGJhY2sgIT09IGhhbmRsZXIuY2FsbGJhY2suX2NhbGxiYWNrIHx8XG4gICAgICAgICAgICAgIGNvbnRleHQgJiYgY29udGV4dCAhPT0gaGFuZGxlci5jb250ZXh0XG4gICAgICAgICkge1xuICAgICAgICAgIHJlbWFpbmluZy5wdXNoKGhhbmRsZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBsaXN0ZW5pbmcgPSBoYW5kbGVyLmxpc3RlbmluZztcbiAgICAgICAgICBpZiAobGlzdGVuaW5nKSBsaXN0ZW5pbmcub2ZmKG5hbWUsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBSZXBsYWNlIGV2ZW50cyBpZiB0aGVyZSBhcmUgYW55IHJlbWFpbmluZy4gIE90aGVyd2lzZSwgY2xlYW4gdXAuXG4gICAgICBpZiAocmVtYWluaW5nLmxlbmd0aCkge1xuICAgICAgICBldmVudHNbbmFtZV0gPSByZW1haW5pbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGUgZXZlbnRzW25hbWVdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBldmVudHM7XG4gIH07XG5cbiAgLy8gQmluZCBhbiBldmVudCB0byBvbmx5IGJlIHRyaWdnZXJlZCBhIHNpbmdsZSB0aW1lLiBBZnRlciB0aGUgZmlyc3QgdGltZVxuICAvLyB0aGUgY2FsbGJhY2sgaXMgaW52b2tlZCwgaXRzIGxpc3RlbmVyIHdpbGwgYmUgcmVtb3ZlZC4gSWYgbXVsdGlwbGUgZXZlbnRzXG4gIC8vIGFyZSBwYXNzZWQgaW4gdXNpbmcgdGhlIHNwYWNlLXNlcGFyYXRlZCBzeW50YXgsIHRoZSBoYW5kbGVyIHdpbGwgZmlyZVxuICAvLyBvbmNlIGZvciBlYWNoIGV2ZW50LCBub3Qgb25jZSBmb3IgYSBjb21iaW5hdGlvbiBvZiBhbGwgZXZlbnRzLlxuICBFdmVudHMub25jZSA9IGZ1bmN0aW9uKG5hbWUsIGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgLy8gTWFwIHRoZSBldmVudCBpbnRvIGEgYHtldmVudDogb25jZX1gIG9iamVjdC5cbiAgICB2YXIgZXZlbnRzID0gZXZlbnRzQXBpKG9uY2VNYXAsIHt9LCBuYW1lLCBjYWxsYmFjaywgdGhpcy5vZmYuYmluZCh0aGlzKSk7XG4gICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyAmJiBjb250ZXh0ID09IG51bGwpIGNhbGxiYWNrID0gdm9pZCAwO1xuICAgIHJldHVybiB0aGlzLm9uKGV2ZW50cywgY2FsbGJhY2ssIGNvbnRleHQpO1xuICB9O1xuXG4gIC8vIEludmVyc2lvbi1vZi1jb250cm9sIHZlcnNpb25zIG9mIGBvbmNlYC5cbiAgRXZlbnRzLmxpc3RlblRvT25jZSA9IGZ1bmN0aW9uKG9iaiwgbmFtZSwgY2FsbGJhY2spIHtcbiAgICAvLyBNYXAgdGhlIGV2ZW50IGludG8gYSBge2V2ZW50OiBvbmNlfWAgb2JqZWN0LlxuICAgIHZhciBldmVudHMgPSBldmVudHNBcGkob25jZU1hcCwge30sIG5hbWUsIGNhbGxiYWNrLCB0aGlzLnN0b3BMaXN0ZW5pbmcuYmluZCh0aGlzLCBvYmopKTtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5UbyhvYmosIGV2ZW50cyk7XG4gIH07XG5cbiAgLy8gUmVkdWNlcyB0aGUgZXZlbnQgY2FsbGJhY2tzIGludG8gYSBtYXAgb2YgYHtldmVudDogb25jZVdyYXBwZXJ9YC5cbiAgLy8gYG9mZmVyYCB1bmJpbmRzIHRoZSBgb25jZVdyYXBwZXJgIGFmdGVyIGl0IGhhcyBiZWVuIGNhbGxlZC5cbiAgdmFyIG9uY2VNYXAgPSBmdW5jdGlvbihtYXAsIG5hbWUsIGNhbGxiYWNrLCBvZmZlcikge1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgdmFyIG9uY2UgPSBtYXBbbmFtZV0gPSBfLm9uY2UoZnVuY3Rpb24oKSB7XG4gICAgICAgIG9mZmVyKG5hbWUsIG9uY2UpO1xuICAgICAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfSk7XG4gICAgICBvbmNlLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICByZXR1cm4gbWFwO1xuICB9O1xuXG4gIC8vIFRyaWdnZXIgb25lIG9yIG1hbnkgZXZlbnRzLCBmaXJpbmcgYWxsIGJvdW5kIGNhbGxiYWNrcy4gQ2FsbGJhY2tzIGFyZVxuICAvLyBwYXNzZWQgdGhlIHNhbWUgYXJndW1lbnRzIGFzIGB0cmlnZ2VyYCBpcywgYXBhcnQgZnJvbSB0aGUgZXZlbnQgbmFtZVxuICAvLyAodW5sZXNzIHlvdSdyZSBsaXN0ZW5pbmcgb24gYFwiYWxsXCJgLCB3aGljaCB3aWxsIGNhdXNlIHlvdXIgY2FsbGJhY2sgdG9cbiAgLy8gcmVjZWl2ZSB0aGUgdHJ1ZSBuYW1lIG9mIHRoZSBldmVudCBhcyB0aGUgZmlyc3QgYXJndW1lbnQpLlxuICBFdmVudHMudHJpZ2dlciA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBpZiAoIXRoaXMuX2V2ZW50cykgcmV0dXJuIHRoaXM7XG5cbiAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoMCwgYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIHZhciBhcmdzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAxXTtcblxuICAgIGV2ZW50c0FwaSh0cmlnZ2VyQXBpLCB0aGlzLl9ldmVudHMsIG5hbWUsIHZvaWQgMCwgYXJncyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gSGFuZGxlcyB0cmlnZ2VyaW5nIHRoZSBhcHByb3ByaWF0ZSBldmVudCBjYWxsYmFja3MuXG4gIHZhciB0cmlnZ2VyQXBpID0gZnVuY3Rpb24ob2JqRXZlbnRzLCBuYW1lLCBjYWxsYmFjaywgYXJncykge1xuICAgIGlmIChvYmpFdmVudHMpIHtcbiAgICAgIHZhciBldmVudHMgPSBvYmpFdmVudHNbbmFtZV07XG4gICAgICB2YXIgYWxsRXZlbnRzID0gb2JqRXZlbnRzLmFsbDtcbiAgICAgIGlmIChldmVudHMgJiYgYWxsRXZlbnRzKSBhbGxFdmVudHMgPSBhbGxFdmVudHMuc2xpY2UoKTtcbiAgICAgIGlmIChldmVudHMpIHRyaWdnZXJFdmVudHMoZXZlbnRzLCBhcmdzKTtcbiAgICAgIGlmIChhbGxFdmVudHMpIHRyaWdnZXJFdmVudHMoYWxsRXZlbnRzLCBbbmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iakV2ZW50cztcbiAgfTtcblxuICAvLyBBIGRpZmZpY3VsdC10by1iZWxpZXZlLCBidXQgb3B0aW1pemVkIGludGVybmFsIGRpc3BhdGNoIGZ1bmN0aW9uIGZvclxuICAvLyB0cmlnZ2VyaW5nIGV2ZW50cy4gVHJpZXMgdG8ga2VlcCB0aGUgdXN1YWwgY2FzZXMgc3BlZWR5IChtb3N0IGludGVybmFsXG4gIC8vIEJhY2tib25lIGV2ZW50cyBoYXZlIDMgYXJndW1lbnRzKS5cbiAgdmFyIHRyaWdnZXJFdmVudHMgPSBmdW5jdGlvbihldmVudHMsIGFyZ3MpIHtcbiAgICB2YXIgZXYsIGkgPSAtMSwgbCA9IGV2ZW50cy5sZW5ndGgsIGExID0gYXJnc1swXSwgYTIgPSBhcmdzWzFdLCBhMyA9IGFyZ3NbMl07XG4gICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOiB3aGlsZSAoKytpIDwgbCkgKGV2ID0gZXZlbnRzW2ldKS5jYWxsYmFjay5jYWxsKGV2LmN0eCk7IHJldHVybjtcbiAgICAgIGNhc2UgMTogd2hpbGUgKCsraSA8IGwpIChldiA9IGV2ZW50c1tpXSkuY2FsbGJhY2suY2FsbChldi5jdHgsIGExKTsgcmV0dXJuO1xuICAgICAgY2FzZSAyOiB3aGlsZSAoKytpIDwgbCkgKGV2ID0gZXZlbnRzW2ldKS5jYWxsYmFjay5jYWxsKGV2LmN0eCwgYTEsIGEyKTsgcmV0dXJuO1xuICAgICAgY2FzZSAzOiB3aGlsZSAoKytpIDwgbCkgKGV2ID0gZXZlbnRzW2ldKS5jYWxsYmFjay5jYWxsKGV2LmN0eCwgYTEsIGEyLCBhMyk7IHJldHVybjtcbiAgICAgIGRlZmF1bHQ6IHdoaWxlICgrK2kgPCBsKSAoZXYgPSBldmVudHNbaV0pLmNhbGxiYWNrLmFwcGx5KGV2LmN0eCwgYXJncyk7IHJldHVybjtcbiAgICB9XG4gIH07XG5cbiAgLy8gQSBsaXN0ZW5pbmcgY2xhc3MgdGhhdCB0cmFja3MgYW5kIGNsZWFucyB1cCBtZW1vcnkgYmluZGluZ3NcbiAgLy8gd2hlbiBhbGwgY2FsbGJhY2tzIGhhdmUgYmVlbiBvZmZlZC5cbiAgdmFyIExpc3RlbmluZyA9IGZ1bmN0aW9uKGxpc3RlbmVyLCBvYmopIHtcbiAgICB0aGlzLmlkID0gbGlzdGVuZXIuX2xpc3RlbklkO1xuICAgIHRoaXMubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICB0aGlzLm9iaiA9IG9iajtcbiAgICB0aGlzLmludGVyb3AgPSB0cnVlO1xuICAgIHRoaXMuY291bnQgPSAwO1xuICAgIHRoaXMuX2V2ZW50cyA9IHZvaWQgMDtcbiAgfTtcblxuICBMaXN0ZW5pbmcucHJvdG90eXBlLm9uID0gRXZlbnRzLm9uO1xuXG4gIC8vIE9mZnMgYSBjYWxsYmFjayAob3Igc2V2ZXJhbCkuXG4gIC8vIFVzZXMgYW4gb3B0aW1pemVkIGNvdW50ZXIgaWYgdGhlIGxpc3RlbmVlIHVzZXMgQmFja2JvbmUuRXZlbnRzLlxuICAvLyBPdGhlcndpc2UsIGZhbGxzIGJhY2sgdG8gbWFudWFsIHRyYWNraW5nIHRvIHN1cHBvcnQgZXZlbnRzXG4gIC8vIGxpYnJhcnkgaW50ZXJvcC5cbiAgTGlzdGVuaW5nLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbihuYW1lLCBjYWxsYmFjaykge1xuICAgIHZhciBjbGVhbnVwO1xuICAgIGlmICh0aGlzLmludGVyb3ApIHtcbiAgICAgIHRoaXMuX2V2ZW50cyA9IGV2ZW50c0FwaShvZmZBcGksIHRoaXMuX2V2ZW50cywgbmFtZSwgY2FsbGJhY2ssIHtcbiAgICAgICAgY29udGV4dDogdm9pZCAwLFxuICAgICAgICBsaXN0ZW5lcnM6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBjbGVhbnVwID0gIXRoaXMuX2V2ZW50cztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jb3VudC0tO1xuICAgICAgY2xlYW51cCA9IHRoaXMuY291bnQgPT09IDA7XG4gICAgfVxuICAgIGlmIChjbGVhbnVwKSB0aGlzLmNsZWFudXAoKTtcbiAgfTtcblxuICAvLyBDbGVhbnMgdXAgbWVtb3J5IGJpbmRpbmdzIGJldHdlZW4gdGhlIGxpc3RlbmVyIGFuZCB0aGUgbGlzdGVuZWUuXG4gIExpc3RlbmluZy5wcm90b3R5cGUuY2xlYW51cCA9IGZ1bmN0aW9uKCkge1xuICAgIGRlbGV0ZSB0aGlzLmxpc3RlbmVyLl9saXN0ZW5pbmdUb1t0aGlzLm9iai5fbGlzdGVuSWRdO1xuICAgIGlmICghdGhpcy5pbnRlcm9wKSBkZWxldGUgdGhpcy5vYmouX2xpc3RlbmVyc1t0aGlzLmlkXTtcbiAgfTtcblxuICAvLyBBbGlhc2VzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbiAgRXZlbnRzLmJpbmQgICA9IEV2ZW50cy5vbjtcbiAgRXZlbnRzLnVuYmluZCA9IEV2ZW50cy5vZmY7XG5cbiAgLy8gQWxsb3cgdGhlIGBCYWNrYm9uZWAgb2JqZWN0IHRvIHNlcnZlIGFzIGEgZ2xvYmFsIGV2ZW50IGJ1cywgZm9yIGZvbGtzIHdob1xuICAvLyB3YW50IGdsb2JhbCBcInB1YnN1YlwiIGluIGEgY29udmVuaWVudCBwbGFjZS5cbiAgXy5leHRlbmQoQmFja2JvbmUsIEV2ZW50cyk7XG5cbiAgLy8gQmFja2JvbmUuTW9kZWxcbiAgLy8gLS0tLS0tLS0tLS0tLS1cblxuICAvLyBCYWNrYm9uZSAqKk1vZGVscyoqIGFyZSB0aGUgYmFzaWMgZGF0YSBvYmplY3QgaW4gdGhlIGZyYW1ld29yayAtLVxuICAvLyBmcmVxdWVudGx5IHJlcHJlc2VudGluZyBhIHJvdyBpbiBhIHRhYmxlIGluIGEgZGF0YWJhc2Ugb24geW91ciBzZXJ2ZXIuXG4gIC8vIEEgZGlzY3JldGUgY2h1bmsgb2YgZGF0YSBhbmQgYSBidW5jaCBvZiB1c2VmdWwsIHJlbGF0ZWQgbWV0aG9kcyBmb3JcbiAgLy8gcGVyZm9ybWluZyBjb21wdXRhdGlvbnMgYW5kIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGF0IGRhdGEuXG5cbiAgLy8gQ3JlYXRlIGEgbmV3IG1vZGVsIHdpdGggdGhlIHNwZWNpZmllZCBhdHRyaWJ1dGVzLiBBIGNsaWVudCBpZCAoYGNpZGApXG4gIC8vIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGFuZCBhc3NpZ25lZCBmb3IgeW91LlxuICB2YXIgTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbCA9IGZ1bmN0aW9uKGF0dHJpYnV0ZXMsIG9wdGlvbnMpIHtcbiAgICB2YXIgYXR0cnMgPSBhdHRyaWJ1dGVzIHx8IHt9O1xuICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gICAgdGhpcy5wcmVpbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgdGhpcy5jaWQgPSBfLnVuaXF1ZUlkKHRoaXMuY2lkUHJlZml4KTtcbiAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7fTtcbiAgICBpZiAob3B0aW9ucy5jb2xsZWN0aW9uKSB0aGlzLmNvbGxlY3Rpb24gPSBvcHRpb25zLmNvbGxlY3Rpb247XG4gICAgaWYgKG9wdGlvbnMucGFyc2UpIGF0dHJzID0gdGhpcy5wYXJzZShhdHRycywgb3B0aW9ucykgfHwge307XG4gICAgdmFyIGRlZmF1bHRzID0gXy5yZXN1bHQodGhpcywgJ2RlZmF1bHRzJyk7XG4gICAgYXR0cnMgPSBfLmRlZmF1bHRzKF8uZXh0ZW5kKHt9LCBkZWZhdWx0cywgYXR0cnMpLCBkZWZhdWx0cyk7XG4gICAgdGhpcy5zZXQoYXR0cnMsIG9wdGlvbnMpO1xuICAgIHRoaXMuY2hhbmdlZCA9IHt9O1xuICAgIHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xuXG4gIC8vIEF0dGFjaCBhbGwgaW5oZXJpdGFibGUgbWV0aG9kcyB0byB0aGUgTW9kZWwgcHJvdG90eXBlLlxuICBfLmV4dGVuZChNb2RlbC5wcm90b3R5cGUsIEV2ZW50cywge1xuXG4gICAgLy8gQSBoYXNoIG9mIGF0dHJpYnV0ZXMgd2hvc2UgY3VycmVudCBhbmQgcHJldmlvdXMgdmFsdWUgZGlmZmVyLlxuICAgIGNoYW5nZWQ6IG51bGwsXG5cbiAgICAvLyBUaGUgdmFsdWUgcmV0dXJuZWQgZHVyaW5nIHRoZSBsYXN0IGZhaWxlZCB2YWxpZGF0aW9uLlxuICAgIHZhbGlkYXRpb25FcnJvcjogbnVsbCxcblxuICAgIC8vIFRoZSBkZWZhdWx0IG5hbWUgZm9yIHRoZSBKU09OIGBpZGAgYXR0cmlidXRlIGlzIGBcImlkXCJgLiBNb25nb0RCIGFuZFxuICAgIC8vIENvdWNoREIgdXNlcnMgbWF5IHdhbnQgdG8gc2V0IHRoaXMgdG8gYFwiX2lkXCJgLlxuICAgIGlkQXR0cmlidXRlOiAnaWQnLFxuXG4gICAgLy8gVGhlIHByZWZpeCBpcyB1c2VkIHRvIGNyZWF0ZSB0aGUgY2xpZW50IGlkIHdoaWNoIGlzIHVzZWQgdG8gaWRlbnRpZnkgbW9kZWxzIGxvY2FsbHkuXG4gICAgLy8gWW91IG1heSB3YW50IHRvIG92ZXJyaWRlIHRoaXMgaWYgeW91J3JlIGV4cGVyaWVuY2luZyBuYW1lIGNsYXNoZXMgd2l0aCBtb2RlbCBpZHMuXG4gICAgY2lkUHJlZml4OiAnYycsXG5cbiAgICAvLyBwcmVpbml0aWFsaXplIGlzIGFuIGVtcHR5IGZ1bmN0aW9uIGJ5IGRlZmF1bHQuIFlvdSBjYW4gb3ZlcnJpZGUgaXQgd2l0aCBhIGZ1bmN0aW9uXG4gICAgLy8gb3Igb2JqZWN0LiAgcHJlaW5pdGlhbGl6ZSB3aWxsIHJ1biBiZWZvcmUgYW55IGluc3RhbnRpYXRpb24gbG9naWMgaXMgcnVuIGluIHRoZSBNb2RlbC5cbiAgICBwcmVpbml0aWFsaXplOiBmdW5jdGlvbigpe30sXG5cbiAgICAvLyBJbml0aWFsaXplIGlzIGFuIGVtcHR5IGZ1bmN0aW9uIGJ5IGRlZmF1bHQuIE92ZXJyaWRlIGl0IHdpdGggeW91ciBvd25cbiAgICAvLyBpbml0aWFsaXphdGlvbiBsb2dpYy5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpe30sXG5cbiAgICAvLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSBtb2RlbCdzIGBhdHRyaWJ1dGVzYCBvYmplY3QuXG4gICAgdG9KU09OOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gXy5jbG9uZSh0aGlzLmF0dHJpYnV0ZXMpO1xuICAgIH0sXG5cbiAgICAvLyBQcm94eSBgQmFja2JvbmUuc3luY2AgYnkgZGVmYXVsdCAtLSBidXQgb3ZlcnJpZGUgdGhpcyBpZiB5b3UgbmVlZFxuICAgIC8vIGN1c3RvbSBzeW5jaW5nIHNlbWFudGljcyBmb3IgKnRoaXMqIHBhcnRpY3VsYXIgbW9kZWwuXG4gICAgc3luYzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQmFja2JvbmUuc3luYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH0sXG5cbiAgICAvLyBHZXQgdGhlIHZhbHVlIG9mIGFuIGF0dHJpYnV0ZS5cbiAgICBnZXQ6IGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZXNbYXR0cl07XG4gICAgfSxcblxuICAgIC8vIEdldCB0aGUgSFRNTC1lc2NhcGVkIHZhbHVlIG9mIGFuIGF0dHJpYnV0ZS5cbiAgICBlc2NhcGU6IGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgIHJldHVybiBfLmVzY2FwZSh0aGlzLmdldChhdHRyKSk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSBhdHRyaWJ1dGUgY29udGFpbnMgYSB2YWx1ZSB0aGF0IGlzIG5vdCBudWxsXG4gICAgLy8gb3IgdW5kZWZpbmVkLlxuICAgIGhhczogZnVuY3Rpb24oYXR0cikge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KGF0dHIpICE9IG51bGw7XG4gICAgfSxcblxuICAgIC8vIFNwZWNpYWwtY2FzZWQgcHJveHkgdG8gdW5kZXJzY29yZSdzIGBfLm1hdGNoZXNgIG1ldGhvZC5cbiAgICBtYXRjaGVzOiBmdW5jdGlvbihhdHRycykge1xuICAgICAgcmV0dXJuICEhXy5pdGVyYXRlZShhdHRycywgdGhpcykodGhpcy5hdHRyaWJ1dGVzKTtcbiAgICB9LFxuXG4gICAgLy8gU2V0IGEgaGFzaCBvZiBtb2RlbCBhdHRyaWJ1dGVzIG9uIHRoZSBvYmplY3QsIGZpcmluZyBgXCJjaGFuZ2VcImAuIFRoaXMgaXNcbiAgICAvLyB0aGUgY29yZSBwcmltaXRpdmUgb3BlcmF0aW9uIG9mIGEgbW9kZWwsIHVwZGF0aW5nIHRoZSBkYXRhIGFuZCBub3RpZnlpbmdcbiAgICAvLyBhbnlvbmUgd2hvIG5lZWRzIHRvIGtub3cgYWJvdXQgdGhlIGNoYW5nZSBpbiBzdGF0ZS4gVGhlIGhlYXJ0IG9mIHRoZSBiZWFzdC5cbiAgICBzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsLCBvcHRpb25zKSB7XG4gICAgICBpZiAoa2V5ID09IG51bGwpIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBIYW5kbGUgYm90aCBgXCJrZXlcIiwgdmFsdWVgIGFuZCBge2tleTogdmFsdWV9YCAtc3R5bGUgYXJndW1lbnRzLlxuICAgICAgdmFyIGF0dHJzO1xuICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGF0dHJzID0ga2V5O1xuICAgICAgICBvcHRpb25zID0gdmFsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKGF0dHJzID0ge30pW2tleV0gPSB2YWw7XG4gICAgICB9XG5cbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG5cbiAgICAgIC8vIFJ1biB2YWxpZGF0aW9uLlxuICAgICAgaWYgKCF0aGlzLl92YWxpZGF0ZShhdHRycywgb3B0aW9ucykpIHJldHVybiBmYWxzZTtcblxuICAgICAgLy8gRXh0cmFjdCBhdHRyaWJ1dGVzIGFuZCBvcHRpb25zLlxuICAgICAgdmFyIHVuc2V0ICAgICAgPSBvcHRpb25zLnVuc2V0O1xuICAgICAgdmFyIHNpbGVudCAgICAgPSBvcHRpb25zLnNpbGVudDtcbiAgICAgIHZhciBjaGFuZ2VzICAgID0gW107XG4gICAgICB2YXIgY2hhbmdpbmcgICA9IHRoaXMuX2NoYW5naW5nO1xuICAgICAgdGhpcy5fY2hhbmdpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAoIWNoYW5naW5nKSB7XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzQXR0cmlidXRlcyA9IF8uY2xvbmUodGhpcy5hdHRyaWJ1dGVzKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkID0ge307XG4gICAgICB9XG5cbiAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5hdHRyaWJ1dGVzO1xuICAgICAgdmFyIGNoYW5nZWQgPSB0aGlzLmNoYW5nZWQ7XG4gICAgICB2YXIgcHJldiAgICA9IHRoaXMuX3ByZXZpb3VzQXR0cmlidXRlcztcblxuICAgICAgLy8gRm9yIGVhY2ggYHNldGAgYXR0cmlidXRlLCB1cGRhdGUgb3IgZGVsZXRlIHRoZSBjdXJyZW50IHZhbHVlLlxuICAgICAgZm9yICh2YXIgYXR0ciBpbiBhdHRycykge1xuICAgICAgICB2YWwgPSBhdHRyc1thdHRyXTtcbiAgICAgICAgaWYgKCFfLmlzRXF1YWwoY3VycmVudFthdHRyXSwgdmFsKSkgY2hhbmdlcy5wdXNoKGF0dHIpO1xuICAgICAgICBpZiAoIV8uaXNFcXVhbChwcmV2W2F0dHJdLCB2YWwpKSB7XG4gICAgICAgICAgY2hhbmdlZFthdHRyXSA9IHZhbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgY2hhbmdlZFthdHRyXTtcbiAgICAgICAgfVxuICAgICAgICB1bnNldCA/IGRlbGV0ZSBjdXJyZW50W2F0dHJdIDogY3VycmVudFthdHRyXSA9IHZhbDtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIHRoZSBgaWRgLlxuICAgICAgaWYgKHRoaXMuaWRBdHRyaWJ1dGUgaW4gYXR0cnMpIHRoaXMuaWQgPSB0aGlzLmdldCh0aGlzLmlkQXR0cmlidXRlKTtcblxuICAgICAgLy8gVHJpZ2dlciBhbGwgcmVsZXZhbnQgYXR0cmlidXRlIGNoYW5nZXMuXG4gICAgICBpZiAoIXNpbGVudCkge1xuICAgICAgICBpZiAoY2hhbmdlcy5sZW5ndGgpIHRoaXMuX3BlbmRpbmcgPSBvcHRpb25zO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2NoYW5nZTonICsgY2hhbmdlc1tpXSwgdGhpcywgY3VycmVudFtjaGFuZ2VzW2ldXSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gWW91IG1pZ2h0IGJlIHdvbmRlcmluZyB3aHkgdGhlcmUncyBhIGB3aGlsZWAgbG9vcCBoZXJlLiBDaGFuZ2VzIGNhblxuICAgICAgLy8gYmUgcmVjdXJzaXZlbHkgbmVzdGVkIHdpdGhpbiBgXCJjaGFuZ2VcImAgZXZlbnRzLlxuICAgICAgaWYgKGNoYW5naW5nKSByZXR1cm4gdGhpcztcbiAgICAgIGlmICghc2lsZW50KSB7XG4gICAgICAgIHdoaWxlICh0aGlzLl9wZW5kaW5nKSB7XG4gICAgICAgICAgb3B0aW9ucyA9IHRoaXMuX3BlbmRpbmc7XG4gICAgICAgICAgdGhpcy5fcGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMudHJpZ2dlcignY2hhbmdlJywgdGhpcywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuX3BlbmRpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2NoYW5naW5nID0gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLy8gUmVtb3ZlIGFuIGF0dHJpYnV0ZSBmcm9tIHRoZSBtb2RlbCwgZmlyaW5nIGBcImNoYW5nZVwiYC4gYHVuc2V0YCBpcyBhIG5vb3BcbiAgICAvLyBpZiB0aGUgYXR0cmlidXRlIGRvZXNuJ3QgZXhpc3QuXG4gICAgdW5zZXQ6IGZ1bmN0aW9uKGF0dHIsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldChhdHRyLCB2b2lkIDAsIF8uZXh0ZW5kKHt9LCBvcHRpb25zLCB7dW5zZXQ6IHRydWV9KSk7XG4gICAgfSxcblxuICAgIC8vIENsZWFyIGFsbCBhdHRyaWJ1dGVzIG9uIHRoZSBtb2RlbCwgZmlyaW5nIGBcImNoYW5nZVwiYC5cbiAgICBjbGVhcjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIGF0dHJzID0ge307XG4gICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5hdHRyaWJ1dGVzKSBhdHRyc1trZXldID0gdm9pZCAwO1xuICAgICAgcmV0dXJuIHRoaXMuc2V0KGF0dHJzLCBfLmV4dGVuZCh7fSwgb3B0aW9ucywge3Vuc2V0OiB0cnVlfSkpO1xuICAgIH0sXG5cbiAgICAvLyBEZXRlcm1pbmUgaWYgdGhlIG1vZGVsIGhhcyBjaGFuZ2VkIHNpbmNlIHRoZSBsYXN0IGBcImNoYW5nZVwiYCBldmVudC5cbiAgICAvLyBJZiB5b3Ugc3BlY2lmeSBhbiBhdHRyaWJ1dGUgbmFtZSwgZGV0ZXJtaW5lIGlmIHRoYXQgYXR0cmlidXRlIGhhcyBjaGFuZ2VkLlxuICAgIGhhc0NoYW5nZWQ6IGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgIGlmIChhdHRyID09IG51bGwpIHJldHVybiAhXy5pc0VtcHR5KHRoaXMuY2hhbmdlZCk7XG4gICAgICByZXR1cm4gXy5oYXModGhpcy5jaGFuZ2VkLCBhdHRyKTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJuIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgYXR0cmlidXRlcyB0aGF0IGhhdmUgY2hhbmdlZCwgb3JcbiAgICAvLyBmYWxzZSBpZiB0aGVyZSBhcmUgbm8gY2hhbmdlZCBhdHRyaWJ1dGVzLiBVc2VmdWwgZm9yIGRldGVybWluaW5nIHdoYXRcbiAgICAvLyBwYXJ0cyBvZiBhIHZpZXcgbmVlZCB0byBiZSB1cGRhdGVkIGFuZC9vciB3aGF0IGF0dHJpYnV0ZXMgbmVlZCB0byBiZVxuICAgIC8vIHBlcnNpc3RlZCB0byB0aGUgc2VydmVyLiBVbnNldCBhdHRyaWJ1dGVzIHdpbGwgYmUgc2V0IHRvIHVuZGVmaW5lZC5cbiAgICAvLyBZb3UgY2FuIGFsc28gcGFzcyBhbiBhdHRyaWJ1dGVzIG9iamVjdCB0byBkaWZmIGFnYWluc3QgdGhlIG1vZGVsLFxuICAgIC8vIGRldGVybWluaW5nIGlmIHRoZXJlICp3b3VsZCBiZSogYSBjaGFuZ2UuXG4gICAgY2hhbmdlZEF0dHJpYnV0ZXM6IGZ1bmN0aW9uKGRpZmYpIHtcbiAgICAgIGlmICghZGlmZikgcmV0dXJuIHRoaXMuaGFzQ2hhbmdlZCgpID8gXy5jbG9uZSh0aGlzLmNoYW5nZWQpIDogZmFsc2U7XG4gICAgICB2YXIgb2xkID0gdGhpcy5fY2hhbmdpbmcgPyB0aGlzLl9wcmV2aW91c0F0dHJpYnV0ZXMgOiB0aGlzLmF0dHJpYnV0ZXM7XG4gICAgICB2YXIgY2hhbmdlZCA9IHt9O1xuICAgICAgdmFyIGhhc0NoYW5nZWQ7XG4gICAgICBmb3IgKHZhciBhdHRyIGluIGRpZmYpIHtcbiAgICAgICAgdmFyIHZhbCA9IGRpZmZbYXR0cl07XG4gICAgICAgIGlmIChfLmlzRXF1YWwob2xkW2F0dHJdLCB2YWwpKSBjb250aW51ZTtcbiAgICAgICAgY2hhbmdlZFthdHRyXSA9IHZhbDtcbiAgICAgICAgaGFzQ2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzQ2hhbmdlZCA/IGNoYW5nZWQgOiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLy8gR2V0IHRoZSBwcmV2aW91cyB2YWx1ZSBvZiBhbiBhdHRyaWJ1dGUsIHJlY29yZGVkIGF0IHRoZSB0aW1lIHRoZSBsYXN0XG4gICAgLy8gYFwiY2hhbmdlXCJgIGV2ZW50IHdhcyBmaXJlZC5cbiAgICBwcmV2aW91czogZnVuY3Rpb24oYXR0cikge1xuICAgICAgaWYgKGF0dHIgPT0gbnVsbCB8fCAhdGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzKSByZXR1cm4gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzLl9wcmV2aW91c0F0dHJpYnV0ZXNbYXR0cl07XG4gICAgfSxcblxuICAgIC8vIEdldCBhbGwgb2YgdGhlIGF0dHJpYnV0ZXMgb2YgdGhlIG1vZGVsIGF0IHRoZSB0aW1lIG9mIHRoZSBwcmV2aW91c1xuICAgIC8vIGBcImNoYW5nZVwiYCBldmVudC5cbiAgICBwcmV2aW91c0F0dHJpYnV0ZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF8uY2xvbmUodGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzKTtcbiAgICB9LFxuXG4gICAgLy8gRmV0Y2ggdGhlIG1vZGVsIGZyb20gdGhlIHNlcnZlciwgbWVyZ2luZyB0aGUgcmVzcG9uc2Ugd2l0aCB0aGUgbW9kZWwnc1xuICAgIC8vIGxvY2FsIGF0dHJpYnV0ZXMuIEFueSBjaGFuZ2VkIGF0dHJpYnV0ZXMgd2lsbCB0cmlnZ2VyIGEgXCJjaGFuZ2VcIiBldmVudC5cbiAgICBmZXRjaDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IF8uZXh0ZW5kKHtwYXJzZTogdHJ1ZX0sIG9wdGlvbnMpO1xuICAgICAgdmFyIG1vZGVsID0gdGhpcztcbiAgICAgIHZhciBzdWNjZXNzID0gb3B0aW9ucy5zdWNjZXNzO1xuICAgICAgb3B0aW9ucy5zdWNjZXNzID0gZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICB2YXIgc2VydmVyQXR0cnMgPSBvcHRpb25zLnBhcnNlID8gbW9kZWwucGFyc2UocmVzcCwgb3B0aW9ucykgOiByZXNwO1xuICAgICAgICBpZiAoIW1vZGVsLnNldChzZXJ2ZXJBdHRycywgb3B0aW9ucykpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHN1Y2Nlc3MpIHN1Y2Nlc3MuY2FsbChvcHRpb25zLmNvbnRleHQsIG1vZGVsLCByZXNwLCBvcHRpb25zKTtcbiAgICAgICAgbW9kZWwudHJpZ2dlcignc3luYycsIG1vZGVsLCByZXNwLCBvcHRpb25zKTtcbiAgICAgIH07XG4gICAgICB3cmFwRXJyb3IodGhpcywgb3B0aW9ucyk7XG4gICAgICByZXR1cm4gdGhpcy5zeW5jKCdyZWFkJywgdGhpcywgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8vIFNldCBhIGhhc2ggb2YgbW9kZWwgYXR0cmlidXRlcywgYW5kIHN5bmMgdGhlIG1vZGVsIHRvIHRoZSBzZXJ2ZXIuXG4gICAgLy8gSWYgdGhlIHNlcnZlciByZXR1cm5zIGFuIGF0dHJpYnV0ZXMgaGFzaCB0aGF0IGRpZmZlcnMsIHRoZSBtb2RlbCdzXG4gICAgLy8gc3RhdGUgd2lsbCBiZSBgc2V0YCBhZ2Fpbi5cbiAgICBzYXZlOiBmdW5jdGlvbihrZXksIHZhbCwgb3B0aW9ucykge1xuICAgICAgLy8gSGFuZGxlIGJvdGggYFwia2V5XCIsIHZhbHVlYCBhbmQgYHtrZXk6IHZhbHVlfWAgLXN0eWxlIGFyZ3VtZW50cy5cbiAgICAgIHZhciBhdHRycztcbiAgICAgIGlmIChrZXkgPT0gbnVsbCB8fCB0eXBlb2Yga2V5ID09PSAnb2JqZWN0Jykge1xuICAgICAgICBhdHRycyA9IGtleTtcbiAgICAgICAgb3B0aW9ucyA9IHZhbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIChhdHRycyA9IHt9KVtrZXldID0gdmFsO1xuICAgICAgfVxuXG4gICAgICBvcHRpb25zID0gXy5leHRlbmQoe3ZhbGlkYXRlOiB0cnVlLCBwYXJzZTogdHJ1ZX0sIG9wdGlvbnMpO1xuICAgICAgdmFyIHdhaXQgPSBvcHRpb25zLndhaXQ7XG5cbiAgICAgIC8vIElmIHdlJ3JlIG5vdCB3YWl0aW5nIGFuZCBhdHRyaWJ1dGVzIGV4aXN0LCBzYXZlIGFjdHMgYXNcbiAgICAgIC8vIGBzZXQoYXR0cikuc2F2ZShudWxsLCBvcHRzKWAgd2l0aCB2YWxpZGF0aW9uLiBPdGhlcndpc2UsIGNoZWNrIGlmXG4gICAgICAvLyB0aGUgbW9kZWwgd2lsbCBiZSB2YWxpZCB3aGVuIHRoZSBhdHRyaWJ1dGVzLCBpZiBhbnksIGFyZSBzZXQuXG4gICAgICBpZiAoYXR0cnMgJiYgIXdhaXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNldChhdHRycywgb3B0aW9ucykpIHJldHVybiBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX3ZhbGlkYXRlKGF0dHJzLCBvcHRpb25zKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIEFmdGVyIGEgc3VjY2Vzc2Z1bCBzZXJ2ZXItc2lkZSBzYXZlLCB0aGUgY2xpZW50IGlzIChvcHRpb25hbGx5KVxuICAgICAgLy8gdXBkYXRlZCB3aXRoIHRoZSBzZXJ2ZXItc2lkZSBzdGF0ZS5cbiAgICAgIHZhciBtb2RlbCA9IHRoaXM7XG4gICAgICB2YXIgc3VjY2VzcyA9IG9wdGlvbnMuc3VjY2VzcztcbiAgICAgIHZhciBhdHRyaWJ1dGVzID0gdGhpcy5hdHRyaWJ1dGVzO1xuICAgICAgb3B0aW9ucy5zdWNjZXNzID0gZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAvLyBFbnN1cmUgYXR0cmlidXRlcyBhcmUgcmVzdG9yZWQgZHVyaW5nIHN5bmNocm9ub3VzIHNhdmVzLlxuICAgICAgICBtb2RlbC5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcbiAgICAgICAgdmFyIHNlcnZlckF0dHJzID0gb3B0aW9ucy5wYXJzZSA/IG1vZGVsLnBhcnNlKHJlc3AsIG9wdGlvbnMpIDogcmVzcDtcbiAgICAgICAgaWYgKHdhaXQpIHNlcnZlckF0dHJzID0gXy5leHRlbmQoe30sIGF0dHJzLCBzZXJ2ZXJBdHRycyk7XG4gICAgICAgIGlmIChzZXJ2ZXJBdHRycyAmJiAhbW9kZWwuc2V0KHNlcnZlckF0dHJzLCBvcHRpb25zKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoc3VjY2Vzcykgc3VjY2Vzcy5jYWxsKG9wdGlvbnMuY29udGV4dCwgbW9kZWwsIHJlc3AsIG9wdGlvbnMpO1xuICAgICAgICBtb2RlbC50cmlnZ2VyKCdzeW5jJywgbW9kZWwsIHJlc3AsIG9wdGlvbnMpO1xuICAgICAgfTtcbiAgICAgIHdyYXBFcnJvcih0aGlzLCBvcHRpb25zKTtcblxuICAgICAgLy8gU2V0IHRlbXBvcmFyeSBhdHRyaWJ1dGVzIGlmIGB7d2FpdDogdHJ1ZX1gIHRvIHByb3Blcmx5IGZpbmQgbmV3IGlkcy5cbiAgICAgIGlmIChhdHRycyAmJiB3YWl0KSB0aGlzLmF0dHJpYnV0ZXMgPSBfLmV4dGVuZCh7fSwgYXR0cmlidXRlcywgYXR0cnMpO1xuXG4gICAgICB2YXIgbWV0aG9kID0gdGhpcy5pc05ldygpID8gJ2NyZWF0ZScgOiBvcHRpb25zLnBhdGNoID8gJ3BhdGNoJyA6ICd1cGRhdGUnO1xuICAgICAgaWYgKG1ldGhvZCA9PT0gJ3BhdGNoJyAmJiAhb3B0aW9ucy5hdHRycykgb3B0aW9ucy5hdHRycyA9IGF0dHJzO1xuICAgICAgdmFyIHhociA9IHRoaXMuc3luYyhtZXRob2QsIHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAvLyBSZXN0b3JlIGF0dHJpYnV0ZXMuXG4gICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuXG4gICAgICByZXR1cm4geGhyO1xuICAgIH0sXG5cbiAgICAvLyBEZXN0cm95IHRoaXMgbW9kZWwgb24gdGhlIHNlcnZlciBpZiBpdCB3YXMgYWxyZWFkeSBwZXJzaXN0ZWQuXG4gICAgLy8gT3B0aW1pc3RpY2FsbHkgcmVtb3ZlcyB0aGUgbW9kZWwgZnJvbSBpdHMgY29sbGVjdGlvbiwgaWYgaXQgaGFzIG9uZS5cbiAgICAvLyBJZiBgd2FpdDogdHJ1ZWAgaXMgcGFzc2VkLCB3YWl0cyBmb3IgdGhlIHNlcnZlciB0byByZXNwb25kIGJlZm9yZSByZW1vdmFsLlxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zID8gXy5jbG9uZShvcHRpb25zKSA6IHt9O1xuICAgICAgdmFyIG1vZGVsID0gdGhpcztcbiAgICAgIHZhciBzdWNjZXNzID0gb3B0aW9ucy5zdWNjZXNzO1xuICAgICAgdmFyIHdhaXQgPSBvcHRpb25zLndhaXQ7XG5cbiAgICAgIHZhciBkZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIG1vZGVsLnN0b3BMaXN0ZW5pbmcoKTtcbiAgICAgICAgbW9kZWwudHJpZ2dlcignZGVzdHJveScsIG1vZGVsLCBtb2RlbC5jb2xsZWN0aW9uLCBvcHRpb25zKTtcbiAgICAgIH07XG5cbiAgICAgIG9wdGlvbnMuc3VjY2VzcyA9IGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgaWYgKHdhaXQpIGRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHN1Y2Nlc3MpIHN1Y2Nlc3MuY2FsbChvcHRpb25zLmNvbnRleHQsIG1vZGVsLCByZXNwLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKCFtb2RlbC5pc05ldygpKSBtb2RlbC50cmlnZ2VyKCdzeW5jJywgbW9kZWwsIHJlc3AsIG9wdGlvbnMpO1xuICAgICAgfTtcblxuICAgICAgdmFyIHhociA9IGZhbHNlO1xuICAgICAgaWYgKHRoaXMuaXNOZXcoKSkge1xuICAgICAgICBfLmRlZmVyKG9wdGlvbnMuc3VjY2Vzcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3cmFwRXJyb3IodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHhociA9IHRoaXMuc3luYygnZGVsZXRlJywgdGhpcywgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBpZiAoIXdhaXQpIGRlc3Ryb3koKTtcbiAgICAgIHJldHVybiB4aHI7XG4gICAgfSxcblxuICAgIC8vIERlZmF1bHQgVVJMIGZvciB0aGUgbW9kZWwncyByZXByZXNlbnRhdGlvbiBvbiB0aGUgc2VydmVyIC0tIGlmIHlvdSdyZVxuICAgIC8vIHVzaW5nIEJhY2tib25lJ3MgcmVzdGZ1bCBtZXRob2RzLCBvdmVycmlkZSB0aGlzIHRvIGNoYW5nZSB0aGUgZW5kcG9pbnRcbiAgICAvLyB0aGF0IHdpbGwgYmUgY2FsbGVkLlxuICAgIHVybDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYmFzZSA9XG4gICAgICAgIF8ucmVzdWx0KHRoaXMsICd1cmxSb290JykgfHxcbiAgICAgICAgXy5yZXN1bHQodGhpcy5jb2xsZWN0aW9uLCAndXJsJykgfHxcbiAgICAgICAgdXJsRXJyb3IoKTtcbiAgICAgIGlmICh0aGlzLmlzTmV3KCkpIHJldHVybiBiYXNlO1xuICAgICAgdmFyIGlkID0gdGhpcy5nZXQodGhpcy5pZEF0dHJpYnV0ZSk7XG4gICAgICByZXR1cm4gYmFzZS5yZXBsYWNlKC9bXlxcL10kLywgJyQmLycpICsgZW5jb2RlVVJJQ29tcG9uZW50KGlkKTtcbiAgICB9LFxuXG4gICAgLy8gKipwYXJzZSoqIGNvbnZlcnRzIGEgcmVzcG9uc2UgaW50byB0aGUgaGFzaCBvZiBhdHRyaWJ1dGVzIHRvIGJlIGBzZXRgIG9uXG4gICAgLy8gdGhlIG1vZGVsLiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBpcyBqdXN0IHRvIHBhc3MgdGhlIHJlc3BvbnNlIGFsb25nLlxuICAgIHBhcnNlOiBmdW5jdGlvbihyZXNwLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gcmVzcDtcbiAgICB9LFxuXG4gICAgLy8gQ3JlYXRlIGEgbmV3IG1vZGVsIHdpdGggaWRlbnRpY2FsIGF0dHJpYnV0ZXMgdG8gdGhpcyBvbmUuXG4gICAgY2xvbmU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuYXR0cmlidXRlcyk7XG4gICAgfSxcblxuICAgIC8vIEEgbW9kZWwgaXMgbmV3IGlmIGl0IGhhcyBuZXZlciBiZWVuIHNhdmVkIHRvIHRoZSBzZXJ2ZXIsIGFuZCBsYWNrcyBhbiBpZC5cbiAgICBpc05ldzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gIXRoaXMuaGFzKHRoaXMuaWRBdHRyaWJ1dGUpO1xuICAgIH0sXG5cbiAgICAvLyBDaGVjayBpZiB0aGUgbW9kZWwgaXMgY3VycmVudGx5IGluIGEgdmFsaWQgc3RhdGUuXG4gICAgaXNWYWxpZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZhbGlkYXRlKHt9LCBfLmV4dGVuZCh7fSwgb3B0aW9ucywge3ZhbGlkYXRlOiB0cnVlfSkpO1xuICAgIH0sXG5cbiAgICAvLyBSdW4gdmFsaWRhdGlvbiBhZ2FpbnN0IHRoZSBuZXh0IGNvbXBsZXRlIHNldCBvZiBtb2RlbCBhdHRyaWJ1dGVzLFxuICAgIC8vIHJldHVybmluZyBgdHJ1ZWAgaWYgYWxsIGlzIHdlbGwuIE90aGVyd2lzZSwgZmlyZSBhbiBgXCJpbnZhbGlkXCJgIGV2ZW50LlxuICAgIF92YWxpZGF0ZTogZnVuY3Rpb24oYXR0cnMsIG9wdGlvbnMpIHtcbiAgICAgIGlmICghb3B0aW9ucy52YWxpZGF0ZSB8fCAhdGhpcy52YWxpZGF0ZSkgcmV0dXJuIHRydWU7XG4gICAgICBhdHRycyA9IF8uZXh0ZW5kKHt9LCB0aGlzLmF0dHJpYnV0ZXMsIGF0dHJzKTtcbiAgICAgIHZhciBlcnJvciA9IHRoaXMudmFsaWRhdGlvbkVycm9yID0gdGhpcy52YWxpZGF0ZShhdHRycywgb3B0aW9ucykgfHwgbnVsbDtcbiAgICAgIGlmICghZXJyb3IpIHJldHVybiB0cnVlO1xuICAgICAgdGhpcy50cmlnZ2VyKCdpbnZhbGlkJywgdGhpcywgZXJyb3IsIF8uZXh0ZW5kKG9wdGlvbnMsIHt2YWxpZGF0aW9uRXJyb3I6IGVycm9yfSkpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICB9KTtcblxuICAvLyBCYWNrYm9uZS5Db2xsZWN0aW9uXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBJZiBtb2RlbHMgdGVuZCB0byByZXByZXNlbnQgYSBzaW5nbGUgcm93IG9mIGRhdGEsIGEgQmFja2JvbmUgQ29sbGVjdGlvbiBpc1xuICAvLyBtb3JlIGFuYWxvZ291cyB0byBhIHRhYmxlIGZ1bGwgb2YgZGF0YSAuLi4gb3IgYSBzbWFsbCBzbGljZSBvciBwYWdlIG9mIHRoYXRcbiAgLy8gdGFibGUsIG9yIGEgY29sbGVjdGlvbiBvZiByb3dzIHRoYXQgYmVsb25nIHRvZ2V0aGVyIGZvciBhIHBhcnRpY3VsYXIgcmVhc29uXG4gIC8vIC0tIGFsbCBvZiB0aGUgbWVzc2FnZXMgaW4gdGhpcyBwYXJ0aWN1bGFyIGZvbGRlciwgYWxsIG9mIHRoZSBkb2N1bWVudHNcbiAgLy8gYmVsb25naW5nIHRvIHRoaXMgcGFydGljdWxhciBhdXRob3IsIGFuZCBzbyBvbi4gQ29sbGVjdGlvbnMgbWFpbnRhaW5cbiAgLy8gaW5kZXhlcyBvZiB0aGVpciBtb2RlbHMsIGJvdGggaW4gb3JkZXIsIGFuZCBmb3IgbG9va3VwIGJ5IGBpZGAuXG5cbiAgLy8gQ3JlYXRlIGEgbmV3ICoqQ29sbGVjdGlvbioqLCBwZXJoYXBzIHRvIGNvbnRhaW4gYSBzcGVjaWZpYyB0eXBlIG9mIGBtb2RlbGAuXG4gIC8vIElmIGEgYGNvbXBhcmF0b3JgIGlzIHNwZWNpZmllZCwgdGhlIENvbGxlY3Rpb24gd2lsbCBtYWludGFpblxuICAvLyBpdHMgbW9kZWxzIGluIHNvcnQgb3JkZXIsIGFzIHRoZXkncmUgYWRkZWQgYW5kIHJlbW92ZWQuXG4gIHZhciBDb2xsZWN0aW9uID0gQmFja2JvbmUuQ29sbGVjdGlvbiA9IGZ1bmN0aW9uKG1vZGVscywgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gICAgdGhpcy5wcmVpbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKG9wdGlvbnMubW9kZWwpIHRoaXMubW9kZWwgPSBvcHRpb25zLm1vZGVsO1xuICAgIGlmIChvcHRpb25zLmNvbXBhcmF0b3IgIT09IHZvaWQgMCkgdGhpcy5jb21wYXJhdG9yID0gb3B0aW9ucy5jb21wYXJhdG9yO1xuICAgIHRoaXMuX3Jlc2V0KCk7XG4gICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKG1vZGVscykgdGhpcy5yZXNldChtb2RlbHMsIF8uZXh0ZW5kKHtzaWxlbnQ6IHRydWV9LCBvcHRpb25zKSk7XG4gIH07XG5cbiAgLy8gRGVmYXVsdCBvcHRpb25zIGZvciBgQ29sbGVjdGlvbiNzZXRgLlxuICB2YXIgc2V0T3B0aW9ucyA9IHthZGQ6IHRydWUsIHJlbW92ZTogdHJ1ZSwgbWVyZ2U6IHRydWV9O1xuICB2YXIgYWRkT3B0aW9ucyA9IHthZGQ6IHRydWUsIHJlbW92ZTogZmFsc2V9O1xuXG4gIC8vIFNwbGljZXMgYGluc2VydGAgaW50byBgYXJyYXlgIGF0IGluZGV4IGBhdGAuXG4gIHZhciBzcGxpY2UgPSBmdW5jdGlvbihhcnJheSwgaW5zZXJ0LCBhdCkge1xuICAgIGF0ID0gTWF0aC5taW4oTWF0aC5tYXgoYXQsIDApLCBhcnJheS5sZW5ndGgpO1xuICAgIHZhciB0YWlsID0gQXJyYXkoYXJyYXkubGVuZ3RoIC0gYXQpO1xuICAgIHZhciBsZW5ndGggPSBpbnNlcnQubGVuZ3RoO1xuICAgIHZhciBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCB0YWlsLmxlbmd0aDsgaSsrKSB0YWlsW2ldID0gYXJyYXlbaSArIGF0XTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIGFycmF5W2kgKyBhdF0gPSBpbnNlcnRbaV07XG4gICAgZm9yIChpID0gMDsgaSA8IHRhaWwubGVuZ3RoOyBpKyspIGFycmF5W2kgKyBsZW5ndGggKyBhdF0gPSB0YWlsW2ldO1xuICB9O1xuXG4gIC8vIERlZmluZSB0aGUgQ29sbGVjdGlvbidzIGluaGVyaXRhYmxlIG1ldGhvZHMuXG4gIF8uZXh0ZW5kKENvbGxlY3Rpb24ucHJvdG90eXBlLCBFdmVudHMsIHtcblxuICAgIC8vIFRoZSBkZWZhdWx0IG1vZGVsIGZvciBhIGNvbGxlY3Rpb24gaXMganVzdCBhICoqQmFja2JvbmUuTW9kZWwqKi5cbiAgICAvLyBUaGlzIHNob3VsZCBiZSBvdmVycmlkZGVuIGluIG1vc3QgY2FzZXMuXG4gICAgbW9kZWw6IE1vZGVsLFxuXG5cbiAgICAvLyBwcmVpbml0aWFsaXplIGlzIGFuIGVtcHR5IGZ1bmN0aW9uIGJ5IGRlZmF1bHQuIFlvdSBjYW4gb3ZlcnJpZGUgaXQgd2l0aCBhIGZ1bmN0aW9uXG4gICAgLy8gb3Igb2JqZWN0LiAgcHJlaW5pdGlhbGl6ZSB3aWxsIHJ1biBiZWZvcmUgYW55IGluc3RhbnRpYXRpb24gbG9naWMgaXMgcnVuIGluIHRoZSBDb2xsZWN0aW9uLlxuICAgIHByZWluaXRpYWxpemU6IGZ1bmN0aW9uKCl7fSxcblxuICAgIC8vIEluaXRpYWxpemUgaXMgYW4gZW1wdHkgZnVuY3Rpb24gYnkgZGVmYXVsdC4gT3ZlcnJpZGUgaXQgd2l0aCB5b3VyIG93blxuICAgIC8vIGluaXRpYWxpemF0aW9uIGxvZ2ljLlxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCl7fSxcblxuICAgIC8vIFRoZSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGEgQ29sbGVjdGlvbiBpcyBhbiBhcnJheSBvZiB0aGVcbiAgICAvLyBtb2RlbHMnIGF0dHJpYnV0ZXMuXG4gICAgdG9KU09OOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24obW9kZWwpIHsgcmV0dXJuIG1vZGVsLnRvSlNPTihvcHRpb25zKTsgfSk7XG4gICAgfSxcblxuICAgIC8vIFByb3h5IGBCYWNrYm9uZS5zeW5jYCBieSBkZWZhdWx0LlxuICAgIHN5bmM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIEJhY2tib25lLnN5bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9LFxuXG4gICAgLy8gQWRkIGEgbW9kZWwsIG9yIGxpc3Qgb2YgbW9kZWxzIHRvIHRoZSBzZXQuIGBtb2RlbHNgIG1heSBiZSBCYWNrYm9uZVxuICAgIC8vIE1vZGVscyBvciByYXcgSmF2YVNjcmlwdCBvYmplY3RzIHRvIGJlIGNvbnZlcnRlZCB0byBNb2RlbHMsIG9yIGFueVxuICAgIC8vIGNvbWJpbmF0aW9uIG9mIHRoZSB0d28uXG4gICAgYWRkOiBmdW5jdGlvbihtb2RlbHMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldChtb2RlbHMsIF8uZXh0ZW5kKHttZXJnZTogZmFsc2V9LCBvcHRpb25zLCBhZGRPcHRpb25zKSk7XG4gICAgfSxcblxuICAgIC8vIFJlbW92ZSBhIG1vZGVsLCBvciBhIGxpc3Qgb2YgbW9kZWxzIGZyb20gdGhlIHNldC5cbiAgICByZW1vdmU6IGZ1bmN0aW9uKG1vZGVscywgb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IF8uZXh0ZW5kKHt9LCBvcHRpb25zKTtcbiAgICAgIHZhciBzaW5ndWxhciA9ICFfLmlzQXJyYXkobW9kZWxzKTtcbiAgICAgIG1vZGVscyA9IHNpbmd1bGFyID8gW21vZGVsc10gOiBtb2RlbHMuc2xpY2UoKTtcbiAgICAgIHZhciByZW1vdmVkID0gdGhpcy5fcmVtb3ZlTW9kZWxzKG1vZGVscywgb3B0aW9ucyk7XG4gICAgICBpZiAoIW9wdGlvbnMuc2lsZW50ICYmIHJlbW92ZWQubGVuZ3RoKSB7XG4gICAgICAgIG9wdGlvbnMuY2hhbmdlcyA9IHthZGRlZDogW10sIG1lcmdlZDogW10sIHJlbW92ZWQ6IHJlbW92ZWR9O1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ3VwZGF0ZScsIHRoaXMsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNpbmd1bGFyID8gcmVtb3ZlZFswXSA6IHJlbW92ZWQ7XG4gICAgfSxcblxuICAgIC8vIFVwZGF0ZSBhIGNvbGxlY3Rpb24gYnkgYHNldGAtaW5nIGEgbmV3IGxpc3Qgb2YgbW9kZWxzLCBhZGRpbmcgbmV3IG9uZXMsXG4gICAgLy8gcmVtb3ZpbmcgbW9kZWxzIHRoYXQgYXJlIG5vIGxvbmdlciBwcmVzZW50LCBhbmQgbWVyZ2luZyBtb2RlbHMgdGhhdFxuICAgIC8vIGFscmVhZHkgZXhpc3QgaW4gdGhlIGNvbGxlY3Rpb24sIGFzIG5lY2Vzc2FyeS4gU2ltaWxhciB0byAqKk1vZGVsI3NldCoqLFxuICAgIC8vIHRoZSBjb3JlIG9wZXJhdGlvbiBmb3IgdXBkYXRpbmcgdGhlIGRhdGEgY29udGFpbmVkIGJ5IHRoZSBjb2xsZWN0aW9uLlxuICAgIHNldDogZnVuY3Rpb24obW9kZWxzLCBvcHRpb25zKSB7XG4gICAgICBpZiAobW9kZWxzID09IG51bGwpIHJldHVybjtcblxuICAgICAgb3B0aW9ucyA9IF8uZXh0ZW5kKHt9LCBzZXRPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgIGlmIChvcHRpb25zLnBhcnNlICYmICF0aGlzLl9pc01vZGVsKG1vZGVscykpIHtcbiAgICAgICAgbW9kZWxzID0gdGhpcy5wYXJzZShtb2RlbHMsIG9wdGlvbnMpIHx8IFtdO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2luZ3VsYXIgPSAhXy5pc0FycmF5KG1vZGVscyk7XG4gICAgICBtb2RlbHMgPSBzaW5ndWxhciA/IFttb2RlbHNdIDogbW9kZWxzLnNsaWNlKCk7XG5cbiAgICAgIHZhciBhdCA9IG9wdGlvbnMuYXQ7XG4gICAgICBpZiAoYXQgIT0gbnVsbCkgYXQgPSArYXQ7XG4gICAgICBpZiAoYXQgPiB0aGlzLmxlbmd0aCkgYXQgPSB0aGlzLmxlbmd0aDtcbiAgICAgIGlmIChhdCA8IDApIGF0ICs9IHRoaXMubGVuZ3RoICsgMTtcblxuICAgICAgdmFyIHNldCA9IFtdO1xuICAgICAgdmFyIHRvQWRkID0gW107XG4gICAgICB2YXIgdG9NZXJnZSA9IFtdO1xuICAgICAgdmFyIHRvUmVtb3ZlID0gW107XG4gICAgICB2YXIgbW9kZWxNYXAgPSB7fTtcblxuICAgICAgdmFyIGFkZCA9IG9wdGlvbnMuYWRkO1xuICAgICAgdmFyIG1lcmdlID0gb3B0aW9ucy5tZXJnZTtcbiAgICAgIHZhciByZW1vdmUgPSBvcHRpb25zLnJlbW92ZTtcblxuICAgICAgdmFyIHNvcnQgPSBmYWxzZTtcbiAgICAgIHZhciBzb3J0YWJsZSA9IHRoaXMuY29tcGFyYXRvciAmJiBhdCA9PSBudWxsICYmIG9wdGlvbnMuc29ydCAhPT0gZmFsc2U7XG4gICAgICB2YXIgc29ydEF0dHIgPSBfLmlzU3RyaW5nKHRoaXMuY29tcGFyYXRvcikgPyB0aGlzLmNvbXBhcmF0b3IgOiBudWxsO1xuXG4gICAgICAvLyBUdXJuIGJhcmUgb2JqZWN0cyBpbnRvIG1vZGVsIHJlZmVyZW5jZXMsIGFuZCBwcmV2ZW50IGludmFsaWQgbW9kZWxzXG4gICAgICAvLyBmcm9tIGJlaW5nIGFkZGVkLlxuICAgICAgdmFyIG1vZGVsLCBpO1xuICAgICAgZm9yIChpID0gMDsgaSA8IG1vZGVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBtb2RlbCA9IG1vZGVsc1tpXTtcblxuICAgICAgICAvLyBJZiBhIGR1cGxpY2F0ZSBpcyBmb3VuZCwgcHJldmVudCBpdCBmcm9tIGJlaW5nIGFkZGVkIGFuZFxuICAgICAgICAvLyBvcHRpb25hbGx5IG1lcmdlIGl0IGludG8gdGhlIGV4aXN0aW5nIG1vZGVsLlxuICAgICAgICB2YXIgZXhpc3RpbmcgPSB0aGlzLmdldChtb2RlbCk7XG4gICAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICAgIGlmIChtZXJnZSAmJiBtb2RlbCAhPT0gZXhpc3RpbmcpIHtcbiAgICAgICAgICAgIHZhciBhdHRycyA9IHRoaXMuX2lzTW9kZWwobW9kZWwpID8gbW9kZWwuYXR0cmlidXRlcyA6IG1vZGVsO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMucGFyc2UpIGF0dHJzID0gZXhpc3RpbmcucGFyc2UoYXR0cnMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgZXhpc3Rpbmcuc2V0KGF0dHJzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRvTWVyZ2UucHVzaChleGlzdGluZyk7XG4gICAgICAgICAgICBpZiAoc29ydGFibGUgJiYgIXNvcnQpIHNvcnQgPSBleGlzdGluZy5oYXNDaGFuZ2VkKHNvcnRBdHRyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFtb2RlbE1hcFtleGlzdGluZy5jaWRdKSB7XG4gICAgICAgICAgICBtb2RlbE1hcFtleGlzdGluZy5jaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgIHNldC5wdXNoKGV4aXN0aW5nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbW9kZWxzW2ldID0gZXhpc3Rpbmc7XG5cbiAgICAgICAgLy8gSWYgdGhpcyBpcyBhIG5ldywgdmFsaWQgbW9kZWwsIHB1c2ggaXQgdG8gdGhlIGB0b0FkZGAgbGlzdC5cbiAgICAgICAgfSBlbHNlIGlmIChhZGQpIHtcbiAgICAgICAgICBtb2RlbCA9IG1vZGVsc1tpXSA9IHRoaXMuX3ByZXBhcmVNb2RlbChtb2RlbCwgb3B0aW9ucyk7XG4gICAgICAgICAgaWYgKG1vZGVsKSB7XG4gICAgICAgICAgICB0b0FkZC5wdXNoKG1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMuX2FkZFJlZmVyZW5jZShtb2RlbCwgb3B0aW9ucyk7XG4gICAgICAgICAgICBtb2RlbE1hcFttb2RlbC5jaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgIHNldC5wdXNoKG1vZGVsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIHN0YWxlIG1vZGVscy5cbiAgICAgIGlmIChyZW1vdmUpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBtb2RlbCA9IHRoaXMubW9kZWxzW2ldO1xuICAgICAgICAgIGlmICghbW9kZWxNYXBbbW9kZWwuY2lkXSkgdG9SZW1vdmUucHVzaChtb2RlbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRvUmVtb3ZlLmxlbmd0aCkgdGhpcy5fcmVtb3ZlTW9kZWxzKHRvUmVtb3ZlLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2VlIGlmIHNvcnRpbmcgaXMgbmVlZGVkLCB1cGRhdGUgYGxlbmd0aGAgYW5kIHNwbGljZSBpbiBuZXcgbW9kZWxzLlxuICAgICAgdmFyIG9yZGVyQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgdmFyIHJlcGxhY2UgPSAhc29ydGFibGUgJiYgYWRkICYmIHJlbW92ZTtcbiAgICAgIGlmIChzZXQubGVuZ3RoICYmIHJlcGxhY2UpIHtcbiAgICAgICAgb3JkZXJDaGFuZ2VkID0gdGhpcy5sZW5ndGggIT09IHNldC5sZW5ndGggfHwgXy5zb21lKHRoaXMubW9kZWxzLCBmdW5jdGlvbihtLCBpbmRleCkge1xuICAgICAgICAgIHJldHVybiBtICE9PSBzZXRbaW5kZXhdO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tb2RlbHMubGVuZ3RoID0gMDtcbiAgICAgICAgc3BsaWNlKHRoaXMubW9kZWxzLCBzZXQsIDApO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMubW9kZWxzLmxlbmd0aDtcbiAgICAgIH0gZWxzZSBpZiAodG9BZGQubGVuZ3RoKSB7XG4gICAgICAgIGlmIChzb3J0YWJsZSkgc29ydCA9IHRydWU7XG4gICAgICAgIHNwbGljZSh0aGlzLm1vZGVscywgdG9BZGQsIGF0ID09IG51bGwgPyB0aGlzLmxlbmd0aCA6IGF0KTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSB0aGlzLm1vZGVscy5sZW5ndGg7XG4gICAgICB9XG5cbiAgICAgIC8vIFNpbGVudGx5IHNvcnQgdGhlIGNvbGxlY3Rpb24gaWYgYXBwcm9wcmlhdGUuXG4gICAgICBpZiAoc29ydCkgdGhpcy5zb3J0KHtzaWxlbnQ6IHRydWV9KTtcblxuICAgICAgLy8gVW5sZXNzIHNpbGVuY2VkLCBpdCdzIHRpbWUgdG8gZmlyZSBhbGwgYXBwcm9wcmlhdGUgYWRkL3NvcnQvdXBkYXRlIGV2ZW50cy5cbiAgICAgIGlmICghb3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRvQWRkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGF0ICE9IG51bGwpIG9wdGlvbnMuaW5kZXggPSBhdCArIGk7XG4gICAgICAgICAgbW9kZWwgPSB0b0FkZFtpXTtcbiAgICAgICAgICBtb2RlbC50cmlnZ2VyKCdhZGQnLCBtb2RlbCwgdGhpcywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNvcnQgfHwgb3JkZXJDaGFuZ2VkKSB0aGlzLnRyaWdnZXIoJ3NvcnQnLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKHRvQWRkLmxlbmd0aCB8fCB0b1JlbW92ZS5sZW5ndGggfHwgdG9NZXJnZS5sZW5ndGgpIHtcbiAgICAgICAgICBvcHRpb25zLmNoYW5nZXMgPSB7XG4gICAgICAgICAgICBhZGRlZDogdG9BZGQsXG4gICAgICAgICAgICByZW1vdmVkOiB0b1JlbW92ZSxcbiAgICAgICAgICAgIG1lcmdlZDogdG9NZXJnZVxuICAgICAgICAgIH07XG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCd1cGRhdGUnLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBSZXR1cm4gdGhlIGFkZGVkIChvciBtZXJnZWQpIG1vZGVsIChvciBtb2RlbHMpLlxuICAgICAgcmV0dXJuIHNpbmd1bGFyID8gbW9kZWxzWzBdIDogbW9kZWxzO1xuICAgIH0sXG5cbiAgICAvLyBXaGVuIHlvdSBoYXZlIG1vcmUgaXRlbXMgdGhhbiB5b3Ugd2FudCB0byBhZGQgb3IgcmVtb3ZlIGluZGl2aWR1YWxseSxcbiAgICAvLyB5b3UgY2FuIHJlc2V0IHRoZSBlbnRpcmUgc2V0IHdpdGggYSBuZXcgbGlzdCBvZiBtb2RlbHMsIHdpdGhvdXQgZmlyaW5nXG4gICAgLy8gYW55IGdyYW51bGFyIGBhZGRgIG9yIGByZW1vdmVgIGV2ZW50cy4gRmlyZXMgYHJlc2V0YCB3aGVuIGZpbmlzaGVkLlxuICAgIC8vIFVzZWZ1bCBmb3IgYnVsayBvcGVyYXRpb25zIGFuZCBvcHRpbWl6YXRpb25zLlxuICAgIHJlc2V0OiBmdW5jdGlvbihtb2RlbHMsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zID8gXy5jbG9uZShvcHRpb25zKSA6IHt9O1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1vZGVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLl9yZW1vdmVSZWZlcmVuY2UodGhpcy5tb2RlbHNbaV0sIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgb3B0aW9ucy5wcmV2aW91c01vZGVscyA9IHRoaXMubW9kZWxzO1xuICAgICAgdGhpcy5fcmVzZXQoKTtcbiAgICAgIG1vZGVscyA9IHRoaXMuYWRkKG1vZGVscywgXy5leHRlbmQoe3NpbGVudDogdHJ1ZX0sIG9wdGlvbnMpKTtcbiAgICAgIGlmICghb3B0aW9ucy5zaWxlbnQpIHRoaXMudHJpZ2dlcigncmVzZXQnLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiBtb2RlbHM7XG4gICAgfSxcblxuICAgIC8vIEFkZCBhIG1vZGVsIHRvIHRoZSBlbmQgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAgcHVzaDogZnVuY3Rpb24obW9kZWwsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLmFkZChtb2RlbCwgXy5leHRlbmQoe2F0OiB0aGlzLmxlbmd0aH0sIG9wdGlvbnMpKTtcbiAgICB9LFxuXG4gICAgLy8gUmVtb3ZlIGEgbW9kZWwgZnJvbSB0aGUgZW5kIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgIHBvcDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIG1vZGVsID0gdGhpcy5hdCh0aGlzLmxlbmd0aCAtIDEpO1xuICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlKG1vZGVsLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLy8gQWRkIGEgbW9kZWwgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGUgY29sbGVjdGlvbi5cbiAgICB1bnNoaWZ0OiBmdW5jdGlvbihtb2RlbCwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuYWRkKG1vZGVsLCBfLmV4dGVuZCh7YXQ6IDB9LCBvcHRpb25zKSk7XG4gICAgfSxcblxuICAgIC8vIFJlbW92ZSBhIG1vZGVsIGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgY29sbGVjdGlvbi5cbiAgICBzaGlmdDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIG1vZGVsID0gdGhpcy5hdCgwKTtcbiAgICAgIHJldHVybiB0aGlzLnJlbW92ZShtb2RlbCwgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8vIFNsaWNlIG91dCBhIHN1Yi1hcnJheSBvZiBtb2RlbHMgZnJvbSB0aGUgY29sbGVjdGlvbi5cbiAgICBzbGljZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gc2xpY2UuYXBwbHkodGhpcy5tb2RlbHMsIGFyZ3VtZW50cyk7XG4gICAgfSxcblxuICAgIC8vIEdldCBhIG1vZGVsIGZyb20gdGhlIHNldCBieSBpZCwgY2lkLCBtb2RlbCBvYmplY3Qgd2l0aCBpZCBvciBjaWRcbiAgICAvLyBwcm9wZXJ0aWVzLCBvciBhbiBhdHRyaWJ1dGVzIG9iamVjdCB0aGF0IGlzIHRyYW5zZm9ybWVkIHRocm91Z2ggbW9kZWxJZC5cbiAgICBnZXQ6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgICAgcmV0dXJuIHRoaXMuX2J5SWRbb2JqXSB8fFxuICAgICAgICB0aGlzLl9ieUlkW3RoaXMubW9kZWxJZCh0aGlzLl9pc01vZGVsKG9iaikgPyBvYmouYXR0cmlidXRlcyA6IG9iaildIHx8XG4gICAgICAgIG9iai5jaWQgJiYgdGhpcy5fYnlJZFtvYmouY2lkXTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG1vZGVsIGlzIGluIHRoZSBjb2xsZWN0aW9uLlxuICAgIGhhczogZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQob2JqKSAhPSBudWxsO1xuICAgIH0sXG5cbiAgICAvLyBHZXQgdGhlIG1vZGVsIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICBhdDogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgIGlmIChpbmRleCA8IDApIGluZGV4ICs9IHRoaXMubGVuZ3RoO1xuICAgICAgcmV0dXJuIHRoaXMubW9kZWxzW2luZGV4XTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJuIG1vZGVscyB3aXRoIG1hdGNoaW5nIGF0dHJpYnV0ZXMuIFVzZWZ1bCBmb3Igc2ltcGxlIGNhc2VzIG9mXG4gICAgLy8gYGZpbHRlcmAuXG4gICAgd2hlcmU6IGZ1bmN0aW9uKGF0dHJzLCBmaXJzdCkge1xuICAgICAgcmV0dXJuIHRoaXNbZmlyc3QgPyAnZmluZCcgOiAnZmlsdGVyJ10oYXR0cnMpO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm4gdGhlIGZpcnN0IG1vZGVsIHdpdGggbWF0Y2hpbmcgYXR0cmlidXRlcy4gVXNlZnVsIGZvciBzaW1wbGUgY2FzZXNcbiAgICAvLyBvZiBgZmluZGAuXG4gICAgZmluZFdoZXJlOiBmdW5jdGlvbihhdHRycykge1xuICAgICAgcmV0dXJuIHRoaXMud2hlcmUoYXR0cnMsIHRydWUpO1xuICAgIH0sXG5cbiAgICAvLyBGb3JjZSB0aGUgY29sbGVjdGlvbiB0byByZS1zb3J0IGl0c2VsZi4gWW91IGRvbid0IG5lZWQgdG8gY2FsbCB0aGlzIHVuZGVyXG4gICAgLy8gbm9ybWFsIGNpcmN1bXN0YW5jZXMsIGFzIHRoZSBzZXQgd2lsbCBtYWludGFpbiBzb3J0IG9yZGVyIGFzIGVhY2ggaXRlbVxuICAgIC8vIGlzIGFkZGVkLlxuICAgIHNvcnQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gdGhpcy5jb21wYXJhdG9yO1xuICAgICAgaWYgKCFjb21wYXJhdG9yKSB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBzb3J0IGEgc2V0IHdpdGhvdXQgYSBjb21wYXJhdG9yJyk7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xuXG4gICAgICB2YXIgbGVuZ3RoID0gY29tcGFyYXRvci5sZW5ndGg7XG4gICAgICBpZiAoXy5pc0Z1bmN0aW9uKGNvbXBhcmF0b3IpKSBjb21wYXJhdG9yID0gY29tcGFyYXRvci5iaW5kKHRoaXMpO1xuXG4gICAgICAvLyBSdW4gc29ydCBiYXNlZCBvbiB0eXBlIG9mIGBjb21wYXJhdG9yYC5cbiAgICAgIGlmIChsZW5ndGggPT09IDEgfHwgXy5pc1N0cmluZyhjb21wYXJhdG9yKSkge1xuICAgICAgICB0aGlzLm1vZGVscyA9IHRoaXMuc29ydEJ5KGNvbXBhcmF0b3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5tb2RlbHMuc29ydChjb21wYXJhdG9yKTtcbiAgICAgIH1cbiAgICAgIGlmICghb3B0aW9ucy5zaWxlbnQpIHRoaXMudHJpZ2dlcignc29ydCcsIHRoaXMsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8vIFBsdWNrIGFuIGF0dHJpYnV0ZSBmcm9tIGVhY2ggbW9kZWwgaW4gdGhlIGNvbGxlY3Rpb24uXG4gICAgcGx1Y2s6IGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcChhdHRyICsgJycpO1xuICAgIH0sXG5cbiAgICAvLyBGZXRjaCB0aGUgZGVmYXVsdCBzZXQgb2YgbW9kZWxzIGZvciB0aGlzIGNvbGxlY3Rpb24sIHJlc2V0dGluZyB0aGVcbiAgICAvLyBjb2xsZWN0aW9uIHdoZW4gdGhleSBhcnJpdmUuIElmIGByZXNldDogdHJ1ZWAgaXMgcGFzc2VkLCB0aGUgcmVzcG9uc2VcbiAgICAvLyBkYXRhIHdpbGwgYmUgcGFzc2VkIHRocm91Z2ggdGhlIGByZXNldGAgbWV0aG9kIGluc3RlYWQgb2YgYHNldGAuXG4gICAgZmV0Y2g6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBfLmV4dGVuZCh7cGFyc2U6IHRydWV9LCBvcHRpb25zKTtcbiAgICAgIHZhciBzdWNjZXNzID0gb3B0aW9ucy5zdWNjZXNzO1xuICAgICAgdmFyIGNvbGxlY3Rpb24gPSB0aGlzO1xuICAgICAgb3B0aW9ucy5zdWNjZXNzID0gZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICB2YXIgbWV0aG9kID0gb3B0aW9ucy5yZXNldCA/ICdyZXNldCcgOiAnc2V0JztcbiAgICAgICAgY29sbGVjdGlvblttZXRob2RdKHJlc3AsIG9wdGlvbnMpO1xuICAgICAgICBpZiAoc3VjY2Vzcykgc3VjY2Vzcy5jYWxsKG9wdGlvbnMuY29udGV4dCwgY29sbGVjdGlvbiwgcmVzcCwgb3B0aW9ucyk7XG4gICAgICAgIGNvbGxlY3Rpb24udHJpZ2dlcignc3luYycsIGNvbGxlY3Rpb24sIHJlc3AsIG9wdGlvbnMpO1xuICAgICAgfTtcbiAgICAgIHdyYXBFcnJvcih0aGlzLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiB0aGlzLnN5bmMoJ3JlYWQnLCB0aGlzLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLy8gQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIGEgbW9kZWwgaW4gdGhpcyBjb2xsZWN0aW9uLiBBZGQgdGhlIG1vZGVsIHRvIHRoZVxuICAgIC8vIGNvbGxlY3Rpb24gaW1tZWRpYXRlbHksIHVubGVzcyBgd2FpdDogdHJ1ZWAgaXMgcGFzc2VkLCBpbiB3aGljaCBjYXNlIHdlXG4gICAgLy8gd2FpdCBmb3IgdGhlIHNlcnZlciB0byBhZ3JlZS5cbiAgICBjcmVhdGU6IGZ1bmN0aW9uKG1vZGVsLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyA/IF8uY2xvbmUob3B0aW9ucykgOiB7fTtcbiAgICAgIHZhciB3YWl0ID0gb3B0aW9ucy53YWl0O1xuICAgICAgbW9kZWwgPSB0aGlzLl9wcmVwYXJlTW9kZWwobW9kZWwsIG9wdGlvbnMpO1xuICAgICAgaWYgKCFtb2RlbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKCF3YWl0KSB0aGlzLmFkZChtb2RlbCwgb3B0aW9ucyk7XG4gICAgICB2YXIgY29sbGVjdGlvbiA9IHRoaXM7XG4gICAgICB2YXIgc3VjY2VzcyA9IG9wdGlvbnMuc3VjY2VzcztcbiAgICAgIG9wdGlvbnMuc3VjY2VzcyA9IGZ1bmN0aW9uKG0sIHJlc3AsIGNhbGxiYWNrT3B0cykge1xuICAgICAgICBpZiAod2FpdCkgY29sbGVjdGlvbi5hZGQobSwgY2FsbGJhY2tPcHRzKTtcbiAgICAgICAgaWYgKHN1Y2Nlc3MpIHN1Y2Nlc3MuY2FsbChjYWxsYmFja09wdHMuY29udGV4dCwgbSwgcmVzcCwgY2FsbGJhY2tPcHRzKTtcbiAgICAgIH07XG4gICAgICBtb2RlbC5zYXZlKG51bGwsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIG1vZGVsO1xuICAgIH0sXG5cbiAgICAvLyAqKnBhcnNlKiogY29udmVydHMgYSByZXNwb25zZSBpbnRvIGEgbGlzdCBvZiBtb2RlbHMgdG8gYmUgYWRkZWQgdG8gdGhlXG4gICAgLy8gY29sbGVjdGlvbi4gVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gaXMganVzdCB0byBwYXNzIGl0IHRocm91Z2guXG4gICAgcGFyc2U6IGZ1bmN0aW9uKHJlc3AsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiByZXNwO1xuICAgIH0sXG5cbiAgICAvLyBDcmVhdGUgYSBuZXcgY29sbGVjdGlvbiB3aXRoIGFuIGlkZW50aWNhbCBsaXN0IG9mIG1vZGVscyBhcyB0aGlzIG9uZS5cbiAgICBjbG9uZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5tb2RlbHMsIHtcbiAgICAgICAgbW9kZWw6IHRoaXMubW9kZWwsXG4gICAgICAgIGNvbXBhcmF0b3I6IHRoaXMuY29tcGFyYXRvclxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIERlZmluZSBob3cgdG8gdW5pcXVlbHkgaWRlbnRpZnkgbW9kZWxzIGluIHRoZSBjb2xsZWN0aW9uLlxuICAgIG1vZGVsSWQ6IGZ1bmN0aW9uKGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnNbdGhpcy5tb2RlbC5wcm90b3R5cGUuaWRBdHRyaWJ1dGUgfHwgJ2lkJ107XG4gICAgfSxcblxuICAgIC8vIEdldCBhbiBpdGVyYXRvciBvZiBhbGwgbW9kZWxzIGluIHRoaXMgY29sbGVjdGlvbi5cbiAgICB2YWx1ZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBDb2xsZWN0aW9uSXRlcmF0b3IodGhpcywgSVRFUkFUT1JfVkFMVUVTKTtcbiAgICB9LFxuXG4gICAgLy8gR2V0IGFuIGl0ZXJhdG9yIG9mIGFsbCBtb2RlbCBJRHMgaW4gdGhpcyBjb2xsZWN0aW9uLlxuICAgIGtleXM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBDb2xsZWN0aW9uSXRlcmF0b3IodGhpcywgSVRFUkFUT1JfS0VZUyk7XG4gICAgfSxcblxuICAgIC8vIEdldCBhbiBpdGVyYXRvciBvZiBhbGwgW0lELCBtb2RlbF0gdHVwbGVzIGluIHRoaXMgY29sbGVjdGlvbi5cbiAgICBlbnRyaWVzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgQ29sbGVjdGlvbkl0ZXJhdG9yKHRoaXMsIElURVJBVE9SX0tFWVNWQUxVRVMpO1xuICAgIH0sXG5cbiAgICAvLyBQcml2YXRlIG1ldGhvZCB0byByZXNldCBhbGwgaW50ZXJuYWwgc3RhdGUuIENhbGxlZCB3aGVuIHRoZSBjb2xsZWN0aW9uXG4gICAgLy8gaXMgZmlyc3QgaW5pdGlhbGl6ZWQgb3IgcmVzZXQuXG4gICAgX3Jlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICAgIHRoaXMubW9kZWxzID0gW107XG4gICAgICB0aGlzLl9ieUlkICA9IHt9O1xuICAgIH0sXG5cbiAgICAvLyBQcmVwYXJlIGEgaGFzaCBvZiBhdHRyaWJ1dGVzIChvciBvdGhlciBtb2RlbCkgdG8gYmUgYWRkZWQgdG8gdGhpc1xuICAgIC8vIGNvbGxlY3Rpb24uXG4gICAgX3ByZXBhcmVNb2RlbDogZnVuY3Rpb24oYXR0cnMsIG9wdGlvbnMpIHtcbiAgICAgIGlmICh0aGlzLl9pc01vZGVsKGF0dHJzKSkge1xuICAgICAgICBpZiAoIWF0dHJzLmNvbGxlY3Rpb24pIGF0dHJzLmNvbGxlY3Rpb24gPSB0aGlzO1xuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgICB9XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyA/IF8uY2xvbmUob3B0aW9ucykgOiB7fTtcbiAgICAgIG9wdGlvbnMuY29sbGVjdGlvbiA9IHRoaXM7XG4gICAgICB2YXIgbW9kZWwgPSBuZXcgdGhpcy5tb2RlbChhdHRycywgb3B0aW9ucyk7XG4gICAgICBpZiAoIW1vZGVsLnZhbGlkYXRpb25FcnJvcikgcmV0dXJuIG1vZGVsO1xuICAgICAgdGhpcy50cmlnZ2VyKCdpbnZhbGlkJywgdGhpcywgbW9kZWwudmFsaWRhdGlvbkVycm9yLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLy8gSW50ZXJuYWwgbWV0aG9kIGNhbGxlZCBieSBib3RoIHJlbW92ZSBhbmQgc2V0LlxuICAgIF9yZW1vdmVNb2RlbHM6IGZ1bmN0aW9uKG1vZGVscywgb3B0aW9ucykge1xuICAgICAgdmFyIHJlbW92ZWQgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbW9kZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBtb2RlbCA9IHRoaXMuZ2V0KG1vZGVsc1tpXSk7XG4gICAgICAgIGlmICghbW9kZWwpIGNvbnRpbnVlO1xuXG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXhPZihtb2RlbCk7XG4gICAgICAgIHRoaXMubW9kZWxzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHRoaXMubGVuZ3RoLS07XG5cbiAgICAgICAgLy8gUmVtb3ZlIHJlZmVyZW5jZXMgYmVmb3JlIHRyaWdnZXJpbmcgJ3JlbW92ZScgZXZlbnQgdG8gcHJldmVudCBhblxuICAgICAgICAvLyBpbmZpbml0ZSBsb29wLiAjMzY5M1xuICAgICAgICBkZWxldGUgdGhpcy5fYnlJZFttb2RlbC5jaWRdO1xuICAgICAgICB2YXIgaWQgPSB0aGlzLm1vZGVsSWQobW9kZWwuYXR0cmlidXRlcyk7XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSBkZWxldGUgdGhpcy5fYnlJZFtpZF07XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLnNpbGVudCkge1xuICAgICAgICAgIG9wdGlvbnMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgICBtb2RlbC50cmlnZ2VyKCdyZW1vdmUnLCBtb2RlbCwgdGhpcywgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICByZW1vdmVkLnB1c2gobW9kZWwpO1xuICAgICAgICB0aGlzLl9yZW1vdmVSZWZlcmVuY2UobW9kZWwsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlbW92ZWQ7XG4gICAgfSxcblxuICAgIC8vIE1ldGhvZCBmb3IgY2hlY2tpbmcgd2hldGhlciBhbiBvYmplY3Qgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYSBtb2RlbCBmb3JcbiAgICAvLyB0aGUgcHVycG9zZXMgb2YgYWRkaW5nIHRvIHRoZSBjb2xsZWN0aW9uLlxuICAgIF9pc01vZGVsOiBmdW5jdGlvbihtb2RlbCkge1xuICAgICAgcmV0dXJuIG1vZGVsIGluc3RhbmNlb2YgTW9kZWw7XG4gICAgfSxcblxuICAgIC8vIEludGVybmFsIG1ldGhvZCB0byBjcmVhdGUgYSBtb2RlbCdzIHRpZXMgdG8gYSBjb2xsZWN0aW9uLlxuICAgIF9hZGRSZWZlcmVuY2U6IGZ1bmN0aW9uKG1vZGVsLCBvcHRpb25zKSB7XG4gICAgICB0aGlzLl9ieUlkW21vZGVsLmNpZF0gPSBtb2RlbDtcbiAgICAgIHZhciBpZCA9IHRoaXMubW9kZWxJZChtb2RlbC5hdHRyaWJ1dGVzKTtcbiAgICAgIGlmIChpZCAhPSBudWxsKSB0aGlzLl9ieUlkW2lkXSA9IG1vZGVsO1xuICAgICAgbW9kZWwub24oJ2FsbCcsIHRoaXMuX29uTW9kZWxFdmVudCwgdGhpcyk7XG4gICAgfSxcblxuICAgIC8vIEludGVybmFsIG1ldGhvZCB0byBzZXZlciBhIG1vZGVsJ3MgdGllcyB0byBhIGNvbGxlY3Rpb24uXG4gICAgX3JlbW92ZVJlZmVyZW5jZTogZnVuY3Rpb24obW9kZWwsIG9wdGlvbnMpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLl9ieUlkW21vZGVsLmNpZF07XG4gICAgICB2YXIgaWQgPSB0aGlzLm1vZGVsSWQobW9kZWwuYXR0cmlidXRlcyk7XG4gICAgICBpZiAoaWQgIT0gbnVsbCkgZGVsZXRlIHRoaXMuX2J5SWRbaWRdO1xuICAgICAgaWYgKHRoaXMgPT09IG1vZGVsLmNvbGxlY3Rpb24pIGRlbGV0ZSBtb2RlbC5jb2xsZWN0aW9uO1xuICAgICAgbW9kZWwub2ZmKCdhbGwnLCB0aGlzLl9vbk1vZGVsRXZlbnQsIHRoaXMpO1xuICAgIH0sXG5cbiAgICAvLyBJbnRlcm5hbCBtZXRob2QgY2FsbGVkIGV2ZXJ5IHRpbWUgYSBtb2RlbCBpbiB0aGUgc2V0IGZpcmVzIGFuIGV2ZW50LlxuICAgIC8vIFNldHMgbmVlZCB0byB1cGRhdGUgdGhlaXIgaW5kZXhlcyB3aGVuIG1vZGVscyBjaGFuZ2UgaWRzLiBBbGwgb3RoZXJcbiAgICAvLyBldmVudHMgc2ltcGx5IHByb3h5IHRocm91Z2guIFwiYWRkXCIgYW5kIFwicmVtb3ZlXCIgZXZlbnRzIHRoYXQgb3JpZ2luYXRlXG4gICAgLy8gaW4gb3RoZXIgY29sbGVjdGlvbnMgYXJlIGlnbm9yZWQuXG4gICAgX29uTW9kZWxFdmVudDogZnVuY3Rpb24oZXZlbnQsIG1vZGVsLCBjb2xsZWN0aW9uLCBvcHRpb25zKSB7XG4gICAgICBpZiAobW9kZWwpIHtcbiAgICAgICAgaWYgKChldmVudCA9PT0gJ2FkZCcgfHwgZXZlbnQgPT09ICdyZW1vdmUnKSAmJiBjb2xsZWN0aW9uICE9PSB0aGlzKSByZXR1cm47XG4gICAgICAgIGlmIChldmVudCA9PT0gJ2Rlc3Ryb3knKSB0aGlzLnJlbW92ZShtb2RlbCwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChldmVudCA9PT0gJ2NoYW5nZScpIHtcbiAgICAgICAgICB2YXIgcHJldklkID0gdGhpcy5tb2RlbElkKG1vZGVsLnByZXZpb3VzQXR0cmlidXRlcygpKTtcbiAgICAgICAgICB2YXIgaWQgPSB0aGlzLm1vZGVsSWQobW9kZWwuYXR0cmlidXRlcyk7XG4gICAgICAgICAgaWYgKHByZXZJZCAhPT0gaWQpIHtcbiAgICAgICAgICAgIGlmIChwcmV2SWQgIT0gbnVsbCkgZGVsZXRlIHRoaXMuX2J5SWRbcHJldklkXTtcbiAgICAgICAgICAgIGlmIChpZCAhPSBudWxsKSB0aGlzLl9ieUlkW2lkXSA9IG1vZGVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy50cmlnZ2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gIH0pO1xuXG4gIC8vIERlZmluaW5nIGFuIEBAaXRlcmF0b3IgbWV0aG9kIGltcGxlbWVudHMgSmF2YVNjcmlwdCdzIEl0ZXJhYmxlIHByb3RvY29sLlxuICAvLyBJbiBtb2Rlcm4gRVMyMDE1IGJyb3dzZXJzLCB0aGlzIHZhbHVlIGlzIGZvdW5kIGF0IFN5bWJvbC5pdGVyYXRvci5cbiAgLyogZ2xvYmFsIFN5bWJvbCAqL1xuICB2YXIgJCRpdGVyYXRvciA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yO1xuICBpZiAoJCRpdGVyYXRvcikge1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlWyQkaXRlcmF0b3JdID0gQ29sbGVjdGlvbi5wcm90b3R5cGUudmFsdWVzO1xuICB9XG5cbiAgLy8gQ29sbGVjdGlvbkl0ZXJhdG9yXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIEEgQ29sbGVjdGlvbkl0ZXJhdG9yIGltcGxlbWVudHMgSmF2YVNjcmlwdCdzIEl0ZXJhdG9yIHByb3RvY29sLCBhbGxvd2luZyB0aGVcbiAgLy8gdXNlIG9mIGBmb3Igb2ZgIGxvb3BzIGluIG1vZGVybiBicm93c2VycyBhbmQgaW50ZXJvcGVyYXRpb24gYmV0d2VlblxuICAvLyBCYWNrYm9uZS5Db2xsZWN0aW9uIGFuZCBvdGhlciBKYXZhU2NyaXB0IGZ1bmN0aW9ucyBhbmQgdGhpcmQtcGFydHkgbGlicmFyaWVzXG4gIC8vIHdoaWNoIGNhbiBvcGVyYXRlIG9uIEl0ZXJhYmxlcy5cbiAgdmFyIENvbGxlY3Rpb25JdGVyYXRvciA9IGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGtpbmQpIHtcbiAgICB0aGlzLl9jb2xsZWN0aW9uID0gY29sbGVjdGlvbjtcbiAgICB0aGlzLl9raW5kID0ga2luZDtcbiAgICB0aGlzLl9pbmRleCA9IDA7XG4gIH07XG5cbiAgLy8gVGhpcyBcImVudW1cIiBkZWZpbmVzIHRoZSB0aHJlZSBwb3NzaWJsZSBraW5kcyBvZiB2YWx1ZXMgd2hpY2ggY2FuIGJlIGVtaXR0ZWRcbiAgLy8gYnkgYSBDb2xsZWN0aW9uSXRlcmF0b3IgdGhhdCBjb3JyZXNwb25kIHRvIHRoZSB2YWx1ZXMoKSwga2V5cygpIGFuZCBlbnRyaWVzKClcbiAgLy8gbWV0aG9kcyBvbiBDb2xsZWN0aW9uLCByZXNwZWN0aXZlbHkuXG4gIHZhciBJVEVSQVRPUl9WQUxVRVMgPSAxO1xuICB2YXIgSVRFUkFUT1JfS0VZUyA9IDI7XG4gIHZhciBJVEVSQVRPUl9LRVlTVkFMVUVTID0gMztcblxuICAvLyBBbGwgSXRlcmF0b3JzIHNob3VsZCB0aGVtc2VsdmVzIGJlIEl0ZXJhYmxlLlxuICBpZiAoJCRpdGVyYXRvcikge1xuICAgIENvbGxlY3Rpb25JdGVyYXRvci5wcm90b3R5cGVbJCRpdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gIH1cblxuICBDb2xsZWN0aW9uSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5fY29sbGVjdGlvbikge1xuXG4gICAgICAvLyBPbmx5IGNvbnRpbnVlIGl0ZXJhdGluZyBpZiB0aGUgaXRlcmF0ZWQgY29sbGVjdGlvbiBpcyBsb25nIGVub3VnaC5cbiAgICAgIGlmICh0aGlzLl9pbmRleCA8IHRoaXMuX2NvbGxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgICAgIHZhciBtb2RlbCA9IHRoaXMuX2NvbGxlY3Rpb24uYXQodGhpcy5faW5kZXgpO1xuICAgICAgICB0aGlzLl9pbmRleCsrO1xuXG4gICAgICAgIC8vIENvbnN0cnVjdCBhIHZhbHVlIGRlcGVuZGluZyBvbiB3aGF0IGtpbmQgb2YgdmFsdWVzIHNob3VsZCBiZSBpdGVyYXRlZC5cbiAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5fa2luZCA9PT0gSVRFUkFUT1JfVkFMVUVTKSB7XG4gICAgICAgICAgdmFsdWUgPSBtb2RlbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaWQgPSB0aGlzLl9jb2xsZWN0aW9uLm1vZGVsSWQobW9kZWwuYXR0cmlidXRlcyk7XG4gICAgICAgICAgaWYgKHRoaXMuX2tpbmQgPT09IElURVJBVE9SX0tFWVMpIHtcbiAgICAgICAgICAgIHZhbHVlID0gaWQ7XG4gICAgICAgICAgfSBlbHNlIHsgLy8gSVRFUkFUT1JfS0VZU1ZBTFVFU1xuICAgICAgICAgICAgdmFsdWUgPSBbaWQsIG1vZGVsXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt2YWx1ZTogdmFsdWUsIGRvbmU6IGZhbHNlfTtcbiAgICAgIH1cblxuICAgICAgLy8gT25jZSBleGhhdXN0ZWQsIHJlbW92ZSB0aGUgcmVmZXJlbmNlIHRvIHRoZSBjb2xsZWN0aW9uIHNvIGZ1dHVyZVxuICAgICAgLy8gY2FsbHMgdG8gdGhlIG5leHQgbWV0aG9kIGFsd2F5cyByZXR1cm4gZG9uZS5cbiAgICAgIHRoaXMuX2NvbGxlY3Rpb24gPSB2b2lkIDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHt2YWx1ZTogdm9pZCAwLCBkb25lOiB0cnVlfTtcbiAgfTtcblxuICAvLyBCYWNrYm9uZS5WaWV3XG4gIC8vIC0tLS0tLS0tLS0tLS1cblxuICAvLyBCYWNrYm9uZSBWaWV3cyBhcmUgYWxtb3N0IG1vcmUgY29udmVudGlvbiB0aGFuIHRoZXkgYXJlIGFjdHVhbCBjb2RlLiBBIFZpZXdcbiAgLy8gaXMgc2ltcGx5IGEgSmF2YVNjcmlwdCBvYmplY3QgdGhhdCByZXByZXNlbnRzIGEgbG9naWNhbCBjaHVuayBvZiBVSSBpbiB0aGVcbiAgLy8gRE9NLiBUaGlzIG1pZ2h0IGJlIGEgc2luZ2xlIGl0ZW0sIGFuIGVudGlyZSBsaXN0LCBhIHNpZGViYXIgb3IgcGFuZWwsIG9yXG4gIC8vIGV2ZW4gdGhlIHN1cnJvdW5kaW5nIGZyYW1lIHdoaWNoIHdyYXBzIHlvdXIgd2hvbGUgYXBwLiBEZWZpbmluZyBhIGNodW5rIG9mXG4gIC8vIFVJIGFzIGEgKipWaWV3KiogYWxsb3dzIHlvdSB0byBkZWZpbmUgeW91ciBET00gZXZlbnRzIGRlY2xhcmF0aXZlbHksIHdpdGhvdXRcbiAgLy8gaGF2aW5nIHRvIHdvcnJ5IGFib3V0IHJlbmRlciBvcmRlciAuLi4gYW5kIG1ha2VzIGl0IGVhc3kgZm9yIHRoZSB2aWV3IHRvXG4gIC8vIHJlYWN0IHRvIHNwZWNpZmljIGNoYW5nZXMgaW4gdGhlIHN0YXRlIG9mIHlvdXIgbW9kZWxzLlxuXG4gIC8vIENyZWF0aW5nIGEgQmFja2JvbmUuVmlldyBjcmVhdGVzIGl0cyBpbml0aWFsIGVsZW1lbnQgb3V0c2lkZSBvZiB0aGUgRE9NLFxuICAvLyBpZiBhbiBleGlzdGluZyBlbGVtZW50IGlzIG5vdCBwcm92aWRlZC4uLlxuICB2YXIgVmlldyA9IEJhY2tib25lLlZpZXcgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdGhpcy5jaWQgPSBfLnVuaXF1ZUlkKCd2aWV3Jyk7XG4gICAgdGhpcy5wcmVpbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgXy5leHRlbmQodGhpcywgXy5waWNrKG9wdGlvbnMsIHZpZXdPcHRpb25zKSk7XG4gICAgdGhpcy5fZW5zdXJlRWxlbWVudCgpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xuXG4gIC8vIENhY2hlZCByZWdleCB0byBzcGxpdCBrZXlzIGZvciBgZGVsZWdhdGVgLlxuICB2YXIgZGVsZWdhdGVFdmVudFNwbGl0dGVyID0gL14oXFxTKylcXHMqKC4qKSQvO1xuXG4gIC8vIExpc3Qgb2YgdmlldyBvcHRpb25zIHRvIGJlIHNldCBhcyBwcm9wZXJ0aWVzLlxuICB2YXIgdmlld09wdGlvbnMgPSBbJ21vZGVsJywgJ2NvbGxlY3Rpb24nLCAnZWwnLCAnaWQnLCAnYXR0cmlidXRlcycsICdjbGFzc05hbWUnLCAndGFnTmFtZScsICdldmVudHMnXTtcblxuICAvLyBTZXQgdXAgYWxsIGluaGVyaXRhYmxlICoqQmFja2JvbmUuVmlldyoqIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMuXG4gIF8uZXh0ZW5kKFZpZXcucHJvdG90eXBlLCBFdmVudHMsIHtcblxuICAgIC8vIFRoZSBkZWZhdWx0IGB0YWdOYW1lYCBvZiBhIFZpZXcncyBlbGVtZW50IGlzIGBcImRpdlwiYC5cbiAgICB0YWdOYW1lOiAnZGl2JyxcblxuICAgIC8vIGpRdWVyeSBkZWxlZ2F0ZSBmb3IgZWxlbWVudCBsb29rdXAsIHNjb3BlZCB0byBET00gZWxlbWVudHMgd2l0aGluIHRoZVxuICAgIC8vIGN1cnJlbnQgdmlldy4gVGhpcyBzaG91bGQgYmUgcHJlZmVycmVkIHRvIGdsb2JhbCBsb29rdXBzIHdoZXJlIHBvc3NpYmxlLlxuICAgICQ6IGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICByZXR1cm4gdGhpcy4kZWwuZmluZChzZWxlY3Rvcik7XG4gICAgfSxcblxuICAgIC8vIHByZWluaXRpYWxpemUgaXMgYW4gZW1wdHkgZnVuY3Rpb24gYnkgZGVmYXVsdC4gWW91IGNhbiBvdmVycmlkZSBpdCB3aXRoIGEgZnVuY3Rpb25cbiAgICAvLyBvciBvYmplY3QuICBwcmVpbml0aWFsaXplIHdpbGwgcnVuIGJlZm9yZSBhbnkgaW5zdGFudGlhdGlvbiBsb2dpYyBpcyBydW4gaW4gdGhlIFZpZXdcbiAgICBwcmVpbml0aWFsaXplOiBmdW5jdGlvbigpe30sXG5cbiAgICAvLyBJbml0aWFsaXplIGlzIGFuIGVtcHR5IGZ1bmN0aW9uIGJ5IGRlZmF1bHQuIE92ZXJyaWRlIGl0IHdpdGggeW91ciBvd25cbiAgICAvLyBpbml0aWFsaXphdGlvbiBsb2dpYy5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpe30sXG5cbiAgICAvLyAqKnJlbmRlcioqIGlzIHRoZSBjb3JlIGZ1bmN0aW9uIHRoYXQgeW91ciB2aWV3IHNob3VsZCBvdmVycmlkZSwgaW4gb3JkZXJcbiAgICAvLyB0byBwb3B1bGF0ZSBpdHMgZWxlbWVudCAoYHRoaXMuZWxgKSwgd2l0aCB0aGUgYXBwcm9wcmlhdGUgSFRNTC4gVGhlXG4gICAgLy8gY29udmVudGlvbiBpcyBmb3IgKipyZW5kZXIqKiB0byBhbHdheXMgcmV0dXJuIGB0aGlzYC5cbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8vIFJlbW92ZSB0aGlzIHZpZXcgYnkgdGFraW5nIHRoZSBlbGVtZW50IG91dCBvZiB0aGUgRE9NLCBhbmQgcmVtb3ZpbmcgYW55XG4gICAgLy8gYXBwbGljYWJsZSBCYWNrYm9uZS5FdmVudHMgbGlzdGVuZXJzLlxuICAgIHJlbW92ZTogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9yZW1vdmVFbGVtZW50KCk7XG4gICAgICB0aGlzLnN0b3BMaXN0ZW5pbmcoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBSZW1vdmUgdGhpcyB2aWV3J3MgZWxlbWVudCBmcm9tIHRoZSBkb2N1bWVudCBhbmQgYWxsIGV2ZW50IGxpc3RlbmVyc1xuICAgIC8vIGF0dGFjaGVkIHRvIGl0LiBFeHBvc2VkIGZvciBzdWJjbGFzc2VzIHVzaW5nIGFuIGFsdGVybmF0aXZlIERPTVxuICAgIC8vIG1hbmlwdWxhdGlvbiBBUEkuXG4gICAgX3JlbW92ZUVsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy4kZWwucmVtb3ZlKCk7XG4gICAgfSxcblxuICAgIC8vIENoYW5nZSB0aGUgdmlldydzIGVsZW1lbnQgKGB0aGlzLmVsYCBwcm9wZXJ0eSkgYW5kIHJlLWRlbGVnYXRlIHRoZVxuICAgIC8vIHZpZXcncyBldmVudHMgb24gdGhlIG5ldyBlbGVtZW50LlxuICAgIHNldEVsZW1lbnQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHRoaXMudW5kZWxlZ2F0ZUV2ZW50cygpO1xuICAgICAgdGhpcy5fc2V0RWxlbWVudChlbGVtZW50KTtcbiAgICAgIHRoaXMuZGVsZWdhdGVFdmVudHMoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBDcmVhdGVzIHRoZSBgdGhpcy5lbGAgYW5kIGB0aGlzLiRlbGAgcmVmZXJlbmNlcyBmb3IgdGhpcyB2aWV3IHVzaW5nIHRoZVxuICAgIC8vIGdpdmVuIGBlbGAuIGBlbGAgY2FuIGJlIGEgQ1NTIHNlbGVjdG9yIG9yIGFuIEhUTUwgc3RyaW5nLCBhIGpRdWVyeVxuICAgIC8vIGNvbnRleHQgb3IgYW4gZWxlbWVudC4gU3ViY2xhc3NlcyBjYW4gb3ZlcnJpZGUgdGhpcyB0byB1dGlsaXplIGFuXG4gICAgLy8gYWx0ZXJuYXRpdmUgRE9NIG1hbmlwdWxhdGlvbiBBUEkgYW5kIGFyZSBvbmx5IHJlcXVpcmVkIHRvIHNldCB0aGVcbiAgICAvLyBgdGhpcy5lbGAgcHJvcGVydHkuXG4gICAgX3NldEVsZW1lbnQ6IGZ1bmN0aW9uKGVsKSB7XG4gICAgICB0aGlzLiRlbCA9IGVsIGluc3RhbmNlb2YgQmFja2JvbmUuJCA/IGVsIDogQmFja2JvbmUuJChlbCk7XG4gICAgICB0aGlzLmVsID0gdGhpcy4kZWxbMF07XG4gICAgfSxcblxuICAgIC8vIFNldCBjYWxsYmFja3MsIHdoZXJlIGB0aGlzLmV2ZW50c2AgaXMgYSBoYXNoIG9mXG4gICAgLy9cbiAgICAvLyAqe1wiZXZlbnQgc2VsZWN0b3JcIjogXCJjYWxsYmFja1wifSpcbiAgICAvL1xuICAgIC8vICAgICB7XG4gICAgLy8gICAgICAgJ21vdXNlZG93biAudGl0bGUnOiAgJ2VkaXQnLFxuICAgIC8vICAgICAgICdjbGljayAuYnV0dG9uJzogICAgICdzYXZlJyxcbiAgICAvLyAgICAgICAnY2xpY2sgLm9wZW4nOiAgICAgICBmdW5jdGlvbihlKSB7IC4uLiB9XG4gICAgLy8gICAgIH1cbiAgICAvL1xuICAgIC8vIHBhaXJzLiBDYWxsYmFja3Mgd2lsbCBiZSBib3VuZCB0byB0aGUgdmlldywgd2l0aCBgdGhpc2Agc2V0IHByb3Blcmx5LlxuICAgIC8vIFVzZXMgZXZlbnQgZGVsZWdhdGlvbiBmb3IgZWZmaWNpZW5jeS5cbiAgICAvLyBPbWl0dGluZyB0aGUgc2VsZWN0b3IgYmluZHMgdGhlIGV2ZW50IHRvIGB0aGlzLmVsYC5cbiAgICBkZWxlZ2F0ZUV2ZW50czogZnVuY3Rpb24oZXZlbnRzKSB7XG4gICAgICBldmVudHMgfHwgKGV2ZW50cyA9IF8ucmVzdWx0KHRoaXMsICdldmVudHMnKSk7XG4gICAgICBpZiAoIWV2ZW50cykgcmV0dXJuIHRoaXM7XG4gICAgICB0aGlzLnVuZGVsZWdhdGVFdmVudHMoKTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBldmVudHMpIHtcbiAgICAgICAgdmFyIG1ldGhvZCA9IGV2ZW50c1trZXldO1xuICAgICAgICBpZiAoIV8uaXNGdW5jdGlvbihtZXRob2QpKSBtZXRob2QgPSB0aGlzW21ldGhvZF07XG4gICAgICAgIGlmICghbWV0aG9kKSBjb250aW51ZTtcbiAgICAgICAgdmFyIG1hdGNoID0ga2V5Lm1hdGNoKGRlbGVnYXRlRXZlbnRTcGxpdHRlcik7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUobWF0Y2hbMV0sIG1hdGNoWzJdLCBtZXRob2QuYmluZCh0aGlzKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLy8gQWRkIGEgc2luZ2xlIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSB2aWV3J3MgZWxlbWVudCAob3IgYSBjaGlsZCBlbGVtZW50XG4gICAgLy8gdXNpbmcgYHNlbGVjdG9yYCkuIFRoaXMgb25seSB3b3JrcyBmb3IgZGVsZWdhdGUtYWJsZSBldmVudHM6IG5vdCBgZm9jdXNgLFxuICAgIC8vIGBibHVyYCwgYW5kIG5vdCBgY2hhbmdlYCwgYHN1Ym1pdGAsIGFuZCBgcmVzZXRgIGluIEludGVybmV0IEV4cGxvcmVyLlxuICAgIGRlbGVnYXRlOiBmdW5jdGlvbihldmVudE5hbWUsIHNlbGVjdG9yLCBsaXN0ZW5lcikge1xuICAgICAgdGhpcy4kZWwub24oZXZlbnROYW1lICsgJy5kZWxlZ2F0ZUV2ZW50cycgKyB0aGlzLmNpZCwgc2VsZWN0b3IsIGxpc3RlbmVyKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBDbGVhcnMgYWxsIGNhbGxiYWNrcyBwcmV2aW91c2x5IGJvdW5kIHRvIHRoZSB2aWV3IGJ5IGBkZWxlZ2F0ZUV2ZW50c2AuXG4gICAgLy8gWW91IHVzdWFsbHkgZG9uJ3QgbmVlZCB0byB1c2UgdGhpcywgYnV0IG1heSB3aXNoIHRvIGlmIHlvdSBoYXZlIG11bHRpcGxlXG4gICAgLy8gQmFja2JvbmUgdmlld3MgYXR0YWNoZWQgdG8gdGhlIHNhbWUgRE9NIGVsZW1lbnQuXG4gICAgdW5kZWxlZ2F0ZUV2ZW50czogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy4kZWwpIHRoaXMuJGVsLm9mZignLmRlbGVnYXRlRXZlbnRzJyArIHRoaXMuY2lkKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBBIGZpbmVyLWdyYWluZWQgYHVuZGVsZWdhdGVFdmVudHNgIGZvciByZW1vdmluZyBhIHNpbmdsZSBkZWxlZ2F0ZWQgZXZlbnQuXG4gICAgLy8gYHNlbGVjdG9yYCBhbmQgYGxpc3RlbmVyYCBhcmUgYm90aCBvcHRpb25hbC5cbiAgICB1bmRlbGVnYXRlOiBmdW5jdGlvbihldmVudE5hbWUsIHNlbGVjdG9yLCBsaXN0ZW5lcikge1xuICAgICAgdGhpcy4kZWwub2ZmKGV2ZW50TmFtZSArICcuZGVsZWdhdGVFdmVudHMnICsgdGhpcy5jaWQsIHNlbGVjdG9yLCBsaXN0ZW5lcik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLy8gUHJvZHVjZXMgYSBET00gZWxlbWVudCB0byBiZSBhc3NpZ25lZCB0byB5b3VyIHZpZXcuIEV4cG9zZWQgZm9yXG4gICAgLy8gc3ViY2xhc3NlcyB1c2luZyBhbiBhbHRlcm5hdGl2ZSBET00gbWFuaXB1bGF0aW9uIEFQSS5cbiAgICBfY3JlYXRlRWxlbWVudDogZnVuY3Rpb24odGFnTmFtZSkge1xuICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG4gICAgfSxcblxuICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBWaWV3IGhhcyBhIERPTSBlbGVtZW50IHRvIHJlbmRlciBpbnRvLlxuICAgIC8vIElmIGB0aGlzLmVsYCBpcyBhIHN0cmluZywgcGFzcyBpdCB0aHJvdWdoIGAkKClgLCB0YWtlIHRoZSBmaXJzdFxuICAgIC8vIG1hdGNoaW5nIGVsZW1lbnQsIGFuZCByZS1hc3NpZ24gaXQgdG8gYGVsYC4gT3RoZXJ3aXNlLCBjcmVhdGVcbiAgICAvLyBhbiBlbGVtZW50IGZyb20gdGhlIGBpZGAsIGBjbGFzc05hbWVgIGFuZCBgdGFnTmFtZWAgcHJvcGVydGllcy5cbiAgICBfZW5zdXJlRWxlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMuZWwpIHtcbiAgICAgICAgdmFyIGF0dHJzID0gXy5leHRlbmQoe30sIF8ucmVzdWx0KHRoaXMsICdhdHRyaWJ1dGVzJykpO1xuICAgICAgICBpZiAodGhpcy5pZCkgYXR0cnMuaWQgPSBfLnJlc3VsdCh0aGlzLCAnaWQnKTtcbiAgICAgICAgaWYgKHRoaXMuY2xhc3NOYW1lKSBhdHRyc1snY2xhc3MnXSA9IF8ucmVzdWx0KHRoaXMsICdjbGFzc05hbWUnKTtcbiAgICAgICAgdGhpcy5zZXRFbGVtZW50KHRoaXMuX2NyZWF0ZUVsZW1lbnQoXy5yZXN1bHQodGhpcywgJ3RhZ05hbWUnKSkpO1xuICAgICAgICB0aGlzLl9zZXRBdHRyaWJ1dGVzKGF0dHJzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0RWxlbWVudChfLnJlc3VsdCh0aGlzLCAnZWwnKSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIFNldCBhdHRyaWJ1dGVzIGZyb20gYSBoYXNoIG9uIHRoaXMgdmlldydzIGVsZW1lbnQuICBFeHBvc2VkIGZvclxuICAgIC8vIHN1YmNsYXNzZXMgdXNpbmcgYW4gYWx0ZXJuYXRpdmUgRE9NIG1hbmlwdWxhdGlvbiBBUEkuXG4gICAgX3NldEF0dHJpYnV0ZXM6IGZ1bmN0aW9uKGF0dHJpYnV0ZXMpIHtcbiAgICAgIHRoaXMuJGVsLmF0dHIoYXR0cmlidXRlcyk7XG4gICAgfVxuXG4gIH0pO1xuXG4gIC8vIFByb3h5IEJhY2tib25lIGNsYXNzIG1ldGhvZHMgdG8gVW5kZXJzY29yZSBmdW5jdGlvbnMsIHdyYXBwaW5nIHRoZSBtb2RlbCdzXG4gIC8vIGBhdHRyaWJ1dGVzYCBvYmplY3Qgb3IgY29sbGVjdGlvbidzIGBtb2RlbHNgIGFycmF5IGJlaGluZCB0aGUgc2NlbmVzLlxuICAvL1xuICAvLyBjb2xsZWN0aW9uLmZpbHRlcihmdW5jdGlvbihtb2RlbCkgeyByZXR1cm4gbW9kZWwuZ2V0KCdhZ2UnKSA+IDEwIH0pO1xuICAvLyBjb2xsZWN0aW9uLmVhY2godGhpcy5hZGRWaWV3KTtcbiAgLy9cbiAgLy8gYEZ1bmN0aW9uI2FwcGx5YCBjYW4gYmUgc2xvdyBzbyB3ZSB1c2UgdGhlIG1ldGhvZCdzIGFyZyBjb3VudCwgaWYgd2Uga25vdyBpdC5cbiAgdmFyIGFkZE1ldGhvZCA9IGZ1bmN0aW9uKGJhc2UsIGxlbmd0aCwgbWV0aG9kLCBhdHRyaWJ1dGUpIHtcbiAgICBzd2l0Y2ggKGxlbmd0aCkge1xuICAgICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBiYXNlW21ldGhvZF0odGhpc1thdHRyaWJ1dGVdKTtcbiAgICAgIH07XG4gICAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYmFzZVttZXRob2RdKHRoaXNbYXR0cmlidXRlXSwgdmFsdWUpO1xuICAgICAgfTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBiYXNlW21ldGhvZF0odGhpc1thdHRyaWJ1dGVdLCBjYihpdGVyYXRlZSwgdGhpcyksIGNvbnRleHQpO1xuICAgICAgfTtcbiAgICAgIGNhc2UgNDogcmV0dXJuIGZ1bmN0aW9uKGl0ZXJhdGVlLCBkZWZhdWx0VmFsLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBiYXNlW21ldGhvZF0odGhpc1thdHRyaWJ1dGVdLCBjYihpdGVyYXRlZSwgdGhpcyksIGRlZmF1bHRWYWwsIGNvbnRleHQpO1xuICAgICAgfTtcbiAgICAgIGRlZmF1bHQ6IHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgIGFyZ3MudW5zaGlmdCh0aGlzW2F0dHJpYnV0ZV0pO1xuICAgICAgICByZXR1cm4gYmFzZVttZXRob2RdLmFwcGx5KGJhc2UsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGFkZFVuZGVyc2NvcmVNZXRob2RzID0gZnVuY3Rpb24oQ2xhc3MsIGJhc2UsIG1ldGhvZHMsIGF0dHJpYnV0ZSkge1xuICAgIF8uZWFjaChtZXRob2RzLCBmdW5jdGlvbihsZW5ndGgsIG1ldGhvZCkge1xuICAgICAgaWYgKGJhc2VbbWV0aG9kXSkgQ2xhc3MucHJvdG90eXBlW21ldGhvZF0gPSBhZGRNZXRob2QoYmFzZSwgbGVuZ3RoLCBtZXRob2QsIGF0dHJpYnV0ZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gU3VwcG9ydCBgY29sbGVjdGlvbi5zb3J0QnkoJ2F0dHInKWAgYW5kIGBjb2xsZWN0aW9uLmZpbmRXaGVyZSh7aWQ6IDF9KWAuXG4gIHZhciBjYiA9IGZ1bmN0aW9uKGl0ZXJhdGVlLCBpbnN0YW5jZSkge1xuICAgIGlmIChfLmlzRnVuY3Rpb24oaXRlcmF0ZWUpKSByZXR1cm4gaXRlcmF0ZWU7XG4gICAgaWYgKF8uaXNPYmplY3QoaXRlcmF0ZWUpICYmICFpbnN0YW5jZS5faXNNb2RlbChpdGVyYXRlZSkpIHJldHVybiBtb2RlbE1hdGNoZXIoaXRlcmF0ZWUpO1xuICAgIGlmIChfLmlzU3RyaW5nKGl0ZXJhdGVlKSkgcmV0dXJuIGZ1bmN0aW9uKG1vZGVsKSB7IHJldHVybiBtb2RlbC5nZXQoaXRlcmF0ZWUpOyB9O1xuICAgIHJldHVybiBpdGVyYXRlZTtcbiAgfTtcbiAgdmFyIG1vZGVsTWF0Y2hlciA9IGZ1bmN0aW9uKGF0dHJzKSB7XG4gICAgdmFyIG1hdGNoZXIgPSBfLm1hdGNoZXMoYXR0cnMpO1xuICAgIHJldHVybiBmdW5jdGlvbihtb2RlbCkge1xuICAgICAgcmV0dXJuIG1hdGNoZXIobW9kZWwuYXR0cmlidXRlcyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBVbmRlcnNjb3JlIG1ldGhvZHMgdGhhdCB3ZSB3YW50IHRvIGltcGxlbWVudCBvbiB0aGUgQ29sbGVjdGlvbi5cbiAgLy8gOTAlIG9mIHRoZSBjb3JlIHVzZWZ1bG5lc3Mgb2YgQmFja2JvbmUgQ29sbGVjdGlvbnMgaXMgYWN0dWFsbHkgaW1wbGVtZW50ZWRcbiAgLy8gcmlnaHQgaGVyZTpcbiAgdmFyIGNvbGxlY3Rpb25NZXRob2RzID0ge2ZvckVhY2g6IDMsIGVhY2g6IDMsIG1hcDogMywgY29sbGVjdDogMywgcmVkdWNlOiAwLFxuICAgIGZvbGRsOiAwLCBpbmplY3Q6IDAsIHJlZHVjZVJpZ2h0OiAwLCBmb2xkcjogMCwgZmluZDogMywgZGV0ZWN0OiAzLCBmaWx0ZXI6IDMsXG4gICAgc2VsZWN0OiAzLCByZWplY3Q6IDMsIGV2ZXJ5OiAzLCBhbGw6IDMsIHNvbWU6IDMsIGFueTogMywgaW5jbHVkZTogMywgaW5jbHVkZXM6IDMsXG4gICAgY29udGFpbnM6IDMsIGludm9rZTogMCwgbWF4OiAzLCBtaW46IDMsIHRvQXJyYXk6IDEsIHNpemU6IDEsIGZpcnN0OiAzLFxuICAgIGhlYWQ6IDMsIHRha2U6IDMsIGluaXRpYWw6IDMsIHJlc3Q6IDMsIHRhaWw6IDMsIGRyb3A6IDMsIGxhc3Q6IDMsXG4gICAgd2l0aG91dDogMCwgZGlmZmVyZW5jZTogMCwgaW5kZXhPZjogMywgc2h1ZmZsZTogMSwgbGFzdEluZGV4T2Y6IDMsXG4gICAgaXNFbXB0eTogMSwgY2hhaW46IDEsIHNhbXBsZTogMywgcGFydGl0aW9uOiAzLCBncm91cEJ5OiAzLCBjb3VudEJ5OiAzLFxuICAgIHNvcnRCeTogMywgaW5kZXhCeTogMywgZmluZEluZGV4OiAzLCBmaW5kTGFzdEluZGV4OiAzfTtcblxuXG4gIC8vIFVuZGVyc2NvcmUgbWV0aG9kcyB0aGF0IHdlIHdhbnQgdG8gaW1wbGVtZW50IG9uIHRoZSBNb2RlbCwgbWFwcGVkIHRvIHRoZVxuICAvLyBudW1iZXIgb2YgYXJndW1lbnRzIHRoZXkgdGFrZS5cbiAgdmFyIG1vZGVsTWV0aG9kcyA9IHtrZXlzOiAxLCB2YWx1ZXM6IDEsIHBhaXJzOiAxLCBpbnZlcnQ6IDEsIHBpY2s6IDAsXG4gICAgb21pdDogMCwgY2hhaW46IDEsIGlzRW1wdHk6IDF9O1xuXG4gIC8vIE1peCBpbiBlYWNoIFVuZGVyc2NvcmUgbWV0aG9kIGFzIGEgcHJveHkgdG8gYENvbGxlY3Rpb24jbW9kZWxzYC5cblxuICBfLmVhY2goW1xuICAgIFtDb2xsZWN0aW9uLCBjb2xsZWN0aW9uTWV0aG9kcywgJ21vZGVscyddLFxuICAgIFtNb2RlbCwgbW9kZWxNZXRob2RzLCAnYXR0cmlidXRlcyddXG4gIF0sIGZ1bmN0aW9uKGNvbmZpZykge1xuICAgIHZhciBCYXNlID0gY29uZmlnWzBdLFxuICAgICAgICBtZXRob2RzID0gY29uZmlnWzFdLFxuICAgICAgICBhdHRyaWJ1dGUgPSBjb25maWdbMl07XG5cbiAgICBCYXNlLm1peGluID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICB2YXIgbWFwcGluZ3MgPSBfLnJlZHVjZShfLmZ1bmN0aW9ucyhvYmopLCBmdW5jdGlvbihtZW1vLCBuYW1lKSB7XG4gICAgICAgIG1lbW9bbmFtZV0gPSAwO1xuICAgICAgICByZXR1cm4gbWVtbztcbiAgICAgIH0sIHt9KTtcbiAgICAgIGFkZFVuZGVyc2NvcmVNZXRob2RzKEJhc2UsIG9iaiwgbWFwcGluZ3MsIGF0dHJpYnV0ZSk7XG4gICAgfTtcblxuICAgIGFkZFVuZGVyc2NvcmVNZXRob2RzKEJhc2UsIF8sIG1ldGhvZHMsIGF0dHJpYnV0ZSk7XG4gIH0pO1xuXG4gIC8vIEJhY2tib25lLnN5bmNcbiAgLy8gLS0tLS0tLS0tLS0tLVxuXG4gIC8vIE92ZXJyaWRlIHRoaXMgZnVuY3Rpb24gdG8gY2hhbmdlIHRoZSBtYW5uZXIgaW4gd2hpY2ggQmFja2JvbmUgcGVyc2lzdHNcbiAgLy8gbW9kZWxzIHRvIHRoZSBzZXJ2ZXIuIFlvdSB3aWxsIGJlIHBhc3NlZCB0aGUgdHlwZSBvZiByZXF1ZXN0LCBhbmQgdGhlXG4gIC8vIG1vZGVsIGluIHF1ZXN0aW9uLiBCeSBkZWZhdWx0LCBtYWtlcyBhIFJFU1RmdWwgQWpheCByZXF1ZXN0XG4gIC8vIHRvIHRoZSBtb2RlbCdzIGB1cmwoKWAuIFNvbWUgcG9zc2libGUgY3VzdG9taXphdGlvbnMgY291bGQgYmU6XG4gIC8vXG4gIC8vICogVXNlIGBzZXRUaW1lb3V0YCB0byBiYXRjaCByYXBpZC1maXJlIHVwZGF0ZXMgaW50byBhIHNpbmdsZSByZXF1ZXN0LlxuICAvLyAqIFNlbmQgdXAgdGhlIG1vZGVscyBhcyBYTUwgaW5zdGVhZCBvZiBKU09OLlxuICAvLyAqIFBlcnNpc3QgbW9kZWxzIHZpYSBXZWJTb2NrZXRzIGluc3RlYWQgb2YgQWpheC5cbiAgLy9cbiAgLy8gVHVybiBvbiBgQmFja2JvbmUuZW11bGF0ZUhUVFBgIGluIG9yZGVyIHRvIHNlbmQgYFBVVGAgYW5kIGBERUxFVEVgIHJlcXVlc3RzXG4gIC8vIGFzIGBQT1NUYCwgd2l0aCBhIGBfbWV0aG9kYCBwYXJhbWV0ZXIgY29udGFpbmluZyB0aGUgdHJ1ZSBIVFRQIG1ldGhvZCxcbiAgLy8gYXMgd2VsbCBhcyBhbGwgcmVxdWVzdHMgd2l0aCB0aGUgYm9keSBhcyBgYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkYFxuICAvLyBpbnN0ZWFkIG9mIGBhcHBsaWNhdGlvbi9qc29uYCB3aXRoIHRoZSBtb2RlbCBpbiBhIHBhcmFtIG5hbWVkIGBtb2RlbGAuXG4gIC8vIFVzZWZ1bCB3aGVuIGludGVyZmFjaW5nIHdpdGggc2VydmVyLXNpZGUgbGFuZ3VhZ2VzIGxpa2UgKipQSFAqKiB0aGF0IG1ha2VcbiAgLy8gaXQgZGlmZmljdWx0IHRvIHJlYWQgdGhlIGJvZHkgb2YgYFBVVGAgcmVxdWVzdHMuXG4gIEJhY2tib25lLnN5bmMgPSBmdW5jdGlvbihtZXRob2QsIG1vZGVsLCBvcHRpb25zKSB7XG4gICAgdmFyIHR5cGUgPSBtZXRob2RNYXBbbWV0aG9kXTtcblxuICAgIC8vIERlZmF1bHQgb3B0aW9ucywgdW5sZXNzIHNwZWNpZmllZC5cbiAgICBfLmRlZmF1bHRzKG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSksIHtcbiAgICAgIGVtdWxhdGVIVFRQOiBCYWNrYm9uZS5lbXVsYXRlSFRUUCxcbiAgICAgIGVtdWxhdGVKU09OOiBCYWNrYm9uZS5lbXVsYXRlSlNPTlxuICAgIH0pO1xuXG4gICAgLy8gRGVmYXVsdCBKU09OLXJlcXVlc3Qgb3B0aW9ucy5cbiAgICB2YXIgcGFyYW1zID0ge3R5cGU6IHR5cGUsIGRhdGFUeXBlOiAnanNvbid9O1xuXG4gICAgLy8gRW5zdXJlIHRoYXQgd2UgaGF2ZSBhIFVSTC5cbiAgICBpZiAoIW9wdGlvbnMudXJsKSB7XG4gICAgICBwYXJhbXMudXJsID0gXy5yZXN1bHQobW9kZWwsICd1cmwnKSB8fCB1cmxFcnJvcigpO1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSB0aGF0IHdlIGhhdmUgdGhlIGFwcHJvcHJpYXRlIHJlcXVlc3QgZGF0YS5cbiAgICBpZiAob3B0aW9ucy5kYXRhID09IG51bGwgJiYgbW9kZWwgJiYgKG1ldGhvZCA9PT0gJ2NyZWF0ZScgfHwgbWV0aG9kID09PSAndXBkYXRlJyB8fCBtZXRob2QgPT09ICdwYXRjaCcpKSB7XG4gICAgICBwYXJhbXMuY29udGVudFR5cGUgPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICBwYXJhbXMuZGF0YSA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuYXR0cnMgfHwgbW9kZWwudG9KU09OKG9wdGlvbnMpKTtcbiAgICB9XG5cbiAgICAvLyBGb3Igb2xkZXIgc2VydmVycywgZW11bGF0ZSBKU09OIGJ5IGVuY29kaW5nIHRoZSByZXF1ZXN0IGludG8gYW4gSFRNTC1mb3JtLlxuICAgIGlmIChvcHRpb25zLmVtdWxhdGVKU09OKSB7XG4gICAgICBwYXJhbXMuY29udGVudFR5cGUgPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJztcbiAgICAgIHBhcmFtcy5kYXRhID0gcGFyYW1zLmRhdGEgPyB7bW9kZWw6IHBhcmFtcy5kYXRhfSA6IHt9O1xuICAgIH1cblxuICAgIC8vIEZvciBvbGRlciBzZXJ2ZXJzLCBlbXVsYXRlIEhUVFAgYnkgbWltaWNraW5nIHRoZSBIVFRQIG1ldGhvZCB3aXRoIGBfbWV0aG9kYFxuICAgIC8vIEFuZCBhbiBgWC1IVFRQLU1ldGhvZC1PdmVycmlkZWAgaGVhZGVyLlxuICAgIGlmIChvcHRpb25zLmVtdWxhdGVIVFRQICYmICh0eXBlID09PSAnUFVUJyB8fCB0eXBlID09PSAnREVMRVRFJyB8fCB0eXBlID09PSAnUEFUQ0gnKSkge1xuICAgICAgcGFyYW1zLnR5cGUgPSAnUE9TVCc7XG4gICAgICBpZiAob3B0aW9ucy5lbXVsYXRlSlNPTikgcGFyYW1zLmRhdGEuX21ldGhvZCA9IHR5cGU7XG4gICAgICB2YXIgYmVmb3JlU2VuZCA9IG9wdGlvbnMuYmVmb3JlU2VuZDtcbiAgICAgIG9wdGlvbnMuYmVmb3JlU2VuZCA9IGZ1bmN0aW9uKHhocikge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignWC1IVFRQLU1ldGhvZC1PdmVycmlkZScsIHR5cGUpO1xuICAgICAgICBpZiAoYmVmb3JlU2VuZCkgcmV0dXJuIGJlZm9yZVNlbmQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gRG9uJ3QgcHJvY2VzcyBkYXRhIG9uIGEgbm9uLUdFVCByZXF1ZXN0LlxuICAgIGlmIChwYXJhbXMudHlwZSAhPT0gJ0dFVCcgJiYgIW9wdGlvbnMuZW11bGF0ZUpTT04pIHtcbiAgICAgIHBhcmFtcy5wcm9jZXNzRGF0YSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFBhc3MgYWxvbmcgYHRleHRTdGF0dXNgIGFuZCBgZXJyb3JUaHJvd25gIGZyb20galF1ZXJ5LlxuICAgIHZhciBlcnJvciA9IG9wdGlvbnMuZXJyb3I7XG4gICAgb3B0aW9ucy5lcnJvciA9IGZ1bmN0aW9uKHhociwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcbiAgICAgIG9wdGlvbnMudGV4dFN0YXR1cyA9IHRleHRTdGF0dXM7XG4gICAgICBvcHRpb25zLmVycm9yVGhyb3duID0gZXJyb3JUaHJvd247XG4gICAgICBpZiAoZXJyb3IpIGVycm9yLmNhbGwob3B0aW9ucy5jb250ZXh0LCB4aHIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKTtcbiAgICB9O1xuXG4gICAgLy8gTWFrZSB0aGUgcmVxdWVzdCwgYWxsb3dpbmcgdGhlIHVzZXIgdG8gb3ZlcnJpZGUgYW55IEFqYXggb3B0aW9ucy5cbiAgICB2YXIgeGhyID0gb3B0aW9ucy54aHIgPSBCYWNrYm9uZS5hamF4KF8uZXh0ZW5kKHBhcmFtcywgb3B0aW9ucykpO1xuICAgIG1vZGVsLnRyaWdnZXIoJ3JlcXVlc3QnLCBtb2RlbCwgeGhyLCBvcHRpb25zKTtcbiAgICByZXR1cm4geGhyO1xuICB9O1xuXG4gIC8vIE1hcCBmcm9tIENSVUQgdG8gSFRUUCBmb3Igb3VyIGRlZmF1bHQgYEJhY2tib25lLnN5bmNgIGltcGxlbWVudGF0aW9uLlxuICB2YXIgbWV0aG9kTWFwID0ge1xuICAgIGNyZWF0ZTogJ1BPU1QnLFxuICAgIHVwZGF0ZTogJ1BVVCcsXG4gICAgcGF0Y2g6ICdQQVRDSCcsXG4gICAgZGVsZXRlOiAnREVMRVRFJyxcbiAgICByZWFkOiAnR0VUJ1xuICB9O1xuXG4gIC8vIFNldCB0aGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiBgQmFja2JvbmUuYWpheGAgdG8gcHJveHkgdGhyb3VnaCB0byBgJGAuXG4gIC8vIE92ZXJyaWRlIHRoaXMgaWYgeW91J2QgbGlrZSB0byB1c2UgYSBkaWZmZXJlbnQgbGlicmFyeS5cbiAgQmFja2JvbmUuYWpheCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBCYWNrYm9uZS4kLmFqYXguYXBwbHkoQmFja2JvbmUuJCwgYXJndW1lbnRzKTtcbiAgfTtcblxuICAvLyBCYWNrYm9uZS5Sb3V0ZXJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gUm91dGVycyBtYXAgZmF1eC1VUkxzIHRvIGFjdGlvbnMsIGFuZCBmaXJlIGV2ZW50cyB3aGVuIHJvdXRlcyBhcmVcbiAgLy8gbWF0Y2hlZC4gQ3JlYXRpbmcgYSBuZXcgb25lIHNldHMgaXRzIGByb3V0ZXNgIGhhc2gsIGlmIG5vdCBzZXQgc3RhdGljYWxseS5cbiAgdmFyIFJvdXRlciA9IEJhY2tib25lLlJvdXRlciA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xuICAgIHRoaXMucHJlaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChvcHRpb25zLnJvdXRlcykgdGhpcy5yb3V0ZXMgPSBvcHRpb25zLnJvdXRlcztcbiAgICB0aGlzLl9iaW5kUm91dGVzKCk7XG4gICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgLy8gQ2FjaGVkIHJlZ3VsYXIgZXhwcmVzc2lvbnMgZm9yIG1hdGNoaW5nIG5hbWVkIHBhcmFtIHBhcnRzIGFuZCBzcGxhdHRlZFxuICAvLyBwYXJ0cyBvZiByb3V0ZSBzdHJpbmdzLlxuICB2YXIgb3B0aW9uYWxQYXJhbSA9IC9cXCgoLio/KVxcKS9nO1xuICB2YXIgbmFtZWRQYXJhbSAgICA9IC8oXFwoXFw/KT86XFx3Ky9nO1xuICB2YXIgc3BsYXRQYXJhbSAgICA9IC9cXCpcXHcrL2c7XG4gIHZhciBlc2NhcGVSZWdFeHAgID0gL1tcXC17fVxcW1xcXSs/LixcXFxcXFxeJHwjXFxzXS9nO1xuXG4gIC8vIFNldCB1cCBhbGwgaW5oZXJpdGFibGUgKipCYWNrYm9uZS5Sb3V0ZXIqKiBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzLlxuICBfLmV4dGVuZChSb3V0ZXIucHJvdG90eXBlLCBFdmVudHMsIHtcblxuICAgIC8vIHByZWluaXRpYWxpemUgaXMgYW4gZW1wdHkgZnVuY3Rpb24gYnkgZGVmYXVsdC4gWW91IGNhbiBvdmVycmlkZSBpdCB3aXRoIGEgZnVuY3Rpb25cbiAgICAvLyBvciBvYmplY3QuICBwcmVpbml0aWFsaXplIHdpbGwgcnVuIGJlZm9yZSBhbnkgaW5zdGFudGlhdGlvbiBsb2dpYyBpcyBydW4gaW4gdGhlIFJvdXRlci5cbiAgICBwcmVpbml0aWFsaXplOiBmdW5jdGlvbigpe30sXG5cbiAgICAvLyBJbml0aWFsaXplIGlzIGFuIGVtcHR5IGZ1bmN0aW9uIGJ5IGRlZmF1bHQuIE92ZXJyaWRlIGl0IHdpdGggeW91ciBvd25cbiAgICAvLyBpbml0aWFsaXphdGlvbiBsb2dpYy5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpe30sXG5cbiAgICAvLyBNYW51YWxseSBiaW5kIGEgc2luZ2xlIG5hbWVkIHJvdXRlIHRvIGEgY2FsbGJhY2suIEZvciBleGFtcGxlOlxuICAgIC8vXG4gICAgLy8gICAgIHRoaXMucm91dGUoJ3NlYXJjaC86cXVlcnkvcDpudW0nLCAnc2VhcmNoJywgZnVuY3Rpb24ocXVlcnksIG51bSkge1xuICAgIC8vICAgICAgIC4uLlxuICAgIC8vICAgICB9KTtcbiAgICAvL1xuICAgIHJvdXRlOiBmdW5jdGlvbihyb3V0ZSwgbmFtZSwgY2FsbGJhY2spIHtcbiAgICAgIGlmICghXy5pc1JlZ0V4cChyb3V0ZSkpIHJvdXRlID0gdGhpcy5fcm91dGVUb1JlZ0V4cChyb3V0ZSk7XG4gICAgICBpZiAoXy5pc0Z1bmN0aW9uKG5hbWUpKSB7XG4gICAgICAgIGNhbGxiYWNrID0gbmFtZTtcbiAgICAgICAgbmFtZSA9ICcnO1xuICAgICAgfVxuICAgICAgaWYgKCFjYWxsYmFjaykgY2FsbGJhY2sgPSB0aGlzW25hbWVdO1xuICAgICAgdmFyIHJvdXRlciA9IHRoaXM7XG4gICAgICBCYWNrYm9uZS5oaXN0b3J5LnJvdXRlKHJvdXRlLCBmdW5jdGlvbihmcmFnbWVudCkge1xuICAgICAgICB2YXIgYXJncyA9IHJvdXRlci5fZXh0cmFjdFBhcmFtZXRlcnMocm91dGUsIGZyYWdtZW50KTtcbiAgICAgICAgaWYgKHJvdXRlci5leGVjdXRlKGNhbGxiYWNrLCBhcmdzLCBuYW1lKSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICByb3V0ZXIudHJpZ2dlci5hcHBseShyb3V0ZXIsIFsncm91dGU6JyArIG5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgICAgcm91dGVyLnRyaWdnZXIoJ3JvdXRlJywgbmFtZSwgYXJncyk7XG4gICAgICAgICAgQmFja2JvbmUuaGlzdG9yeS50cmlnZ2VyKCdyb3V0ZScsIHJvdXRlciwgbmFtZSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8vIEV4ZWN1dGUgYSByb3V0ZSBoYW5kbGVyIHdpdGggdGhlIHByb3ZpZGVkIHBhcmFtZXRlcnMuICBUaGlzIGlzIGFuXG4gICAgLy8gZXhjZWxsZW50IHBsYWNlIHRvIGRvIHByZS1yb3V0ZSBzZXR1cCBvciBwb3N0LXJvdXRlIGNsZWFudXAuXG4gICAgZXhlY3V0ZTogZnVuY3Rpb24oY2FsbGJhY2ssIGFyZ3MsIG5hbWUpIHtcbiAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2suYXBwbHkodGhpcywgYXJncyk7XG4gICAgfSxcblxuICAgIC8vIFNpbXBsZSBwcm94eSB0byBgQmFja2JvbmUuaGlzdG9yeWAgdG8gc2F2ZSBhIGZyYWdtZW50IGludG8gdGhlIGhpc3RvcnkuXG4gICAgbmF2aWdhdGU6IGZ1bmN0aW9uKGZyYWdtZW50LCBvcHRpb25zKSB7XG4gICAgICBCYWNrYm9uZS5oaXN0b3J5Lm5hdmlnYXRlKGZyYWdtZW50LCBvcHRpb25zKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBCaW5kIGFsbCBkZWZpbmVkIHJvdXRlcyB0byBgQmFja2JvbmUuaGlzdG9yeWAuIFdlIGhhdmUgdG8gcmV2ZXJzZSB0aGVcbiAgICAvLyBvcmRlciBvZiB0aGUgcm91dGVzIGhlcmUgdG8gc3VwcG9ydCBiZWhhdmlvciB3aGVyZSB0aGUgbW9zdCBnZW5lcmFsXG4gICAgLy8gcm91dGVzIGNhbiBiZSBkZWZpbmVkIGF0IHRoZSBib3R0b20gb2YgdGhlIHJvdXRlIG1hcC5cbiAgICBfYmluZFJvdXRlczogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMucm91dGVzKSByZXR1cm47XG4gICAgICB0aGlzLnJvdXRlcyA9IF8ucmVzdWx0KHRoaXMsICdyb3V0ZXMnKTtcbiAgICAgIHZhciByb3V0ZSwgcm91dGVzID0gXy5rZXlzKHRoaXMucm91dGVzKTtcbiAgICAgIHdoaWxlICgocm91dGUgPSByb3V0ZXMucG9wKCkpICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5yb3V0ZShyb3V0ZSwgdGhpcy5yb3V0ZXNbcm91dGVdKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gQ29udmVydCBhIHJvdXRlIHN0cmluZyBpbnRvIGEgcmVndWxhciBleHByZXNzaW9uLCBzdWl0YWJsZSBmb3IgbWF0Y2hpbmdcbiAgICAvLyBhZ2FpbnN0IHRoZSBjdXJyZW50IGxvY2F0aW9uIGhhc2guXG4gICAgX3JvdXRlVG9SZWdFeHA6IGZ1bmN0aW9uKHJvdXRlKSB7XG4gICAgICByb3V0ZSA9IHJvdXRlLnJlcGxhY2UoZXNjYXBlUmVnRXhwLCAnXFxcXCQmJylcbiAgICAgICAgLnJlcGxhY2Uob3B0aW9uYWxQYXJhbSwgJyg/OiQxKT8nKVxuICAgICAgICAucmVwbGFjZShuYW1lZFBhcmFtLCBmdW5jdGlvbihtYXRjaCwgb3B0aW9uYWwpIHtcbiAgICAgICAgICByZXR1cm4gb3B0aW9uYWwgPyBtYXRjaCA6ICcoW14vP10rKSc7XG4gICAgICAgIH0pXG4gICAgICAgIC5yZXBsYWNlKHNwbGF0UGFyYW0sICcoW14/XSo/KScpO1xuICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJ14nICsgcm91dGUgKyAnKD86XFxcXD8oW1xcXFxzXFxcXFNdKikpPyQnKTtcbiAgICB9LFxuXG4gICAgLy8gR2l2ZW4gYSByb3V0ZSwgYW5kIGEgVVJMIGZyYWdtZW50IHRoYXQgaXQgbWF0Y2hlcywgcmV0dXJuIHRoZSBhcnJheSBvZlxuICAgIC8vIGV4dHJhY3RlZCBkZWNvZGVkIHBhcmFtZXRlcnMuIEVtcHR5IG9yIHVubWF0Y2hlZCBwYXJhbWV0ZXJzIHdpbGwgYmVcbiAgICAvLyB0cmVhdGVkIGFzIGBudWxsYCB0byBub3JtYWxpemUgY3Jvc3MtYnJvd3NlciBiZWhhdmlvci5cbiAgICBfZXh0cmFjdFBhcmFtZXRlcnM6IGZ1bmN0aW9uKHJvdXRlLCBmcmFnbWVudCkge1xuICAgICAgdmFyIHBhcmFtcyA9IHJvdXRlLmV4ZWMoZnJhZ21lbnQpLnNsaWNlKDEpO1xuICAgICAgcmV0dXJuIF8ubWFwKHBhcmFtcywgZnVuY3Rpb24ocGFyYW0sIGkpIHtcbiAgICAgICAgLy8gRG9uJ3QgZGVjb2RlIHRoZSBzZWFyY2ggcGFyYW1zLlxuICAgICAgICBpZiAoaSA9PT0gcGFyYW1zLmxlbmd0aCAtIDEpIHJldHVybiBwYXJhbSB8fCBudWxsO1xuICAgICAgICByZXR1cm4gcGFyYW0gPyBkZWNvZGVVUklDb21wb25lbnQocGFyYW0pIDogbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICB9KTtcblxuICAvLyBCYWNrYm9uZS5IaXN0b3J5XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBIYW5kbGVzIGNyb3NzLWJyb3dzZXIgaGlzdG9yeSBtYW5hZ2VtZW50LCBiYXNlZCBvbiBlaXRoZXJcbiAgLy8gW3B1c2hTdGF0ZV0oaHR0cDovL2RpdmVpbnRvaHRtbDUuaW5mby9oaXN0b3J5Lmh0bWwpIGFuZCByZWFsIFVSTHMsIG9yXG4gIC8vIFtvbmhhc2hjaGFuZ2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvRE9NL3dpbmRvdy5vbmhhc2hjaGFuZ2UpXG4gIC8vIGFuZCBVUkwgZnJhZ21lbnRzLiBJZiB0aGUgYnJvd3NlciBzdXBwb3J0cyBuZWl0aGVyIChvbGQgSUUsIG5hdGNoKSxcbiAgLy8gZmFsbHMgYmFjayB0byBwb2xsaW5nLlxuICB2YXIgSGlzdG9yeSA9IEJhY2tib25lLkhpc3RvcnkgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmhhbmRsZXJzID0gW107XG4gICAgdGhpcy5jaGVja1VybCA9IHRoaXMuY2hlY2tVcmwuYmluZCh0aGlzKTtcblxuICAgIC8vIEVuc3VyZSB0aGF0IGBIaXN0b3J5YCBjYW4gYmUgdXNlZCBvdXRzaWRlIG9mIHRoZSBicm93c2VyLlxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5sb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbjtcbiAgICAgIHRoaXMuaGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5O1xuICAgIH1cbiAgfTtcblxuICAvLyBDYWNoZWQgcmVnZXggZm9yIHN0cmlwcGluZyBhIGxlYWRpbmcgaGFzaC9zbGFzaCBhbmQgdHJhaWxpbmcgc3BhY2UuXG4gIHZhciByb3V0ZVN0cmlwcGVyID0gL15bI1xcL118XFxzKyQvZztcblxuICAvLyBDYWNoZWQgcmVnZXggZm9yIHN0cmlwcGluZyBsZWFkaW5nIGFuZCB0cmFpbGluZyBzbGFzaGVzLlxuICB2YXIgcm9vdFN0cmlwcGVyID0gL15cXC8rfFxcLyskL2c7XG5cbiAgLy8gQ2FjaGVkIHJlZ2V4IGZvciBzdHJpcHBpbmcgdXJscyBvZiBoYXNoLlxuICB2YXIgcGF0aFN0cmlwcGVyID0gLyMuKiQvO1xuXG4gIC8vIEhhcyB0aGUgaGlzdG9yeSBoYW5kbGluZyBhbHJlYWR5IGJlZW4gc3RhcnRlZD9cbiAgSGlzdG9yeS5zdGFydGVkID0gZmFsc2U7XG5cbiAgLy8gU2V0IHVwIGFsbCBpbmhlcml0YWJsZSAqKkJhY2tib25lLkhpc3RvcnkqKiBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzLlxuICBfLmV4dGVuZChIaXN0b3J5LnByb3RvdHlwZSwgRXZlbnRzLCB7XG5cbiAgICAvLyBUaGUgZGVmYXVsdCBpbnRlcnZhbCB0byBwb2xsIGZvciBoYXNoIGNoYW5nZXMsIGlmIG5lY2Vzc2FyeSwgaXNcbiAgICAvLyB0d2VudHkgdGltZXMgYSBzZWNvbmQuXG4gICAgaW50ZXJ2YWw6IDUwLFxuXG4gICAgLy8gQXJlIHdlIGF0IHRoZSBhcHAgcm9vdD9cbiAgICBhdFJvb3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhdGggPSB0aGlzLmxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1teXFwvXSQvLCAnJCYvJyk7XG4gICAgICByZXR1cm4gcGF0aCA9PT0gdGhpcy5yb290ICYmICF0aGlzLmdldFNlYXJjaCgpO1xuICAgIH0sXG5cbiAgICAvLyBEb2VzIHRoZSBwYXRobmFtZSBtYXRjaCB0aGUgcm9vdD9cbiAgICBtYXRjaFJvb3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhdGggPSB0aGlzLmRlY29kZUZyYWdtZW50KHRoaXMubG9jYXRpb24ucGF0aG5hbWUpO1xuICAgICAgdmFyIHJvb3RQYXRoID0gcGF0aC5zbGljZSgwLCB0aGlzLnJvb3QubGVuZ3RoIC0gMSkgKyAnLyc7XG4gICAgICByZXR1cm4gcm9vdFBhdGggPT09IHRoaXMucm9vdDtcbiAgICB9LFxuXG4gICAgLy8gVW5pY29kZSBjaGFyYWN0ZXJzIGluIGBsb2NhdGlvbi5wYXRobmFtZWAgYXJlIHBlcmNlbnQgZW5jb2RlZCBzbyB0aGV5J3JlXG4gICAgLy8gZGVjb2RlZCBmb3IgY29tcGFyaXNvbi4gYCUyNWAgc2hvdWxkIG5vdCBiZSBkZWNvZGVkIHNpbmNlIGl0IG1heSBiZSBwYXJ0XG4gICAgLy8gb2YgYW4gZW5jb2RlZCBwYXJhbWV0ZXIuXG4gICAgZGVjb2RlRnJhZ21lbnQ6IGZ1bmN0aW9uKGZyYWdtZW50KSB7XG4gICAgICByZXR1cm4gZGVjb2RlVVJJKGZyYWdtZW50LnJlcGxhY2UoLyUyNS9nLCAnJTI1MjUnKSk7XG4gICAgfSxcblxuICAgIC8vIEluIElFNiwgdGhlIGhhc2ggZnJhZ21lbnQgYW5kIHNlYXJjaCBwYXJhbXMgYXJlIGluY29ycmVjdCBpZiB0aGVcbiAgICAvLyBmcmFnbWVudCBjb250YWlucyBgP2AuXG4gICAgZ2V0U2VhcmNoOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBtYXRjaCA9IHRoaXMubG9jYXRpb24uaHJlZi5yZXBsYWNlKC8jLiovLCAnJykubWF0Y2goL1xcPy4rLyk7XG4gICAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFswXSA6ICcnO1xuICAgIH0sXG5cbiAgICAvLyBHZXRzIHRoZSB0cnVlIGhhc2ggdmFsdWUuIENhbm5vdCB1c2UgbG9jYXRpb24uaGFzaCBkaXJlY3RseSBkdWUgdG8gYnVnXG4gICAgLy8gaW4gRmlyZWZveCB3aGVyZSBsb2NhdGlvbi5oYXNoIHdpbGwgYWx3YXlzIGJlIGRlY29kZWQuXG4gICAgZ2V0SGFzaDogZnVuY3Rpb24od2luZG93KSB7XG4gICAgICB2YXIgbWF0Y2ggPSAod2luZG93IHx8IHRoaXMpLmxvY2F0aW9uLmhyZWYubWF0Y2goLyMoLiopJC8pO1xuICAgICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0gOiAnJztcbiAgICB9LFxuXG4gICAgLy8gR2V0IHRoZSBwYXRobmFtZSBhbmQgc2VhcmNoIHBhcmFtcywgd2l0aG91dCB0aGUgcm9vdC5cbiAgICBnZXRQYXRoOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwYXRoID0gdGhpcy5kZWNvZGVGcmFnbWVudChcbiAgICAgICAgdGhpcy5sb2NhdGlvbi5wYXRobmFtZSArIHRoaXMuZ2V0U2VhcmNoKClcbiAgICAgICkuc2xpY2UodGhpcy5yb290Lmxlbmd0aCAtIDEpO1xuICAgICAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLycgPyBwYXRoLnNsaWNlKDEpIDogcGF0aDtcbiAgICB9LFxuXG4gICAgLy8gR2V0IHRoZSBjcm9zcy1icm93c2VyIG5vcm1hbGl6ZWQgVVJMIGZyYWdtZW50IGZyb20gdGhlIHBhdGggb3IgaGFzaC5cbiAgICBnZXRGcmFnbWVudDogZnVuY3Rpb24oZnJhZ21lbnQpIHtcbiAgICAgIGlmIChmcmFnbWVudCA9PSBudWxsKSB7XG4gICAgICAgIGlmICh0aGlzLl91c2VQdXNoU3RhdGUgfHwgIXRoaXMuX3dhbnRzSGFzaENoYW5nZSkge1xuICAgICAgICAgIGZyYWdtZW50ID0gdGhpcy5nZXRQYXRoKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZnJhZ21lbnQgPSB0aGlzLmdldEhhc2goKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZyYWdtZW50LnJlcGxhY2Uocm91dGVTdHJpcHBlciwgJycpO1xuICAgIH0sXG5cbiAgICAvLyBTdGFydCB0aGUgaGFzaCBjaGFuZ2UgaGFuZGxpbmcsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlIGN1cnJlbnQgVVJMIG1hdGNoZXNcbiAgICAvLyBhbiBleGlzdGluZyByb3V0ZSwgYW5kIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICAgIHN0YXJ0OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBpZiAoSGlzdG9yeS5zdGFydGVkKSB0aHJvdyBuZXcgRXJyb3IoJ0JhY2tib25lLmhpc3RvcnkgaGFzIGFscmVhZHkgYmVlbiBzdGFydGVkJyk7XG4gICAgICBIaXN0b3J5LnN0YXJ0ZWQgPSB0cnVlO1xuXG4gICAgICAvLyBGaWd1cmUgb3V0IHRoZSBpbml0aWFsIGNvbmZpZ3VyYXRpb24uIERvIHdlIG5lZWQgYW4gaWZyYW1lP1xuICAgICAgLy8gSXMgcHVzaFN0YXRlIGRlc2lyZWQgLi4uIGlzIGl0IGF2YWlsYWJsZT9cbiAgICAgIHRoaXMub3B0aW9ucyAgICAgICAgICA9IF8uZXh0ZW5kKHtyb290OiAnLyd9LCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgdGhpcy5yb290ICAgICAgICAgICAgID0gdGhpcy5vcHRpb25zLnJvb3Q7XG4gICAgICB0aGlzLl93YW50c0hhc2hDaGFuZ2UgPSB0aGlzLm9wdGlvbnMuaGFzaENoYW5nZSAhPT0gZmFsc2U7XG4gICAgICB0aGlzLl9oYXNIYXNoQ2hhbmdlICAgPSAnb25oYXNoY2hhbmdlJyBpbiB3aW5kb3cgJiYgKGRvY3VtZW50LmRvY3VtZW50TW9kZSA9PT0gdm9pZCAwIHx8IGRvY3VtZW50LmRvY3VtZW50TW9kZSA+IDcpO1xuICAgICAgdGhpcy5fdXNlSGFzaENoYW5nZSAgID0gdGhpcy5fd2FudHNIYXNoQ2hhbmdlICYmIHRoaXMuX2hhc0hhc2hDaGFuZ2U7XG4gICAgICB0aGlzLl93YW50c1B1c2hTdGF0ZSAgPSAhIXRoaXMub3B0aW9ucy5wdXNoU3RhdGU7XG4gICAgICB0aGlzLl9oYXNQdXNoU3RhdGUgICAgPSAhISh0aGlzLmhpc3RvcnkgJiYgdGhpcy5oaXN0b3J5LnB1c2hTdGF0ZSk7XG4gICAgICB0aGlzLl91c2VQdXNoU3RhdGUgICAgPSB0aGlzLl93YW50c1B1c2hTdGF0ZSAmJiB0aGlzLl9oYXNQdXNoU3RhdGU7XG4gICAgICB0aGlzLmZyYWdtZW50ICAgICAgICAgPSB0aGlzLmdldEZyYWdtZW50KCk7XG5cbiAgICAgIC8vIE5vcm1hbGl6ZSByb290IHRvIGFsd2F5cyBpbmNsdWRlIGEgbGVhZGluZyBhbmQgdHJhaWxpbmcgc2xhc2guXG4gICAgICB0aGlzLnJvb3QgPSAoJy8nICsgdGhpcy5yb290ICsgJy8nKS5yZXBsYWNlKHJvb3RTdHJpcHBlciwgJy8nKTtcblxuICAgICAgLy8gVHJhbnNpdGlvbiBmcm9tIGhhc2hDaGFuZ2UgdG8gcHVzaFN0YXRlIG9yIHZpY2UgdmVyc2EgaWYgYm90aCBhcmVcbiAgICAgIC8vIHJlcXVlc3RlZC5cbiAgICAgIGlmICh0aGlzLl93YW50c0hhc2hDaGFuZ2UgJiYgdGhpcy5fd2FudHNQdXNoU3RhdGUpIHtcblxuICAgICAgICAvLyBJZiB3ZSd2ZSBzdGFydGVkIG9mZiB3aXRoIGEgcm91dGUgZnJvbSBhIGBwdXNoU3RhdGVgLWVuYWJsZWRcbiAgICAgICAgLy8gYnJvd3NlciwgYnV0IHdlJ3JlIGN1cnJlbnRseSBpbiBhIGJyb3dzZXIgdGhhdCBkb2Vzbid0IHN1cHBvcnQgaXQuLi5cbiAgICAgICAgaWYgKCF0aGlzLl9oYXNQdXNoU3RhdGUgJiYgIXRoaXMuYXRSb290KCkpIHtcbiAgICAgICAgICB2YXIgcm9vdFBhdGggPSB0aGlzLnJvb3Quc2xpY2UoMCwgLTEpIHx8ICcvJztcbiAgICAgICAgICB0aGlzLmxvY2F0aW9uLnJlcGxhY2Uocm9vdFBhdGggKyAnIycgKyB0aGlzLmdldFBhdGgoKSk7XG4gICAgICAgICAgLy8gUmV0dXJuIGltbWVkaWF0ZWx5IGFzIGJyb3dzZXIgd2lsbCBkbyByZWRpcmVjdCB0byBuZXcgdXJsXG4gICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgLy8gT3IgaWYgd2UndmUgc3RhcnRlZCBvdXQgd2l0aCBhIGhhc2gtYmFzZWQgcm91dGUsIGJ1dCB3ZSdyZSBjdXJyZW50bHlcbiAgICAgICAgLy8gaW4gYSBicm93c2VyIHdoZXJlIGl0IGNvdWxkIGJlIGBwdXNoU3RhdGVgLWJhc2VkIGluc3RlYWQuLi5cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9oYXNQdXNoU3RhdGUgJiYgdGhpcy5hdFJvb3QoKSkge1xuICAgICAgICAgIHRoaXMubmF2aWdhdGUodGhpcy5nZXRIYXNoKCksIHtyZXBsYWNlOiB0cnVlfSk7XG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgICAvLyBQcm94eSBhbiBpZnJhbWUgdG8gaGFuZGxlIGxvY2F0aW9uIGV2ZW50cyBpZiB0aGUgYnJvd3NlciBkb2Vzbid0XG4gICAgICAvLyBzdXBwb3J0IHRoZSBgaGFzaGNoYW5nZWAgZXZlbnQsIEhUTUw1IGhpc3RvcnksIG9yIHRoZSB1c2VyIHdhbnRzXG4gICAgICAvLyBgaGFzaENoYW5nZWAgYnV0IG5vdCBgcHVzaFN0YXRlYC5cbiAgICAgIGlmICghdGhpcy5faGFzSGFzaENoYW5nZSAmJiB0aGlzLl93YW50c0hhc2hDaGFuZ2UgJiYgIXRoaXMuX3VzZVB1c2hTdGF0ZSkge1xuICAgICAgICB0aGlzLmlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgICAgICB0aGlzLmlmcmFtZS5zcmMgPSAnamF2YXNjcmlwdDowJztcbiAgICAgICAgdGhpcy5pZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgdGhpcy5pZnJhbWUudGFiSW5kZXggPSAtMTtcbiAgICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgICAvLyBVc2luZyBgYXBwZW5kQ2hpbGRgIHdpbGwgdGhyb3cgb24gSUUgPCA5IGlmIHRoZSBkb2N1bWVudCBpcyBub3QgcmVhZHkuXG4gICAgICAgIHZhciBpV2luZG93ID0gYm9keS5pbnNlcnRCZWZvcmUodGhpcy5pZnJhbWUsIGJvZHkuZmlyc3RDaGlsZCkuY29udGVudFdpbmRvdztcbiAgICAgICAgaVdpbmRvdy5kb2N1bWVudC5vcGVuKCk7XG4gICAgICAgIGlXaW5kb3cuZG9jdW1lbnQuY2xvc2UoKTtcbiAgICAgICAgaVdpbmRvdy5sb2NhdGlvbi5oYXNoID0gJyMnICsgdGhpcy5mcmFnbWVudDtcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIGEgY3Jvc3MtcGxhdGZvcm0gYGFkZEV2ZW50TGlzdGVuZXJgIHNoaW0gZm9yIG9sZGVyIGJyb3dzZXJzLlxuICAgICAgdmFyIGFkZEV2ZW50TGlzdGVuZXIgPSB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciB8fCBmdW5jdGlvbihldmVudE5hbWUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybiBhdHRhY2hFdmVudCgnb24nICsgZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gICAgICB9O1xuXG4gICAgICAvLyBEZXBlbmRpbmcgb24gd2hldGhlciB3ZSdyZSB1c2luZyBwdXNoU3RhdGUgb3IgaGFzaGVzLCBhbmQgd2hldGhlclxuICAgICAgLy8gJ29uaGFzaGNoYW5nZScgaXMgc3VwcG9ydGVkLCBkZXRlcm1pbmUgaG93IHdlIGNoZWNrIHRoZSBVUkwgc3RhdGUuXG4gICAgICBpZiAodGhpcy5fdXNlUHVzaFN0YXRlKSB7XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgdGhpcy5jaGVja1VybCwgZmFsc2UpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl91c2VIYXNoQ2hhbmdlICYmICF0aGlzLmlmcmFtZSkge1xuICAgICAgICBhZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhpcy5jaGVja1VybCwgZmFsc2UpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl93YW50c0hhc2hDaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tVcmxJbnRlcnZhbCA9IHNldEludGVydmFsKHRoaXMuY2hlY2tVcmwsIHRoaXMuaW50ZXJ2YWwpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5zaWxlbnQpIHJldHVybiB0aGlzLmxvYWRVcmwoKTtcbiAgICB9LFxuXG4gICAgLy8gRGlzYWJsZSBCYWNrYm9uZS5oaXN0b3J5LCBwZXJoYXBzIHRlbXBvcmFyaWx5LiBOb3QgdXNlZnVsIGluIGEgcmVhbCBhcHAsXG4gICAgLy8gYnV0IHBvc3NpYmx5IHVzZWZ1bCBmb3IgdW5pdCB0ZXN0aW5nIFJvdXRlcnMuXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBBZGQgYSBjcm9zcy1wbGF0Zm9ybSBgcmVtb3ZlRXZlbnRMaXN0ZW5lcmAgc2hpbSBmb3Igb2xkZXIgYnJvd3NlcnMuXG4gICAgICB2YXIgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyIHx8IGZ1bmN0aW9uKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuIGRldGFjaEV2ZW50KCdvbicgKyBldmVudE5hbWUsIGxpc3RlbmVyKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIFJlbW92ZSB3aW5kb3cgbGlzdGVuZXJzLlxuICAgICAgaWYgKHRoaXMuX3VzZVB1c2hTdGF0ZSkge1xuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIHRoaXMuY2hlY2tVcmwsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fdXNlSGFzaENoYW5nZSAmJiAhdGhpcy5pZnJhbWUpIHtcbiAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHRoaXMuY2hlY2tVcmwsIGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xlYW4gdXAgdGhlIGlmcmFtZSBpZiBuZWNlc3NhcnkuXG4gICAgICBpZiAodGhpcy5pZnJhbWUpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLmlmcmFtZSk7XG4gICAgICAgIHRoaXMuaWZyYW1lID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gU29tZSBlbnZpcm9ubWVudHMgd2lsbCB0aHJvdyB3aGVuIGNsZWFyaW5nIGFuIHVuZGVmaW5lZCBpbnRlcnZhbC5cbiAgICAgIGlmICh0aGlzLl9jaGVja1VybEludGVydmFsKSBjbGVhckludGVydmFsKHRoaXMuX2NoZWNrVXJsSW50ZXJ2YWwpO1xuICAgICAgSGlzdG9yeS5zdGFydGVkID0gZmFsc2U7XG4gICAgfSxcblxuICAgIC8vIEFkZCBhIHJvdXRlIHRvIGJlIHRlc3RlZCB3aGVuIHRoZSBmcmFnbWVudCBjaGFuZ2VzLiBSb3V0ZXMgYWRkZWQgbGF0ZXJcbiAgICAvLyBtYXkgb3ZlcnJpZGUgcHJldmlvdXMgcm91dGVzLlxuICAgIHJvdXRlOiBmdW5jdGlvbihyb3V0ZSwgY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuaGFuZGxlcnMudW5zaGlmdCh7cm91dGU6IHJvdXRlLCBjYWxsYmFjazogY2FsbGJhY2t9KTtcbiAgICB9LFxuXG4gICAgLy8gQ2hlY2tzIHRoZSBjdXJyZW50IFVSTCB0byBzZWUgaWYgaXQgaGFzIGNoYW5nZWQsIGFuZCBpZiBpdCBoYXMsXG4gICAgLy8gY2FsbHMgYGxvYWRVcmxgLCBub3JtYWxpemluZyBhY3Jvc3MgdGhlIGhpZGRlbiBpZnJhbWUuXG4gICAgY2hlY2tVcmw6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5nZXRGcmFnbWVudCgpO1xuXG4gICAgICAvLyBJZiB0aGUgdXNlciBwcmVzc2VkIHRoZSBiYWNrIGJ1dHRvbiwgdGhlIGlmcmFtZSdzIGhhc2ggd2lsbCBoYXZlXG4gICAgICAvLyBjaGFuZ2VkIGFuZCB3ZSBzaG91bGQgdXNlIHRoYXQgZm9yIGNvbXBhcmlzb24uXG4gICAgICBpZiAoY3VycmVudCA9PT0gdGhpcy5mcmFnbWVudCAmJiB0aGlzLmlmcmFtZSkge1xuICAgICAgICBjdXJyZW50ID0gdGhpcy5nZXRIYXNoKHRoaXMuaWZyYW1lLmNvbnRlbnRXaW5kb3cpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY3VycmVudCA9PT0gdGhpcy5mcmFnbWVudCkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKHRoaXMuaWZyYW1lKSB0aGlzLm5hdmlnYXRlKGN1cnJlbnQpO1xuICAgICAgdGhpcy5sb2FkVXJsKCk7XG4gICAgfSxcblxuICAgIC8vIEF0dGVtcHQgdG8gbG9hZCB0aGUgY3VycmVudCBVUkwgZnJhZ21lbnQuIElmIGEgcm91dGUgc3VjY2VlZHMgd2l0aCBhXG4gICAgLy8gbWF0Y2gsIHJldHVybnMgYHRydWVgLiBJZiBubyBkZWZpbmVkIHJvdXRlcyBtYXRjaGVzIHRoZSBmcmFnbWVudCxcbiAgICAvLyByZXR1cm5zIGBmYWxzZWAuXG4gICAgbG9hZFVybDogZnVuY3Rpb24oZnJhZ21lbnQpIHtcbiAgICAgIC8vIElmIHRoZSByb290IGRvZXNuJ3QgbWF0Y2gsIG5vIHJvdXRlcyBjYW4gbWF0Y2ggZWl0aGVyLlxuICAgICAgaWYgKCF0aGlzLm1hdGNoUm9vdCgpKSByZXR1cm4gZmFsc2U7XG4gICAgICBmcmFnbWVudCA9IHRoaXMuZnJhZ21lbnQgPSB0aGlzLmdldEZyYWdtZW50KGZyYWdtZW50KTtcbiAgICAgIHJldHVybiBfLnNvbWUodGhpcy5oYW5kbGVycywgZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgICBpZiAoaGFuZGxlci5yb3V0ZS50ZXN0KGZyYWdtZW50KSkge1xuICAgICAgICAgIGhhbmRsZXIuY2FsbGJhY2soZnJhZ21lbnQpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gU2F2ZSBhIGZyYWdtZW50IGludG8gdGhlIGhhc2ggaGlzdG9yeSwgb3IgcmVwbGFjZSB0aGUgVVJMIHN0YXRlIGlmIHRoZVxuICAgIC8vICdyZXBsYWNlJyBvcHRpb24gaXMgcGFzc2VkLiBZb3UgYXJlIHJlc3BvbnNpYmxlIGZvciBwcm9wZXJseSBVUkwtZW5jb2RpbmdcbiAgICAvLyB0aGUgZnJhZ21lbnQgaW4gYWR2YW5jZS5cbiAgICAvL1xuICAgIC8vIFRoZSBvcHRpb25zIG9iamVjdCBjYW4gY29udGFpbiBgdHJpZ2dlcjogdHJ1ZWAgaWYgeW91IHdpc2ggdG8gaGF2ZSB0aGVcbiAgICAvLyByb3V0ZSBjYWxsYmFjayBiZSBmaXJlZCAobm90IHVzdWFsbHkgZGVzaXJhYmxlKSwgb3IgYHJlcGxhY2U6IHRydWVgLCBpZlxuICAgIC8vIHlvdSB3aXNoIHRvIG1vZGlmeSB0aGUgY3VycmVudCBVUkwgd2l0aG91dCBhZGRpbmcgYW4gZW50cnkgdG8gdGhlIGhpc3RvcnkuXG4gICAgbmF2aWdhdGU6IGZ1bmN0aW9uKGZyYWdtZW50LCBvcHRpb25zKSB7XG4gICAgICBpZiAoIUhpc3Rvcnkuc3RhcnRlZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKCFvcHRpb25zIHx8IG9wdGlvbnMgPT09IHRydWUpIG9wdGlvbnMgPSB7dHJpZ2dlcjogISFvcHRpb25zfTtcblxuICAgICAgLy8gTm9ybWFsaXplIHRoZSBmcmFnbWVudC5cbiAgICAgIGZyYWdtZW50ID0gdGhpcy5nZXRGcmFnbWVudChmcmFnbWVudCB8fCAnJyk7XG5cbiAgICAgIC8vIERvbid0IGluY2x1ZGUgYSB0cmFpbGluZyBzbGFzaCBvbiB0aGUgcm9vdC5cbiAgICAgIHZhciByb290UGF0aCA9IHRoaXMucm9vdDtcbiAgICAgIGlmIChmcmFnbWVudCA9PT0gJycgfHwgZnJhZ21lbnQuY2hhckF0KDApID09PSAnPycpIHtcbiAgICAgICAgcm9vdFBhdGggPSByb290UGF0aC5zbGljZSgwLCAtMSkgfHwgJy8nO1xuICAgICAgfVxuICAgICAgdmFyIHVybCA9IHJvb3RQYXRoICsgZnJhZ21lbnQ7XG5cbiAgICAgIC8vIFN0cmlwIHRoZSBmcmFnbWVudCBvZiB0aGUgcXVlcnkgYW5kIGhhc2ggZm9yIG1hdGNoaW5nLlxuICAgICAgZnJhZ21lbnQgPSBmcmFnbWVudC5yZXBsYWNlKHBhdGhTdHJpcHBlciwgJycpO1xuXG4gICAgICAvLyBEZWNvZGUgZm9yIG1hdGNoaW5nLlxuICAgICAgdmFyIGRlY29kZWRGcmFnbWVudCA9IHRoaXMuZGVjb2RlRnJhZ21lbnQoZnJhZ21lbnQpO1xuXG4gICAgICBpZiAodGhpcy5mcmFnbWVudCA9PT0gZGVjb2RlZEZyYWdtZW50KSByZXR1cm47XG4gICAgICB0aGlzLmZyYWdtZW50ID0gZGVjb2RlZEZyYWdtZW50O1xuXG4gICAgICAvLyBJZiBwdXNoU3RhdGUgaXMgYXZhaWxhYmxlLCB3ZSB1c2UgaXQgdG8gc2V0IHRoZSBmcmFnbWVudCBhcyBhIHJlYWwgVVJMLlxuICAgICAgaWYgKHRoaXMuX3VzZVB1c2hTdGF0ZSkge1xuICAgICAgICB0aGlzLmhpc3Rvcnlbb3B0aW9ucy5yZXBsYWNlID8gJ3JlcGxhY2VTdGF0ZScgOiAncHVzaFN0YXRlJ10oe30sIGRvY3VtZW50LnRpdGxlLCB1cmwpO1xuXG4gICAgICAvLyBJZiBoYXNoIGNoYW5nZXMgaGF2ZW4ndCBiZWVuIGV4cGxpY2l0bHkgZGlzYWJsZWQsIHVwZGF0ZSB0aGUgaGFzaFxuICAgICAgLy8gZnJhZ21lbnQgdG8gc3RvcmUgaGlzdG9yeS5cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fd2FudHNIYXNoQ2hhbmdlKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUhhc2godGhpcy5sb2NhdGlvbiwgZnJhZ21lbnQsIG9wdGlvbnMucmVwbGFjZSk7XG4gICAgICAgIGlmICh0aGlzLmlmcmFtZSAmJiBmcmFnbWVudCAhPT0gdGhpcy5nZXRIYXNoKHRoaXMuaWZyYW1lLmNvbnRlbnRXaW5kb3cpKSB7XG4gICAgICAgICAgdmFyIGlXaW5kb3cgPSB0aGlzLmlmcmFtZS5jb250ZW50V2luZG93O1xuXG4gICAgICAgICAgLy8gT3BlbmluZyBhbmQgY2xvc2luZyB0aGUgaWZyYW1lIHRyaWNrcyBJRTcgYW5kIGVhcmxpZXIgdG8gcHVzaCBhXG4gICAgICAgICAgLy8gaGlzdG9yeSBlbnRyeSBvbiBoYXNoLXRhZyBjaGFuZ2UuICBXaGVuIHJlcGxhY2UgaXMgdHJ1ZSwgd2UgZG9uJ3RcbiAgICAgICAgICAvLyB3YW50IHRoaXMuXG4gICAgICAgICAgaWYgKCFvcHRpb25zLnJlcGxhY2UpIHtcbiAgICAgICAgICAgIGlXaW5kb3cuZG9jdW1lbnQub3BlbigpO1xuICAgICAgICAgICAgaVdpbmRvdy5kb2N1bWVudC5jbG9zZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuX3VwZGF0ZUhhc2goaVdpbmRvdy5sb2NhdGlvbiwgZnJhZ21lbnQsIG9wdGlvbnMucmVwbGFjZSk7XG4gICAgICAgIH1cblxuICAgICAgLy8gSWYgeW91J3ZlIHRvbGQgdXMgdGhhdCB5b3UgZXhwbGljaXRseSBkb24ndCB3YW50IGZhbGxiYWNrIGhhc2hjaGFuZ2UtXG4gICAgICAvLyBiYXNlZCBoaXN0b3J5LCB0aGVuIGBuYXZpZ2F0ZWAgYmVjb21lcyBhIHBhZ2UgcmVmcmVzaC5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2F0aW9uLmFzc2lnbih1cmwpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMudHJpZ2dlcikgcmV0dXJuIHRoaXMubG9hZFVybChmcmFnbWVudCk7XG4gICAgfSxcblxuICAgIC8vIFVwZGF0ZSB0aGUgaGFzaCBsb2NhdGlvbiwgZWl0aGVyIHJlcGxhY2luZyB0aGUgY3VycmVudCBlbnRyeSwgb3IgYWRkaW5nXG4gICAgLy8gYSBuZXcgb25lIHRvIHRoZSBicm93c2VyIGhpc3RvcnkuXG4gICAgX3VwZGF0ZUhhc2g6IGZ1bmN0aW9uKGxvY2F0aW9uLCBmcmFnbWVudCwgcmVwbGFjZSkge1xuICAgICAgaWYgKHJlcGxhY2UpIHtcbiAgICAgICAgdmFyIGhyZWYgPSBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyhqYXZhc2NyaXB0OnwjKS4qJC8sICcnKTtcbiAgICAgICAgbG9jYXRpb24ucmVwbGFjZShocmVmICsgJyMnICsgZnJhZ21lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU29tZSBicm93c2VycyByZXF1aXJlIHRoYXQgYGhhc2hgIGNvbnRhaW5zIGEgbGVhZGluZyAjLlxuICAgICAgICBsb2NhdGlvbi5oYXNoID0gJyMnICsgZnJhZ21lbnQ7XG4gICAgICB9XG4gICAgfVxuXG4gIH0pO1xuXG4gIC8vIENyZWF0ZSB0aGUgZGVmYXVsdCBCYWNrYm9uZS5oaXN0b3J5LlxuICBCYWNrYm9uZS5oaXN0b3J5ID0gbmV3IEhpc3Rvcnk7XG5cbiAgLy8gSGVscGVyc1xuICAvLyAtLS0tLS0tXG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNvcnJlY3RseSBzZXQgdXAgdGhlIHByb3RvdHlwZSBjaGFpbiBmb3Igc3ViY2xhc3Nlcy5cbiAgLy8gU2ltaWxhciB0byBgZ29vZy5pbmhlcml0c2AsIGJ1dCB1c2VzIGEgaGFzaCBvZiBwcm90b3R5cGUgcHJvcGVydGllcyBhbmRcbiAgLy8gY2xhc3MgcHJvcGVydGllcyB0byBiZSBleHRlbmRlZC5cbiAgdmFyIGV4dGVuZCA9IGZ1bmN0aW9uKHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgdmFyIHBhcmVudCA9IHRoaXM7XG4gICAgdmFyIGNoaWxkO1xuXG4gICAgLy8gVGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGZvciB0aGUgbmV3IHN1YmNsYXNzIGlzIGVpdGhlciBkZWZpbmVkIGJ5IHlvdVxuICAgIC8vICh0aGUgXCJjb25zdHJ1Y3RvclwiIHByb3BlcnR5IGluIHlvdXIgYGV4dGVuZGAgZGVmaW5pdGlvbiksIG9yIGRlZmF1bHRlZFxuICAgIC8vIGJ5IHVzIHRvIHNpbXBseSBjYWxsIHRoZSBwYXJlbnQgY29uc3RydWN0b3IuXG4gICAgaWYgKHByb3RvUHJvcHMgJiYgXy5oYXMocHJvdG9Qcm9wcywgJ2NvbnN0cnVjdG9yJykpIHtcbiAgICAgIGNoaWxkID0gcHJvdG9Qcm9wcy5jb25zdHJ1Y3RvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hpbGQgPSBmdW5jdGlvbigpeyByZXR1cm4gcGFyZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH07XG4gICAgfVxuXG4gICAgLy8gQWRkIHN0YXRpYyBwcm9wZXJ0aWVzIHRvIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiwgaWYgc3VwcGxpZWQuXG4gICAgXy5leHRlbmQoY2hpbGQsIHBhcmVudCwgc3RhdGljUHJvcHMpO1xuXG4gICAgLy8gU2V0IHRoZSBwcm90b3R5cGUgY2hhaW4gdG8gaW5oZXJpdCBmcm9tIGBwYXJlbnRgLCB3aXRob3V0IGNhbGxpbmdcbiAgICAvLyBgcGFyZW50YCdzIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGFuZCBhZGQgdGhlIHByb3RvdHlwZSBwcm9wZXJ0aWVzLlxuICAgIGNoaWxkLnByb3RvdHlwZSA9IF8uY3JlYXRlKHBhcmVudC5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGNoaWxkLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGNoaWxkO1xuXG4gICAgLy8gU2V0IGEgY29udmVuaWVuY2UgcHJvcGVydHkgaW4gY2FzZSB0aGUgcGFyZW50J3MgcHJvdG90eXBlIGlzIG5lZWRlZFxuICAgIC8vIGxhdGVyLlxuICAgIGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7XG5cbiAgICByZXR1cm4gY2hpbGQ7XG4gIH07XG5cbiAgLy8gU2V0IHVwIGluaGVyaXRhbmNlIGZvciB0aGUgbW9kZWwsIGNvbGxlY3Rpb24sIHJvdXRlciwgdmlldyBhbmQgaGlzdG9yeS5cbiAgTW9kZWwuZXh0ZW5kID0gQ29sbGVjdGlvbi5leHRlbmQgPSBSb3V0ZXIuZXh0ZW5kID0gVmlldy5leHRlbmQgPSBIaXN0b3J5LmV4dGVuZCA9IGV4dGVuZDtcblxuICAvLyBUaHJvdyBhbiBlcnJvciB3aGVuIGEgVVJMIGlzIG5lZWRlZCwgYW5kIG5vbmUgaXMgc3VwcGxpZWQuXG4gIHZhciB1cmxFcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQSBcInVybFwiIHByb3BlcnR5IG9yIGZ1bmN0aW9uIG11c3QgYmUgc3BlY2lmaWVkJyk7XG4gIH07XG5cbiAgLy8gV3JhcCBhbiBvcHRpb25hbCBlcnJvciBjYWxsYmFjayB3aXRoIGEgZmFsbGJhY2sgZXJyb3IgZXZlbnQuXG4gIHZhciB3cmFwRXJyb3IgPSBmdW5jdGlvbihtb2RlbCwgb3B0aW9ucykge1xuICAgIHZhciBlcnJvciA9IG9wdGlvbnMuZXJyb3I7XG4gICAgb3B0aW9ucy5lcnJvciA9IGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgIGlmIChlcnJvcikgZXJyb3IuY2FsbChvcHRpb25zLmNvbnRleHQsIG1vZGVsLCByZXNwLCBvcHRpb25zKTtcbiAgICAgIG1vZGVsLnRyaWdnZXIoJ2Vycm9yJywgbW9kZWwsIHJlc3AsIG9wdGlvbnMpO1xuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIEJhY2tib25lO1xufSk7XG4iLCIvKipcclxuICogQG1vZHVsZSBAbmFodWVsaW8vYmFja2JvbmUtbGV2aWF0aGFuL2NvcmVcclxuICogQGRlc2MgQmFja2JvbmUgTGV2aWF0aGFuIENvcmUgVE9ET1xyXG4gKiBAYXV0aG9yIFBhdHJpY2lvIEZlcnJlaXJhIDwzZGltZW50aW9uYXJAZ21haWwuY29tPlxyXG4gKi9cclxuaW1wb3J0IF8gZnJvbSAndW5kZXJzY29yZSc7XHJcblxyXG4vKipcclxuICogQGNsYXNzIHtiYWNrYm9uZS1sZXZpYXRoYW4uQ29yZX1cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb3JlIHtcclxuXHQvKipcclxuXHQgKiBAdHlwZSB7TGV2aWF0aGFuLkxldmlhdGhhbkZhY3RvcnlFbGVtZW50W119XHJcblx0ICovXHJcblx0c3RhdGljIF9mYWN0b3J5ID0gW107XHJcblxyXG5cdC8qKlxyXG5cdCAqIERlY29yYXRvciB1c2VkIHRvIHJlZ2lzdGVyIGFydGlmYWN0IHdpdGggaW5zdGFuY2UgbmFtZS5cclxuXHQgKiBUaGlzIGRlY29yYXRvciB3aWxsIG1ha2UgYW4gYXJ0aWZhY3QgdG8gcmVnaXN0ZXIgaXRzZWxmIGZvciBsYXRlciByZXRyaWV2YWwuXHJcblx0ICpcclxuXHQgKiBAZXhhbXBsZVxyXG5cdCAqICA8Y2FwdGlvbj5FeGFtcGxlIFJlZ2lzdGVyaW5nIGEgTGV2aWF0aGFuIFZpZXc8L2NhcHRpb24+XHJcblx0ICogXHQ8cHJlPlxyXG5cdCAqIFx0ICAgIEBMZXZpYXRoYW4ucmVnaXN0ZXIoeyBzdG9yZTogU29tZVN0b3JlIH0pXHJcblx0ICogXHQgICAgY2xhc3MgTXlWaWV3IGV4dGVuZHMgTGV2aWF0aGFuLlZpZXcgeyAuLi4gfVxyXG5cdCAqIFx0PC9wcmU+XHJcblx0ICogXHRvclxyXG5cdCAqIFx0PGNhcHRpb24+RXhhbXBsZSBSZWdpc3RlcmluZyBhIExldmlhdGhhbiBTdG9yZTwvY2FwdGlvbj5cclxuXHQgKiBcdDxwcmU+XHJcblx0ICogXHQgICAgQExldmlhdGhhbi5yZWdpc3RlcigpXHJcblx0ICogXHQgICAgY2xhc3MgTXlTdG9yZSBleHRlbmRzIExldmlhdGhhbi5TdG9yZSB7IC4uLiB9XHJcblx0ICogXHQ8L3ByZT5cclxuXHQgKiBAcGFyYW0ge0xldmlhdGhhbi5MZXZpYXRoYW5FbGVtZW50Q3Rvcn0gY3RvclxyXG5cdCAqIEByZXR1cm5zIHtMZXZpYXRoYW4uTGV2aWF0aGFuRWxlbWVudEN0b3J9XHJcblx0ICovXHJcblx0c3RhdGljIHJlZ2lzdGVyKGN0b3IpIHtcclxuXHRcdC8vIFRPRE9cclxuXHRcdHJldHVybiBjdG9yO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIFN1YnNjcmliZXMoY3Rvcikge1xyXG5cdFx0Ly8gVE9ET1xyXG5cdFx0cmV0dXJuIGN0b3I7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgT2JzZXJ2YWJsZShjdG9yKSB7XHJcblx0XHQvLyBUT0RPXHJcblx0XHRyZXR1cm4gY3RvcjtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHJpZXZlIHJlZ2lzdGVyZWQgYXJ0aWZhY3QgYnkgYSBnaXZlbiBuYW1lXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXVxyXG5cdCAqIEByZXR1cm5zIHtNYXliZTxMZXZpYXRoYW4uTGV2aWF0aGFuRWxlbWVudHM+fVxyXG5cdCAqL1xyXG5cdHN0YXRpYyBnZXQobmFtZSkge1xyXG5cdFx0Y29uc3QgZm91bmQgPSAhXy5pc051bGwobmFtZSkgPyBDb3JlLl9mYWN0b3J5LmZpbmQoXHJcblx0XHRcdChmYWN0b3J5RWxlbWVudCkgPT4ge1xyXG5cdFx0XHRyZXR1cm4gZmFjdG9yeUVsZW1lbnQubmFtZSA9PT0gbmFtZTtcclxuXHRcdH0pIDogbnVsbDtcclxuXHRcdHJldHVybiBmb3VuZCA/IGZvdW5kLmluc3RhbmNlIDogbnVsbDtcclxuXHR9XHJcbn07XHJcbiIsIi8qKlxuICogQG1vZHVsZSBAbmFodWVsaW8vYmFja2JvbmUtbGV2aWF0aGFuXG4gKiBAZGVzYyBCYWNrYm9uZSBMZXZpYXRoYW4gVE9ET1xuICogQGF1dGhvciBQYXRyaWNpbyBGZXJyZWlyYSA8M2RpbWVudGlvbmFyQGdtYWlsLmNvbT5cbiAqL1xuaW1wb3J0IEJhY2tib25lIGZyb20gJ2JhY2tib25lJztcbmltcG9ydCB7IENvcmUgfSBmcm9tICcuL2NvcmUvY29yZSc7XG5pbXBvcnQgeyBTdG9yZSB9IGZyb20gJy4vc3RvcmUvc3RvcmUnO1xuaW1wb3J0IHsgRE9NIH0gZnJvbSAnLi9kb20vZG9tJztcbmltcG9ydCB7IFZpZXcgfSBmcm9tICcuL2RvbS92aWV3JztcblxuZXhwb3J0IGRlZmF1bHQgT2JqZWN0LmFzc2lnbihCYWNrYm9uZSwge1xuXHRMZXZpYXRoYW46IHtcblx0XHROQU1FOiBwcm9jZXNzLmVudi5ucG1fcGFja2FnZV9uYW1lLFxuXHRcdFZFUlNJT046IHByb2Nlc3MuZW52Lm5wbV9wYWNrYWdlX3ZlcnNpb24sXG5cdFx0Li4uQ29yZSxcblx0XHRTdG9yZSxcblx0XHRWaWV3LFxuXHRcdERPTVxuXHR9XG59KTtcblxuZXhwb3J0IGNvbnN0IE5BTUUgPSBCYWNrYm9uZS5MZXZpYXRoYW4uTkFNRTtcbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gQmFja2JvbmUuTGV2aWF0aGFuLlZFUlNJT047XG5leHBvcnQgY29uc3QgU3Vic2NyaWJlcyA9IENvcmUuU3Vic2NyaWJlcztcbmV4cG9ydCBjb25zdCBPYnNlcnZhYmxlID0gQ29yZS5PYnNlcnZhYmxlO1xuZXhwb3J0IGNvbnN0IGdldCA9IENvcmUuZ2V0O1xuZXhwb3J0IHsgU3RvcmUsIFZpZXcsIERPTSB9O1xuIiwiLyoqXHJcbiAqIEBtb2R1bGUgQG5haHVlbGlvL2JhY2tib25lLWxldmlhdGhhbi9zdG9yZVxyXG4gKiBAZGVzYyBCYWNrYm9uZSBMZXZpYXRoYW4gU3RvcmUgVE9ET1xyXG4gKiBAYXV0aG9yIFBhdHJpY2lvIEZlcnJlaXJhIDwzZGltZW50aW9uYXJAZ21haWwuY29tPlxyXG4gKi9cclxuaW1wb3J0IF8gZnJvbSAndW5kZXJzY29yZSc7XHJcblxyXG4vKipcclxuICogQ2xhc3MgTGV2aWF0aGFuLlN0b3JlXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3RvcmUge1xyXG5cdC8qKlxyXG5cdCAqIEByZWFkb25seVxyXG5cdCAqIEB0eXBlIHtMZXZpYXRoYW4uTWF5YmU8TGV2aWF0aGFuLlByb3BzPHt9Pj59XHJcblx0ICovXHJcblx0c3RhdGUgPSBudWxsO1xyXG5cclxuXHQvKipcclxuXHQgKiBAY29uc3RydWN0b3JcclxuXHQgKiBAcGFyYW0ge0xldmlhdGhhbi5NYXliZTxMZXZpYXRoYW4uUHJvcHM8e30+Pn0gaW5pdGlhbFxyXG5cdCAqL1xyXG5cdGNvbnN0cnVjdG9yKGluaXRpYWwpIHtcclxuXHRcdE9iamVjdC5hc3NpZ24odGhpcywgeyBzdGF0ZTogaW5pdGlhbCB8fCBudWxsIH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRGlzcGF0Y2hlcyBhbiBhY3Rpb24gd2l0aCBhIGdpdmVuIG5hbWUgYW5kIG9wdGlvbmFsbHkgcGFzc2luZyBwYXJhbWV0ZXJzLlxyXG5cdCAqIEB0aGlzIHtTdG9yZX1cclxuXHQgKiBAcGFyYW0ge0xldmlhdGhhbi5TdG9yZUFjdGlvbn0gbmFtZVxyXG5cdCAqIEBwYXJhbSB7YW55W119IHBhcmFtc1xyXG5cdCAqIEByZXR1cm5zIHtTdG9yZX1cclxuXHQgKi9cclxuXHRkaXNwYXRjaChuYW1lLCAuLi5wYXJhbXMpIHtcclxuXHRcdGlmICh0aGlzW25hbWVdICYmIF8uaXNGdW5jdGlvbih0aGlzW25hbWVdKSkge1xyXG5cdFx0XHQvLyBAdHMtaWdub3JlXHJcblx0XHRcdHRoaXNbbmFtZV0oLi4ucGFyYW1zKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxufVxyXG4iLCIvKipcbiAqIEBtb2R1bGUgQG5haHVlbGlvL2JhY2tib25lLWxldmlhdGhhbi92aWV3XG4gKiBAZGVzYyBCYWNrYm9uZSBMZXZpYXRoYW4gVmlldyBUT0RPXG4gKiBAYXV0aG9yIFBhdHJpY2lvIEZlcnJlaXJhIDwzZGltZW50aW9uYXJAZ21haWwuY29tPlxuICovXG5cbi8qKlxuICogQGNsYXNzIHtMZXZpYXRoYW4uVmlldzxMZXZpYXRoYW4uUHJvcHMsIExldmlhdGhhbi5TdG9yZT59XG4gKi9cbmV4cG9ydCBjbGFzcyBWaWV3IHtcblx0X3Byb3BzID0ge307XG5cdF9zdG9yZSA9IG51bGw7XG5cdF9ldmVudHMgPSB7fTtcblxuXHQvKipcblx0ICogQHR5cGUge0xldmlhdGhhbi5Qcm9wc31cblx0ICovXG5cdGdldCBwcm9wcygpIHtcblx0XHRyZXR1cm4gdGhpcy5fcHJvcHM7XG5cdH1cblxuXHQvKipcblx0ICogQHR5cGUge0xldmlhdGhhbi5TdG9yZX1cblx0ICovXG5cdGdldCBzdG9yZSgpIHtcblx0XHRyZXR1cm4gdGhpcy5fc3RvcmU7XG5cdH1cblxuXHQvKipcblx0ICogQHR5cGUge0xldmlhdGhhbi5FdmVudEhhc2h9XG5cdCAqL1xuXHRnZXQgZXZlbnRzKCkge1xuXHRcdHJldHVybiB0aGlzLl9ldmVudHM7XG5cdH1cblxuXHQvKipcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7TGV2aWF0aGFuLk1heWJlPExldmlhdGhhbi5Qcm9wcz59IHByb3BzXG5cdCAqL1xuXHRjb25zdHJ1Y3Rvcihwcm9wcykge1xuXHRcdE9iamVjdC5hc3NpZ24odGhpcywgeyBwcm9wczogcHJvcHMgfHwge30gfSk7XG5cdH1cblxuXHQvKipcblx0ICogRGVmYXVsdCBzdHJhdGVneSB0byByZW5kZXIgYSB2aWV3XG5cdCAqIEByZXR1cm5zIHtNYXliZTxKU1guTGV2aWF0aGFuRWxlbWVudD59XG5cdCAqL1xuXHRyZW5kZXIoKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cbn1cbiIsIi8qKlxyXG4gKiBAbW9kdWxlIEBuYWh1ZWxpby9iYWNrYm9uZS1sZXZpYXRoYW4vZG9tXHJcbiAqIEBkZXNjIEJhY2tib25lIExldmlhdGhhbiBET00gVE9ET1xyXG4gKiBAYXV0aG9yIFBhdHJpY2lvIEZlcnJlaXJhIDwzZGltZW50aW9uYXJAZ21haWwuY29tPlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGN1cnJlbnQgcGxhdGZvcm0gaXMgYSBicm93c2VyLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqIEBwcml2YXRlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuY29uc3QgaXNCcm93c2VyID0gKCkgPT4ge1xyXG5cdHJldHVybiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGYWN0b3J5IGZvciBpbnN0YW50aWF0aW5nIEpTWC5MZXZpYXRoYW5FbGVtZW50XHJcbiAqIEBwYXJhbSB7SlNYLkxldmlhdGhhbkVsZW1lbnR9IG5hbWVcclxuICogQHBhcmFtIHtNYXliZTxhbnk+fSBwcm9wc1xyXG4gKiBAcGFyYW0ge01heWJlPFZpZXc+fSBjaGlsZHJlblxyXG4gKiBAcmV0dXJucyB7TWF5YmU8Vmlldz59XHJcbiAqL1xyXG5jb25zdCBjcmVhdGUgPSAobmFtZSwgcHJvcHMsIGNoaWxkcmVuKSA9PiB7XHJcblx0Ly8gVE9ET1xyXG5cdHJldHVybiBudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogQ2xhc3MgRE9NXHJcbiAqIEBjbGFzcyB7TGV2aWF0aGFuLkRPTX1cclxuICovXHJcbmV4cG9ydCBjbGFzcyBET00ge1xyXG5cdC8qKlxyXG5cdCAqIERPTSBSZW5kZXJcclxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBkb21cclxuXHQgKiBAcGFyYW0ge0pTWC5MZXZpYXRoYW5FbGVtZW50fSBlbGVtZW50XHJcblx0ICogQHJldHVybnMge3N0cmluZ31cclxuXHQgKi9cclxuXHRzdGF0aWMgcmVuZGVyKGVsZW1lbnQsIGRvbSApIHtcclxuXHRcdGlmIChpc0Jyb3dzZXIoKSAmJiBkb20pIHtcclxuXHRcdFx0Ly8gVE9ETzogY3JlYXRlKGVsZW1lbnQpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHRcdHJldHVybiAnJzsgLy8gSW1wbGVtZW50IFNlcnZlciByZW5kZXJpbmcgYW5kIG91dHB1dHMgc3RyaW5nO1xyXG5cdH1cclxufVxyXG4iXSwibmFtZXMiOlsicm9vdCIsInNlbGYiLCJnbG9iYWwiLCJGdW5jdGlvbiIsIkFycmF5UHJvdG8iLCJBcnJheSIsInByb3RvdHlwZSIsIk9ialByb3RvIiwiT2JqZWN0IiwiU3ltYm9sUHJvdG8iLCJTeW1ib2wiLCJwdXNoIiwic2xpY2UiLCJ0b1N0cmluZyIsImhhc093blByb3BlcnR5IiwibmF0aXZlSXNBcnJheSIsImlzQXJyYXkiLCJuYXRpdmVLZXlzIiwia2V5cyIsIm5hdGl2ZUNyZWF0ZSIsImNyZWF0ZSIsIl9pc05hTiIsImlzTmFOIiwiX2lzRmluaXRlIiwiaXNGaW5pdGUiLCJDdG9yIiwiXyIsIm9iaiIsInRoaXMiLCJfd3JhcHBlZCIsIlZFUlNJT04iLCJvcHRpbWl6ZUNiIiwiZnVuYyIsImNvbnRleHQiLCJhcmdDb3VudCIsInZhbHVlIiwiY2FsbCIsImluZGV4IiwiY29sbGVjdGlvbiIsImFjY3VtdWxhdG9yIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJiYXNlSXRlcmF0ZWUiLCJpZGVudGl0eSIsImlzRnVuY3Rpb24iLCJpc09iamVjdCIsIm1hdGNoZXIiLCJwcm9wZXJ0eSIsIml0ZXJhdGVlIiwiSW5maW5pdHkiLCJjYiIsInJlc3RBcmd1bWVudHMiLCJzdGFydEluZGV4IiwibGVuZ3RoIiwiTWF0aCIsIm1heCIsInJlc3QiLCJhcmdzIiwiYmFzZUNyZWF0ZSIsInJlc3VsdCIsInNoYWxsb3dQcm9wZXJ0eSIsImtleSIsIl9oYXMiLCJwYXRoIiwiZGVlcEdldCIsImkiLCJNQVhfQVJSQVlfSU5ERVgiLCJwb3ciLCJnZXRMZW5ndGgiLCJpc0FycmF5TGlrZSIsImVhY2giLCJfa2V5cyIsIm1hcCIsInJlc3VsdHMiLCJjdXJyZW50S2V5IiwiY3JlYXRlUmVkdWNlIiwiZGlyIiwicmVkdWNlciIsIm1lbW8iLCJpbml0aWFsIiwicmVkdWNlIiwicmVkdWNlUmlnaHQiLCJmaW5kIiwicHJlZGljYXRlIiwiZmluZEluZGV4IiwiZmluZEtleSIsImZpbHRlciIsImxpc3QiLCJyZWplY3QiLCJuZWdhdGUiLCJldmVyeSIsInNvbWUiLCJjb250YWlucyIsIml0ZW0iLCJmcm9tSW5kZXgiLCJndWFyZCIsInZhbHVlcyIsImluZGV4T2YiLCJpbnZva2UiLCJjb250ZXh0UGF0aCIsIm1ldGhvZCIsInBsdWNrIiwid2hlcmUiLCJhdHRycyIsImZpbmRXaGVyZSIsImNvbXB1dGVkIiwibGFzdENvbXB1dGVkIiwidiIsIm1pbiIsInNodWZmbGUiLCJzYW1wbGUiLCJuIiwicmFuZG9tIiwiY2xvbmUiLCJsYXN0IiwicmFuZCIsInRlbXAiLCJzb3J0QnkiLCJjcml0ZXJpYSIsInNvcnQiLCJsZWZ0IiwicmlnaHQiLCJhIiwiYiIsImdyb3VwIiwiYmVoYXZpb3IiLCJwYXJ0aXRpb24iLCJncm91cEJ5IiwiaW5kZXhCeSIsImNvdW50QnkiLCJyZVN0clN5bWJvbCIsInRvQXJyYXkiLCJpc1N0cmluZyIsIm1hdGNoIiwic2l6ZSIsInBhc3MiLCJmaXJzdCIsImFycmF5IiwiY29tcGFjdCIsIkJvb2xlYW4iLCJfZmxhdHRlbiIsImlucHV0Iiwic2hhbGxvdyIsInN0cmljdCIsIm91dHB1dCIsImlkeCIsImlzQXJndW1lbnRzIiwiaiIsImxlbiIsImZsYXR0ZW4iLCJ3aXRob3V0Iiwib3RoZXJBcnJheXMiLCJkaWZmZXJlbmNlIiwidW5pcSIsImlzU29ydGVkIiwiaXNCb29sZWFuIiwic2VlbiIsInVuaW9uIiwiYXJyYXlzIiwiaW50ZXJzZWN0aW9uIiwiYXJnc0xlbmd0aCIsInVuemlwIiwiemlwIiwib2JqZWN0IiwiY3JlYXRlUHJlZGljYXRlSW5kZXhGaW5kZXIiLCJmaW5kTGFzdEluZGV4Iiwic29ydGVkSW5kZXgiLCJsb3ciLCJoaWdoIiwibWlkIiwiZmxvb3IiLCJjcmVhdGVJbmRleEZpbmRlciIsInByZWRpY2F0ZUZpbmQiLCJsYXN0SW5kZXhPZiIsInJhbmdlIiwic3RhcnQiLCJzdG9wIiwic3RlcCIsImNlaWwiLCJjaHVuayIsImNvdW50IiwiZXhlY3V0ZUJvdW5kIiwic291cmNlRnVuYyIsImJvdW5kRnVuYyIsImNhbGxpbmdDb250ZXh0IiwiYmluZCIsIlR5cGVFcnJvciIsImJvdW5kIiwiY2FsbEFyZ3MiLCJjb25jYXQiLCJwYXJ0aWFsIiwiYm91bmRBcmdzIiwicGxhY2Vob2xkZXIiLCJwb3NpdGlvbiIsImJpbmRBbGwiLCJFcnJvciIsIm1lbW9pemUiLCJoYXNoZXIiLCJjYWNoZSIsImFkZHJlc3MiLCJkZWxheSIsIndhaXQiLCJzZXRUaW1lb3V0IiwiZGVmZXIiLCJ0aHJvdHRsZSIsIm9wdGlvbnMiLCJ0aW1lb3V0IiwicHJldmlvdXMiLCJsYXRlciIsImxlYWRpbmciLCJub3ciLCJ0aHJvdHRsZWQiLCJfbm93IiwicmVtYWluaW5nIiwiY2xlYXJUaW1lb3V0IiwidHJhaWxpbmciLCJjYW5jZWwiLCJkZWJvdW5jZSIsImltbWVkaWF0ZSIsImRlYm91bmNlZCIsImNhbGxOb3ciLCJ3cmFwIiwid3JhcHBlciIsImNvbXBvc2UiLCJhZnRlciIsInRpbWVzIiwiYmVmb3JlIiwib25jZSIsImhhc0VudW1CdWciLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIm5vbkVudW1lcmFibGVQcm9wcyIsImNvbGxlY3ROb25FbnVtUHJvcHMiLCJub25FbnVtSWR4IiwiY29uc3RydWN0b3IiLCJwcm90byIsInByb3AiLCJhbGxLZXlzIiwibWFwT2JqZWN0IiwicGFpcnMiLCJpbnZlcnQiLCJmdW5jdGlvbnMiLCJuYW1lcyIsImNyZWF0ZUFzc2lnbmVyIiwia2V5c0Z1bmMiLCJkZWZhdWx0cyIsInNvdXJjZSIsImwiLCJleHRlbmQiLCJleHRlbmRPd24iLCJrZXlJbk9iaiIsInBpY2siLCJvbWl0IiwiU3RyaW5nIiwicHJvcHMiLCJ0YXAiLCJpbnRlcmNlcHRvciIsImlzTWF0Y2giLCJlcSIsImFTdGFjayIsImJTdGFjayIsInR5cGUiLCJjbGFzc05hbWUiLCJ2YWx1ZU9mIiwiYXJlQXJyYXlzIiwiYUN0b3IiLCJiQ3RvciIsInBvcCIsImRlZXBFcSIsImlzRXF1YWwiLCJpc0VtcHR5IiwiaXNFbGVtZW50Iiwibm9kZVR5cGUiLCJ0YWdUZXN0ZXIiLCJuYW1lIiwiaXNOdW1iZXIiLCJpc0RhdGUiLCJpc1JlZ0V4cCIsImlzRXJyb3IiLCJpc1N5bWJvbCIsImlzTWFwIiwiaXNXZWFrTWFwIiwiaXNTZXQiLCJpc1dlYWtTZXQiLCJub2RlbGlzdCIsImRvY3VtZW50IiwiY2hpbGROb2RlcyIsInBhcnNlRmxvYXQiLCJpc051bGwiLCJpc1VuZGVmaW5lZCIsImhhcyIsImNvbnN0YW50Iiwibm9vcCIsInByb3BlcnR5T2YiLCJhY2N1bSIsIkludDhBcnJheSIsIkRhdGUiLCJnZXRUaW1lIiwiZXNjYXBlTWFwIiwiJiIsIjwiLCI+IiwiXCIiLCInIiwiYCIsInVuZXNjYXBlTWFwIiwiY3JlYXRlRXNjYXBlciIsImVzY2FwZXIiLCJqb2luIiwidGVzdFJlZ2V4cCIsIlJlZ0V4cCIsInJlcGxhY2VSZWdleHAiLCJzdHJpbmciLCJ0ZXN0IiwicmVwbGFjZSIsImVzY2FwZSIsInVuZXNjYXBlIiwiZmFsbGJhY2siLCJpZENvdW50ZXIiLCJ1bmlxdWVJZCIsInByZWZpeCIsImlkIiwidGVtcGxhdGVTZXR0aW5ncyIsImV2YWx1YXRlIiwiaW50ZXJwb2xhdGUiLCJub01hdGNoIiwiZXNjYXBlcyIsIlxcIiwiXHIiLCJcbiIsIuKAqCIsIuKAqSIsImVzY2FwZVJlZ0V4cCIsImVzY2FwZUNoYXIiLCJ0ZW1wbGF0ZSIsInRleHQiLCJzZXR0aW5ncyIsIm9sZFNldHRpbmdzIiwicmVuZGVyIiwib2Zmc2V0IiwidmFyaWFibGUiLCJlIiwiZGF0YSIsImFyZ3VtZW50IiwiY2hhaW4iLCJpbnN0YW5jZSIsIl9jaGFpbiIsImNoYWluUmVzdWx0IiwibWl4aW4iLCJ0b0pTT04iLCJmYWN0b3J5IiwiJCIsInJlcXVpcmUkJDAiLCJyZXF1aXJlJCQxIiwiQmFja2JvbmUiLCJwcmV2aW91c0JhY2tib25lIiwibm9Db25mbGljdCIsImVtdWxhdGVIVFRQIiwiZW11bGF0ZUpTT04iLCJfbGlzdGVuaW5nIiwiRXZlbnRzIiwiZXZlbnRTcGxpdHRlciIsImV2ZW50c0FwaSIsImV2ZW50cyIsImNhbGxiYWNrIiwib3B0cyIsInNwbGl0Iiwib24iLCJfZXZlbnRzIiwib25BcGkiLCJjdHgiLCJsaXN0ZW5pbmciLCJfbGlzdGVuZXJzIiwiaW50ZXJvcCIsImxpc3RlblRvIiwiX2xpc3RlbklkIiwibGlzdGVuaW5nVG8iLCJfbGlzdGVuaW5nVG8iLCJMaXN0ZW5pbmciLCJlcnJvciIsInRyeUNhdGNoT24iLCJoYW5kbGVycyIsIm9mZiIsIm9mZkFwaSIsImxpc3RlbmVycyIsInN0b3BMaXN0ZW5pbmciLCJpZHMiLCJoYW5kbGVyIiwiX2NhbGxiYWNrIiwiY2xlYW51cCIsIm9uY2VNYXAiLCJsaXN0ZW5Ub09uY2UiLCJvZmZlciIsInRyaWdnZXIiLCJ0cmlnZ2VyQXBpIiwib2JqRXZlbnRzIiwiYWxsRXZlbnRzIiwiYWxsIiwidHJpZ2dlckV2ZW50cyIsImV2IiwiYTEiLCJhMiIsImEzIiwibGlzdGVuZXIiLCJ1bmJpbmQiLCJNb2RlbCIsImF0dHJpYnV0ZXMiLCJwcmVpbml0aWFsaXplIiwiY2lkIiwiY2lkUHJlZml4IiwicGFyc2UiLCJzZXQiLCJjaGFuZ2VkIiwiaW5pdGlhbGl6ZSIsInZhbGlkYXRpb25FcnJvciIsImlkQXR0cmlidXRlIiwic3luYyIsImdldCIsImF0dHIiLCJtYXRjaGVzIiwidmFsIiwiX3ZhbGlkYXRlIiwidW5zZXQiLCJzaWxlbnQiLCJjaGFuZ2VzIiwiY2hhbmdpbmciLCJfY2hhbmdpbmciLCJfcHJldmlvdXNBdHRyaWJ1dGVzIiwiY3VycmVudCIsInByZXYiLCJfcGVuZGluZyIsImNsZWFyIiwiaGFzQ2hhbmdlZCIsImNoYW5nZWRBdHRyaWJ1dGVzIiwiZGlmZiIsIm9sZCIsInByZXZpb3VzQXR0cmlidXRlcyIsImZldGNoIiwibW9kZWwiLCJzdWNjZXNzIiwicmVzcCIsInNlcnZlckF0dHJzIiwid3JhcEVycm9yIiwic2F2ZSIsInZhbGlkYXRlIiwiaXNOZXciLCJwYXRjaCIsInhociIsImRlc3Ryb3kiLCJ1cmwiLCJiYXNlIiwidXJsRXJyb3IiLCJlbmNvZGVVUklDb21wb25lbnQiLCJpc1ZhbGlkIiwiQ29sbGVjdGlvbiIsIm1vZGVscyIsImNvbXBhcmF0b3IiLCJfcmVzZXQiLCJyZXNldCIsInNldE9wdGlvbnMiLCJhZGQiLCJyZW1vdmUiLCJtZXJnZSIsImFkZE9wdGlvbnMiLCJzcGxpY2UiLCJpbnNlcnQiLCJhdCIsInRhaWwiLCJzaW5ndWxhciIsInJlbW92ZWQiLCJfcmVtb3ZlTW9kZWxzIiwiYWRkZWQiLCJtZXJnZWQiLCJfaXNNb2RlbCIsInRvQWRkIiwidG9NZXJnZSIsInRvUmVtb3ZlIiwibW9kZWxNYXAiLCJzb3J0YWJsZSIsInNvcnRBdHRyIiwiZXhpc3RpbmciLCJfcHJlcGFyZU1vZGVsIiwiX2FkZFJlZmVyZW5jZSIsIm9yZGVyQ2hhbmdlZCIsIm0iLCJfcmVtb3ZlUmVmZXJlbmNlIiwicHJldmlvdXNNb2RlbHMiLCJ1bnNoaWZ0Iiwic2hpZnQiLCJfYnlJZCIsIm1vZGVsSWQiLCJjYWxsYmFja09wdHMiLCJDb2xsZWN0aW9uSXRlcmF0b3IiLCJJVEVSQVRPUl9WQUxVRVMiLCJJVEVSQVRPUl9LRVlTIiwiZW50cmllcyIsIklURVJBVE9SX0tFWVNWQUxVRVMiLCJfb25Nb2RlbEV2ZW50IiwiZXZlbnQiLCJwcmV2SWQiLCIkJGl0ZXJhdG9yIiwiaXRlcmF0b3IiLCJraW5kIiwiX2NvbGxlY3Rpb24iLCJfa2luZCIsIl9pbmRleCIsIm5leHQiLCJkb25lIiwiVmlldyIsInZpZXdPcHRpb25zIiwiX2Vuc3VyZUVsZW1lbnQiLCJkZWxlZ2F0ZUV2ZW50U3BsaXR0ZXIiLCJ0YWdOYW1lIiwic2VsZWN0b3IiLCIkZWwiLCJfcmVtb3ZlRWxlbWVudCIsInNldEVsZW1lbnQiLCJlbGVtZW50IiwidW5kZWxlZ2F0ZUV2ZW50cyIsIl9zZXRFbGVtZW50IiwiZGVsZWdhdGVFdmVudHMiLCJlbCIsImRlbGVnYXRlIiwiZXZlbnROYW1lIiwidW5kZWxlZ2F0ZSIsIl9jcmVhdGVFbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsIl9zZXRBdHRyaWJ1dGVzIiwiYWRkTWV0aG9kIiwiYXR0cmlidXRlIiwiZGVmYXVsdFZhbCIsImFkZFVuZGVyc2NvcmVNZXRob2RzIiwiQ2xhc3MiLCJtZXRob2RzIiwibW9kZWxNYXRjaGVyIiwiY29sbGVjdGlvbk1ldGhvZHMiLCJmb3JFYWNoIiwiY29sbGVjdCIsImZvbGRsIiwiaW5qZWN0IiwiZm9sZHIiLCJkZXRlY3QiLCJzZWxlY3QiLCJhbnkiLCJpbmNsdWRlIiwiaW5jbHVkZXMiLCJoZWFkIiwidGFrZSIsImRyb3AiLCJtb2RlbE1ldGhvZHMiLCJjb25maWciLCJCYXNlIiwibWFwcGluZ3MiLCJtZXRob2RNYXAiLCJwYXJhbXMiLCJkYXRhVHlwZSIsImNvbnRlbnRUeXBlIiwiSlNPTiIsInN0cmluZ2lmeSIsIl9tZXRob2QiLCJiZWZvcmVTZW5kIiwic2V0UmVxdWVzdEhlYWRlciIsInByb2Nlc3NEYXRhIiwidGV4dFN0YXR1cyIsImVycm9yVGhyb3duIiwiYWpheCIsInVwZGF0ZSIsImRlbGV0ZSIsInJlYWQiLCJSb3V0ZXIiLCJyb3V0ZXMiLCJfYmluZFJvdXRlcyIsIm9wdGlvbmFsUGFyYW0iLCJuYW1lZFBhcmFtIiwic3BsYXRQYXJhbSIsInJvdXRlIiwiX3JvdXRlVG9SZWdFeHAiLCJyb3V0ZXIiLCJoaXN0b3J5IiwiZnJhZ21lbnQiLCJfZXh0cmFjdFBhcmFtZXRlcnMiLCJleGVjdXRlIiwibmF2aWdhdGUiLCJvcHRpb25hbCIsImV4ZWMiLCJwYXJhbSIsImRlY29kZVVSSUNvbXBvbmVudCIsIkhpc3RvcnkiLCJjaGVja1VybCIsIndpbmRvdyIsImxvY2F0aW9uIiwicm91dGVTdHJpcHBlciIsInJvb3RTdHJpcHBlciIsInBhdGhTdHJpcHBlciIsInN0YXJ0ZWQiLCJpbnRlcnZhbCIsImF0Um9vdCIsInBhdGhuYW1lIiwiZ2V0U2VhcmNoIiwibWF0Y2hSb290IiwiZGVjb2RlRnJhZ21lbnQiLCJkZWNvZGVVUkkiLCJocmVmIiwiZ2V0SGFzaCIsImdldFBhdGgiLCJjaGFyQXQiLCJnZXRGcmFnbWVudCIsIl91c2VQdXNoU3RhdGUiLCJfd2FudHNIYXNoQ2hhbmdlIiwiaGFzaENoYW5nZSIsIl9oYXNIYXNoQ2hhbmdlIiwiZG9jdW1lbnRNb2RlIiwiX3VzZUhhc2hDaGFuZ2UiLCJfd2FudHNQdXNoU3RhdGUiLCJwdXNoU3RhdGUiLCJfaGFzUHVzaFN0YXRlIiwicm9vdFBhdGgiLCJpZnJhbWUiLCJzcmMiLCJzdHlsZSIsImRpc3BsYXkiLCJ0YWJJbmRleCIsImJvZHkiLCJpV2luZG93IiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsImNvbnRlbnRXaW5kb3ciLCJvcGVuIiwiY2xvc2UiLCJoYXNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwiX2NoZWNrVXJsSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImxvYWRVcmwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGV0YWNoRXZlbnQiLCJyZW1vdmVDaGlsZCIsImNsZWFySW50ZXJ2YWwiLCJkZWNvZGVkRnJhZ21lbnQiLCJ0aXRsZSIsImFzc2lnbiIsIl91cGRhdGVIYXNoIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiY2hpbGQiLCJwYXJlbnQiLCJfX3N1cGVyX18iLCJleHBvcnRzIiwiQ29yZSIsIltvYmplY3QgT2JqZWN0XSIsImN0b3IiLCJmb3VuZCIsIl9mYWN0b3J5IiwiZmFjdG9yeUVsZW1lbnQiLCJMZXZpYXRoYW4iLCJOQU1FIiwicHJvY2VzcyIsImVudiIsIm5wbV9wYWNrYWdlX25hbWUiLCJucG1fcGFja2FnZV92ZXJzaW9uIiwiU3RvcmUiLCJzdGF0ZSIsIl9wcm9wcyIsInN0b3JlIiwiX3N0b3JlIiwiRE9NIiwiZG9tIl0sIm1hcHBpbmdzIjoiaUpBV0lBLEVBQXNCLGlCQUFSQyxNQUFvQkEsS0FBS0EsT0FBU0EsTUFBUUEsTUFDakMsaUJBQVZDLFFBQXNCQSxPQUFPQSxTQUFXQSxRQUFVQSxRQUN6REMsU0FBUyxjQUFU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
